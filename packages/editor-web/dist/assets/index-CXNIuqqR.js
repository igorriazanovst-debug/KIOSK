import{r as pe,b as Ie,g as Ne}from"./vendor-BTI42rwv.js";import{R as V,r as C,G as Q,a as E,T as P,I as We,L as te,b as ie,S as Ae,E as Re,C as Le,c as Pe,d as Fe,e as De}from"./konva-CBotBK3N.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))t(d);new MutationObserver(d=>{for(const s of d)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function n(d){const s={};return d.integrity&&(s.integrity=d.integrity),d.referrerPolicy&&(s.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?s.credentials="include":d.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(d){if(d.ep)return;d.ep=!0;const s=n(d);fetch(d.href,s)}})();var se={exports:{}},ee={};var he;function Me(){if(he)return ee;he=1;var r=pe(),a=Symbol.for("react.element"),n=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,d=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function i(l,o,c){var u,h={},x=null,g=null;c!==void 0&&(x=""+c),o.key!==void 0&&(x=""+o.key),o.ref!==void 0&&(g=o.ref);for(u in o)t.call(o,u)&&!s.hasOwnProperty(u)&&(h[u]=o[u]);if(l&&l.defaultProps)for(u in o=l.defaultProps,o)h[u]===void 0&&(h[u]=o[u]);return{$$typeof:a,type:l,key:x,ref:g,props:h,_owner:d.current}}return ee.Fragment=n,ee.jsx=i,ee.jsxs=i,ee}var ue;function Oe(){return ue||(ue=1,se.exports=Me()),se.exports}var e=Oe(),ne={},xe;function $e(){if(xe)return ne;xe=1;var r=Ie();return ne.createRoot=r.createRoot,ne.hydrateRoot=r.hydrateRoot,ne}var _e=$e();const Be=Ne(_e),He={},fe=r=>{let a;const n=new Set,t=(u,h)=>{const x=typeof u=="function"?u(a):u;if(!Object.is(x,a)){const g=a;a=h??(typeof x!="object"||x===null)?x:Object.assign({},a,x),n.forEach(y=>y(a,g))}},d=()=>a,o={setState:t,getState:d,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(He?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=a=r(t,d,o);return o},qe=r=>r?fe(r):fe;var oe={exports:{}},ae={},le={exports:{}},ce={};var ge;function Ue(){if(ge)return ce;ge=1;var r=pe();function a(h,x){return h===x&&(h!==0||1/h===1/x)||h!==h&&x!==x}var n=typeof Object.is=="function"?Object.is:a,t=r.useState,d=r.useEffect,s=r.useLayoutEffect,i=r.useDebugValue;function l(h,x){var g=x(),y=t({inst:{value:g,getSnapshot:x}}),j=y[0].inst,v=y[1];return s(function(){j.value=g,j.getSnapshot=x,o(j)&&v({inst:j})},[h,g,x]),d(function(){return o(j)&&v({inst:j}),h(function(){o(j)&&v({inst:j})})},[h]),i(g),g}function o(h){var x=h.getSnapshot;h=h.value;try{var g=x();return!n(h,g)}catch{return!0}}function c(h,x){return x()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:l;return ce.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:u,ce}var me;function Ve(){return me||(me=1,le.exports=Ue()),le.exports}var je;function Xe(){if(je)return ae;je=1;var r=pe(),a=Ve();function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var t=typeof Object.is=="function"?Object.is:n,d=a.useSyncExternalStore,s=r.useRef,i=r.useEffect,l=r.useMemo,o=r.useDebugValue;return ae.useSyncExternalStoreWithSelector=function(c,u,h,x,g){var y=s(null);if(y.current===null){var j={hasValue:!1,value:null};y.current=j}else j=y.current;y=l(function(){function N(L){if(!S){if(S=!0,z=L,L=x(L),g!==void 0&&j.hasValue){var p=j.value;if(g(p,L))return I=p}return I=L}if(p=I,t(z,L))return p;var b=x(L);return g!==void 0&&g(p,b)?(z=L,p):(z=L,I=b)}var S=!1,z,I,F=h===void 0?null:h;return[function(){return N(u())},F===null?void 0:function(){return N(F())}]},[u,h,x,g]);var v=d(c,y[0],y[1]);return i(function(){j.hasValue=!0,j.value=v},[v]),o(v),v},ae}var ye;function Ge(){return ye||(ye=1,oe.exports=Xe()),oe.exports}var Ke=Ge();const Ye=Ne(Ke),we={},{useDebugValue:Ze}=V,{useSyncExternalStoreWithSelector:Je}=Ye;let ve=!1;const Qe=r=>r;function et(r,a=Qe,n){(we?"production":void 0)!=="production"&&n&&!ve&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ve=!0);const t=Je(r.subscribe,r.getState,r.getServerState||r.getInitialState,a,n);return Ze(t),t}const be=r=>{(we?"production":void 0)!=="production"&&typeof r!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const a=typeof r=="function"?qe(r):r,n=(t,d)=>et(a,t,d);return Object.assign(n,a),n},tt=r=>r?be(r):be;class rt{baseUrl="";token=null;lastActivity=Date.now();inactivityTimer=null;INACTIVITY_TIMEOUT=1800*1e3;constructor(){this.loadToken(),this.startActivityMonitoring()}loadToken(){const a=localStorage.getItem("kiosk_auth_token");if(a)try{const n=JSON.parse(a);new Date(n.expiresAt)>new Date?this.token=n.token:this.clearToken()}catch(n){console.error("[API] Failed to parse stored token:",n),this.clearToken()}}saveToken(a,n,t,d){localStorage.setItem("kiosk_auth_token",JSON.stringify({token:a,expiresAt:n,organizationName:t,plan:d})),this.token=a}clearToken(){localStorage.removeItem("kiosk_auth_token"),this.token=null}isAuthenticated(){return this.token!==null}getToken(){return this.token}async loginWithLicense(a){const n=await this.request("/api/auth/license",{method:"POST",body:JSON.stringify({licenseKey:a})});if(n.token){const t=new Date(Date.now()+n.expiresIn*1e3).toISOString();this.saveToken(n.token,t,n.license.organizationName,n.license.plan)}return n}async refreshToken(){const a=await this.request("/api/auth/refresh",{method:"POST",authenticated:!0});if(a.token){const n=new Date(Date.now()+a.expiresIn*1e3).toISOString();this.saveToken(a.token,n,a.license.organizationName,a.license.plan)}return a}async verifyToken(){try{return await this.request("/api/auth/verify",{method:"GET",authenticated:!0}),!0}catch{return this.clearToken(),!1}}logout(){this.clearToken(),this.stopActivityMonitoring()}async getProjects(a){const n=new URLSearchParams;a?.search&&n.append("search",a.search),a?.tags&&n.append("tags",a.tags.join(",")),a?.isPublished!==void 0&&n.append("isPublished",String(a.isPublished)),a?.page&&n.append("page",String(a.page)),a?.limit&&n.append("limit",String(a.limit));const t=n.toString(),d=t?`/api/projects?${t}`:"/api/projects";return this.request(d,{method:"GET",authenticated:!0})}async createProject(a){return this.request("/api/projects",{method:"POST",authenticated:!0,body:JSON.stringify(a)})}async getProject(a){return this.request(`/api/projects/${a}`,{method:"GET",authenticated:!0})}async updateProject(a,n){return this.request(`/api/projects/${a}`,{method:"PUT",authenticated:!0,body:JSON.stringify(n)})}async deleteProject(a){await this.request(`/api/projects/${a}`,{method:"DELETE",authenticated:!0})}async getProjectFiles(a){return this.request(`/api/projects/${a}/files`,{method:"GET",authenticated:!0})}async uploadFile(a,n,t){const d=new FormData;return d.append("file",n),new Promise((s,i)=>{const l=new XMLHttpRequest;t&&l.upload.addEventListener("progress",o=>{if(o.lengthComputable){const c=o.loaded/o.total*100;t(c)}}),l.addEventListener("load",()=>{if(l.status===200||l.status===201)try{const o=JSON.parse(l.responseText);s(o.file||o)}catch{i(new Error("Failed to parse response"))}else try{const o=JSON.parse(l.responseText);i(new Error(o.message||`Upload failed: ${l.status}`))}catch{i(new Error(`Upload failed: ${l.status}`))}}),l.addEventListener("error",()=>{i(new Error("Network error"))}),l.open("POST",`/api/projects/${a}/files`),this.token&&l.setRequestHeader("Authorization",`Bearer ${this.token}`),l.send(d)})}async downloadFile(a,n){const t=await fetch(`/api/projects/${a}/files/${n}`,{method:"GET",headers:this.token?{Authorization:`Bearer ${this.token}`}:{}});if(!t.ok)throw new Error(`Download failed: ${t.status}`);return t.blob()}async deleteFile(a,n){await this.request(`/api/projects/${a}/files/${n}`,{method:"DELETE",authenticated:!0})}async getStorageStats(){return this.request("/api/storage/stats",{method:"GET",authenticated:!0})}updateActivity(){this.lastActivity=Date.now()}startActivityMonitoring(){["mousemove","keypress","click","scroll","touchstart"].forEach(n=>{window.addEventListener(n,()=>this.updateActivity(),{passive:!0})}),this.inactivityTimer=setInterval(()=>{if(!this.isAuthenticated())return;Date.now()-this.lastActivity>this.INACTIVITY_TIMEOUT&&(console.warn("[API] Session expired due to inactivity"),this.logout(),window.dispatchEvent(new CustomEvent("auth:logout",{detail:{reason:"inactivity"}})))},60*1e3)}stopActivityMonitoring(){this.inactivityTimer&&(clearInterval(this.inactivityTimer),this.inactivityTimer=null)}async request(a,n){const t=`${this.baseUrl}${a}`,d={"Content-Type":"application/json"};n.authenticated&&this.token&&(d.Authorization=`Bearer ${this.token}`);try{const s=await fetch(t,{method:n.method,headers:d,body:n.body});n.authenticated&&this.updateActivity();const i=await s.json();if(!s.ok)throw s.status===401&&n.authenticated&&(this.clearToken(),window.dispatchEvent(new CustomEvent("auth:unauthorized"))),new Error(i.message||i.error||`HTTP ${s.status}`);return i}catch(s){throw console.error(`[API] ${n.method} ${a} failed:`,s),s}}}const X=new rt;let J=null;function H(r,a=18e4){J&&clearTimeout(J),J=setTimeout(async()=>{try{console.log("[Editor] Auto-saving project..."),await r(),console.log("[Editor] Auto-save completed")}catch(n){console.error("[Editor] Auto-save failed:",n)}},a)}function Ee(){J&&(clearTimeout(J),J=null)}const q=tt((r,a)=>({project:{version:"1.0.0",name:"–ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç",canvas:{width:1920,height:1080,backgroundColor:"#1a1a1a"},widgets:[],metadata:{createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}},projectId:null,isLoading:!1,isSaving:!1,lastSaved:null,saveError:null,selectedWidgetIds:[],clipboard:[],history:{past:[],future:[]},zoom:1,gridEnabled:!0,snapToGrid:!0,gridSize:20,gridLineWidth:1,gridColor:"#e0e0e0",pendingWidget:null,createProject:async(n,t)=>{r({isLoading:!0,saveError:null});try{const d={version:"1.0",name:n,canvas:t,widgets:[],metadata:{createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}},s=await X.createProject({name:n,canvasWidth:t.width,canvasHeight:t.height,canvasBackground:t.backgroundColor||"#1a1a1a",projectData:d});r({project:{...d,id:s.id},projectId:s.id,isLoading:!1,lastSaved:new Date,history:{past:[],future:[]}}),console.log("[Editor] Project created:",s.id),H(a().saveProject)}catch(d){throw console.error("[Editor] Failed to create project:",d),r({isLoading:!1,saveError:d.message||"Failed to create project"}),d}},loadProject:async n=>{r({isLoading:!0,saveError:null});try{const t=await X.getProject(n),d={id:t.id,version:"1.0",name:t.name,canvas:{width:t.canvasWidth,height:t.canvasHeight,backgroundColor:t.canvasBackground},widgets:t.projectData?.widgets||[],metadata:{createdAt:t.createdAt,updatedAt:t.updatedAt}};r({project:d,projectId:t.id,isLoading:!1,lastSaved:new Date(t.updatedAt),history:{past:[],future:[]}}),console.log("[Editor] Project loaded:",n),H(a().saveProject)}catch(t){throw console.error("[Editor] Failed to load project:",t),r({isLoading:!1,saveError:t.message||"Failed to load project"}),t}},saveProject:async()=>{const{project:n,projectId:t,isSaving:d}=a();if(!n||!t){console.warn("[Editor] No project to save");return}if(d){console.warn("[Editor] Save already in progress");return}r({isSaving:!0,saveError:null});try{await X.updateProject(t,{name:n.name,projectData:n,canvasWidth:n.canvas.width,canvasHeight:n.canvas.height,canvasBackground:n.canvas.backgroundColor}),r({isSaving:!1,lastSaved:new Date,saveError:null}),console.log("[Editor] Project saved:",t)}catch(s){throw console.error("[Editor] Failed to save project:",s),r({isSaving:!1,saveError:s.message||"Failed to save project"}),s}},deleteProject:async n=>{try{await X.deleteProject(n),a().projectId===n&&(r({project:{version:"1.0.0",name:"–ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç",canvas:{width:1920,height:1080,backgroundColor:"#1a1a1a"},widgets:[],metadata:{createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}},projectId:null,selectedWidgetIds:[],history:{past:[],future:[]}}),Ee()),console.log("[Editor] Project deleted:",n)}catch(t){throw console.error("[Editor] Failed to delete project:",t),t}},updateProjectMetadata:n=>{const{project:t}=a();t&&(r({project:{...t,...n,metadata:{...t.metadata,updatedAt:new Date().toISOString()}}}),H(a().saveProject))},addWidget:n=>{const{project:t}=a();t&&(a().saveToHistory(),r({project:{...t,widgets:[...t.widgets,n],metadata:{...t.metadata,updatedAt:new Date().toISOString()}}}),H(a().saveProject))},setPendingWidget:(n,t)=>{r({pendingWidget:{type:n,defaultProps:t}})},clearPendingWidget:()=>{r({pendingWidget:null})},addWidgetAtPosition:(n,t)=>{const{pendingWidget:d,project:s,snapToGrid:i,gridSize:l}=a();if(!d||!s)return;let o=n,c=t;i&&(o=Math.round(n/l)*l,c=Math.round(t/l)*l);const h={shape:{width:200,height:200},button:{width:200,height:60},text:{width:300,height:100},image:{width:300,height:200},video:{width:640,height:360},menu:{width:600,height:40}}[d.type]||{width:200,height:100},x=d.defaultProps.width||h.width,g=d.defaultProps.height||h.height;o=o-x/2,c=c-g/2;const{width:y,height:j,...v}=d.defaultProps,N={id:`widget-${Date.now()}-${Math.random()}`,type:d.type,x:Math.max(0,o),y:Math.max(0,c),width:x,height:g,zIndex:0,properties:v};a().addWidget(N),a().clearPendingWidget()},updateWidget:(n,t)=>{const{project:d}=a();d&&(r({project:{...d,widgets:d.widgets.map(s=>s.id===n?{...s,...t}:s),metadata:{...d.metadata,updatedAt:new Date().toISOString()}}}),H(a().saveProject))},deleteWidget:n=>{const{project:t}=a();t&&(a().saveToHistory(),r({project:{...t,widgets:t.widgets.filter(d=>d.id!==n),metadata:{...t.metadata,updatedAt:new Date().toISOString()}},selectedWidgetIds:a().selectedWidgetIds.filter(d=>d!==n)}),H(a().saveProject))},duplicateWidget:n=>{const{project:t}=a();if(!t)return;const d=t.widgets.find(i=>i.id===n);if(!d)return;const s={...d,id:`widget-${Date.now()}`,x:d.x+20,y:d.y+20};a().addWidget(s)},selectWidget:(n,t=!1)=>{const{selectedWidgetIds:d}=a();t?d.includes(n)?r({selectedWidgetIds:d.filter(s=>s!==n)}):r({selectedWidgetIds:[...d,n]}):r({selectedWidgetIds:[n]})},clearSelection:()=>{r({selectedWidgetIds:[]})},saveToHistory:()=>{const{project:n,history:t}=a();n&&r({history:{past:[...t.past,n],future:[]}})},undo:()=>{const{history:n,project:t}=a();if(n.past.length===0||!t)return;const d=n.past[n.past.length-1],s=n.past.slice(0,-1);r({project:d,history:{past:s,future:[t,...n.future]}}),H(a().saveProject)},redo:()=>{const{history:n,project:t}=a();if(n.future.length===0||!t)return;const d=n.future[0],s=n.future.slice(1);r({project:d,history:{past:[...n.past,t],future:s}}),H(a().saveProject)},copy:()=>{const{project:n,selectedWidgetIds:t}=a();if(!n)return;const d=n.widgets.filter(s=>t.includes(s.id));r({clipboard:d})},paste:()=>{const{clipboard:n,project:t}=a();if(!t||n.length===0)return;const d=n.map(s=>({...s,id:`widget-${Date.now()}-${Math.random()}`,x:s.x+20,y:s.y+20}));a().saveToHistory(),r({project:{...t,widgets:[...t.widgets,...d]},selectedWidgetIds:d.map(s=>s.id)}),H(a().saveProject)},cut:()=>{const{selectedWidgetIds:n}=a();a().copy(),n.forEach(t=>a().deleteWidget(t))},setZoom:n=>{r({zoom:Math.max(.1,Math.min(5,n))})},toggleGrid:()=>{r(n=>({gridEnabled:!n.gridEnabled}))},toggleSnapToGrid:()=>{r(n=>({snapToGrid:!n.snapToGrid}))},setGridSize:n=>{r({gridSize:Math.max(5,Math.min(100,n))})}}));typeof window<"u"&&window.addEventListener("beforeunload",()=>{Ee()});var it={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nt=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),st=(r,a)=>{const n=C.forwardRef(({color:t="currentColor",size:d=24,strokeWidth:s=2,absoluteStrokeWidth:i,children:l,...o},c)=>C.createElement("svg",{ref:c,...it,width:d,height:d,stroke:t,strokeWidth:i?Number(s)*24/Number(d):s,className:`lucide lucide-${nt(r)}`,...o},[...a.map(([u,h])=>C.createElement(u,h)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${r}`,n};var R=st;const Te=R("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ot=R("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),at=R("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),lt=R("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),ct=R("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),dt=R("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),de=R("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),ze=R("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),pt=R("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ht=R("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ut=R("Magnet",[["path",{d:"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15",key:"1i3lhw"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}],["path",{d:"m12 15 4 4",key:"lnac28"}]]),xt=R("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ft=R("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]),gt=R("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),mt=R("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]),jt=R("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),yt=R("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),vt=R("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),bt=R("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),kt=R("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]),St=R("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),Ct=R("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Nt=R("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),wt=R("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Et=R("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Tt=R("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),zt=({onClose:r,onSuccess:a})=>{const[n,t]=C.useState(""),[d,s]=C.useState(!1),[i,l]=C.useState(null),o=x=>(x.replace(/[^A-Z0-9]/gi,"").toUpperCase().match(/.{1,4}/g)||[]).join("-").substring(0,19),c=x=>{const g=o(x.target.value);t(g),l(null)},u=async x=>{if(x.preventDefault(),n.length<19){l("–í–≤–µ–¥–∏—Ç–µ –ø–æ–ª–Ω—ã–π –∫–ª—é—á –ª–∏—Ü–µ–Ω–∑–∏–∏ (16 —Å–∏–º–≤–æ–ª–æ–≤)");return}s(!0),l(null);try{console.log("[LoginDialog] Attempting login, timestamp:",Date.now());const g=await X.loginWithLicense(n);console.log("[Auth] Login successful:",g),console.log("[LoginDialog] Calling onSuccess, timestamp:",Date.now()),a(g.license.organizationName||"Organization",g.license.plan),r(),r()}catch(g){console.error("[Auth] Login failed:",g),l(g.message||"–ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Ö–æ–¥. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á –ª–∏—Ü–µ–Ω–∑–∏–∏.")}finally{s(!1)}},h=x=>{x.preventDefault();const g=x.clipboardData.getData("text"),y=o(g);t(y)};return e.jsx("div",{className:"login-dialog-overlay",onClick:r,children:e.jsxs("div",{className:"login-dialog",onClick:x=>x.stopPropagation(),children:[e.jsxs("div",{className:"login-dialog-header",children:[e.jsxs("div",{className:"login-dialog-title",children:[e.jsx(de,{size:24}),e.jsx("h2",{children:"–í—Ö–æ–¥ –≤ Kiosk Editor"})]}),e.jsx("button",{className:"close-btn",onClick:r,title:"–ó–∞–∫—Ä—ã—Ç—å",children:e.jsx(wt,{size:20})})]}),e.jsxs("div",{className:"login-dialog-content",children:[e.jsx("p",{className:"login-description",children:"–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á –ª–∏—Ü–µ–Ω–∑–∏–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–¥–∞–∫—Ç–æ—Ä—É"}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"licenseKey",children:"–ö–ª—é—á –ª–∏—Ü–µ–Ω–∑–∏–∏"}),e.jsx("input",{type:"text",id:"licenseKey",placeholder:"XXXX-XXXX-XXXX-XXXX",value:n,onChange:c,onPaste:h,disabled:d,autoFocus:!0,maxLength:19,className:i?"error":""}),e.jsx("span",{className:"input-hint",children:"–§–æ—Ä–º–∞—Ç: 4 –≥—Ä—É–ø–ø—ã –ø–æ 4 —Å–∏–º–≤–æ–ª–∞"})]}),i&&e.jsxs("div",{className:"error-message",children:[e.jsx(Te,{size:16}),e.jsx("span",{children:i})]}),e.jsx("button",{type:"submit",className:"login-btn",disabled:d||n.length<19,children:d?e.jsxs(e.Fragment,{children:[e.jsx(ze,{size:18,className:"spinner"}),e.jsx("span",{children:"–í—Ö–æ–¥..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{size:18}),e.jsx("span",{children:"–í–æ–π—Ç–∏"})]})})]}),e.jsxs("div",{className:"test-keys-hint",children:[e.jsx("p",{children:"–¢–µ—Å—Ç–æ–≤—ã–µ –∫–ª—é—á–∏:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"BASIC:"})," ",e.jsx("code",{children:"EWZA-E5LJ-Z558-9LUQ"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"PRO:"})," ",e.jsx("code",{children:"3VBN-8ZQ9-1MKO-AK0R"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"MAX:"})," ",e.jsx("code",{children:"T8MH-FJE3-ETAC-YOZF"})]})]})]})]})]})})},It=()=>{const{isSaving:r,lastSaved:a,saveError:n}=q(),d=n?"error":r?"saving":a?"saved":"idle",s=l=>{const c=new Date().getTime()-l.getTime(),u=Math.floor(c/1e3),h=Math.floor(u/60);return u<10?"–¢–æ–ª—å–∫–æ —á—Ç–æ":u<60?`${u} —Å–µ–∫ –Ω–∞–∑–∞–¥`:h===1?"1 –º–∏–Ω –Ω–∞–∑–∞–¥":h<60?`${h} –º–∏–Ω –Ω–∞–∑–∞–¥`:l.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})},i=()=>{switch(d){case"saving":return e.jsxs(e.Fragment,{children:[e.jsx(ze,{size:16,className:"spinner"}),e.jsx("span",{children:"–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ..."})]});case"saved":return e.jsxs(e.Fragment,{children:[e.jsx(ot,{size:16}),e.jsxs("span",{children:["–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ ",a&&s(a)]})]});case"error":return e.jsxs(e.Fragment,{children:[e.jsx(Te,{size:16}),e.jsx("span",{title:n||void 0,children:"–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è"})]});default:return e.jsxs(e.Fragment,{children:[e.jsx(at,{size:16}),e.jsx("span",{children:"–ù–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ"})]})}};return e.jsx("div",{className:`autosave-indicator status-${d}`,children:i()})},Wt=()=>{const{project:r,history:a,zoom:n,gridEnabled:t,snapToGrid:d,undo:s,redo:i,setZoom:l,toggleGrid:o,toggleSnapToGrid:c,saveProject:u}=q(),[h,x]=C.useState(!1),[g,y]=C.useState(null),[j,v]=C.useState(null),[N,S]=C.useState(!1);C.useEffect(()=>{(async()=>{if(X.isAuthenticated())try{if(await X.verifyToken()){x(!0);const W=localStorage.getItem("kiosk_auth_token");if(W){const T=JSON.parse(W);y(T.organizationName||null),v(T.plan||null)}}else x(!1)}catch{x(!1)}else S(!0)})();const k=()=>{x(!1),y(null),v(null),S(!0)};return window.addEventListener("auth:logout",k),window.addEventListener("auth:unauthorized",k),()=>{window.removeEventListener("auth:logout",k),window.removeEventListener("auth:unauthorized",k)}},[]);const z=(f,k)=>{x(!0),y(f),v(k),console.log("[Toolbar] Login successful:",f,k),window.dispatchEvent(new CustomEvent("auth:login"))},I=()=>{confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?")&&(X.logout(),x(!1),y(null),v(null),S(!0))},F=async()=>{if(r)try{await u()}catch(f){console.error("[Toolbar] Save failed:",f),alert("–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–µ–∫—Ç")}},L=()=>l(n+.1),p=()=>l(n-.1),b=()=>l(1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"toolbar",children:[e.jsxs("div",{className:"toolbar-section",children:[h?e.jsxs("div",{className:"auth-section authenticated",children:[e.jsxs("div",{className:"user-info",children:[e.jsx(Ct,{size:16}),e.jsxs("div",{className:"user-details",children:[e.jsx("span",{className:"org-name",children:g||"Organization"}),e.jsx("span",{className:"plan-badge",children:j||"BASIC"})]})]}),e.jsx("button",{className:"toolbar-btn logout-btn",onClick:I,title:"–í—ã–π—Ç–∏",children:e.jsx(ht,{size:18})})]}):e.jsxs("button",{className:"toolbar-btn login-btn",onClick:()=>S(!0),title:"–í–æ–π—Ç–∏",children:[e.jsx(de,{size:18}),e.jsx("span",{children:"–í–æ–π—Ç–∏"})]}),e.jsx("div",{className:"toolbar-divider"}),e.jsxs("button",{className:"toolbar-btn",onClick:F,disabled:!r||!h,title:"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å (Ctrl+S)",children:[e.jsx(jt,{size:18}),e.jsx("span",{children:"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"})]}),e.jsxs("button",{className:"toolbar-btn",disabled:!h,title:"–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç",children:[e.jsx(lt,{size:18}),e.jsx("span",{children:"–û—Ç–∫—Ä—ã—Ç—å"})]})]}),e.jsxs("div",{className:"toolbar-section",children:[e.jsx("button",{className:"toolbar-btn",onClick:s,disabled:a.past.length===0,title:"–û—Ç–º–µ–Ω–∏—Ç—å (Ctrl+Z)",children:e.jsx(kt,{size:18})}),e.jsx("button",{className:"toolbar-btn",onClick:i,disabled:a.future.length===0,title:"–í–µ—Ä–Ω—É—Ç—å (Ctrl+Shift+Z)",children:e.jsx(mt,{size:18})}),e.jsx("div",{className:"toolbar-divider"}),e.jsx("button",{className:"toolbar-btn",onClick:p,disabled:n<=.1,title:"–£–º–µ–Ω—å—à–∏—Ç—å (Ctrl+-)",children:e.jsx(Tt,{size:18})}),e.jsxs("button",{className:"toolbar-btn zoom-display",onClick:b,title:"–°–±—Ä–æ—Å–∏—Ç—å –º–∞—Å—à—Ç–∞–± (Ctrl+0)",children:[Math.round(n*100),"%"]}),e.jsx("button",{className:"toolbar-btn",onClick:L,disabled:n>=5,title:"–£–≤–µ–ª–∏—á–∏—Ç—å (Ctrl+=)",children:e.jsx(Et,{size:18})}),e.jsx("div",{className:"toolbar-divider"}),e.jsx("button",{className:`toolbar-btn ${t?"active":""}`,onClick:o,title:"–ü–æ–∫–∞–∑–∞—Ç—å —Å–µ—Ç–∫—É",children:e.jsx(ct,{size:18})}),e.jsx("button",{className:`toolbar-btn ${d?"active":""}`,onClick:c,title:"–ü—Ä–∏–≤—è–∑–∫–∞ –∫ —Å–µ—Ç–∫–µ",children:e.jsx(ut,{size:18})})]}),e.jsxs("div",{className:"toolbar-section",children:[h&&r&&e.jsx(It,{}),e.jsx("div",{className:"toolbar-divider"}),e.jsxs("button",{className:"toolbar-btn preview-btn",disabled:!r,title:"–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä",children:[e.jsx(gt,{size:18}),e.jsx("span",{children:"–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä"})]})]})]}),N&&e.jsx(zt,{onClose:()=>S(!1),onSuccess:z})]})},At=({widget:r,isSelected:a,onSelect:n,onDragEnd:t,onTransformEnd:d,dragBoundFunc:s})=>{const i=C.useRef(null),l=C.useRef(null),{text:o="Button",backgroundColor:c="#2ecc71",textColor:u="#ffffff",fontSize:h=16,fontFamily:x="Arial",fontWeight:g="normal",fontStyle:y="normal",textAlign:j="center",borderRadius:v=8,borderWidth:N=0,borderColor:S="#000000",borderStyle:z="solid",paddingX:I=16,paddingY:F=8,shadowEnabled:L=!1,shadowColor:p="#000000",shadowBlur:b=10,shadowOffsetX:f=0,shadowOffsetY:k=4,shadowOpacity:_=.3}=r.properties,B=r.locked||!1,W=()=>{switch(z){case"dashed":return[10,5];case"dotted":return[3,3];default:return[]}};return e.jsxs(Q,{ref:i,id:r.id,x:r.x,y:r.y,width:r.width,height:r.height,rotation:r.rotation||0,draggable:!B,dragBoundFunc:s,opacity:B?.6:1,onClick:n,onTap:n,onDragEnd:t,onTransformEnd:d,children:[L&&e.jsx(E,{x:f,y:k,width:r.width,height:r.height,cornerRadius:v,fill:p,opacity:_,blur:b,listening:!1}),e.jsx(E,{width:r.width,height:r.height,fill:c,cornerRadius:v,stroke:N>0?S:void 0,strokeWidth:N,dash:W(),listening:!1}),e.jsx(P,{ref:l,text:o,x:I,y:0,width:r.width-I*2,height:r.height,fontSize:h,fontFamily:x,fontStyle:g==="bold"?"bold":y,fill:u,align:j,verticalAlign:"middle",listening:!1}),e.jsx(E,{width:r.width,height:r.height,fill:"transparent",listening:!0}),a&&e.jsx(E,{width:r.width,height:r.height,stroke:"#007acc",strokeWidth:2,cornerRadius:v,listening:!1})]})},Rt=({widget:r,isSelected:a,onSelect:n,onDragEnd:t,onTransformEnd:d,dragBoundFunc:s})=>{const i=C.useRef(null),{text:l="Text",fontSize:o=16,fontFamily:c="Arial",fontWeight:u="normal",fontStyle:h="normal",textAlign:x="left",verticalAlign:g="top",textColor:y="#000000",backgroundColor:j="#ffffff",lineHeight:v=1.2,padding:N=8,textDecoration:S="none"}=r.properties,z=r.locked||!1,I=()=>S==="underline"?"underline":S==="line-through"?"line-through":"";return e.jsxs(Q,{ref:i,id:r.id,x:r.x,y:r.y,width:r.width,height:r.height,rotation:r.rotation||0,draggable:!z,dragBoundFunc:s,opacity:z?.6:1,onClick:n,onTap:n,onDragEnd:t,onTransformEnd:d,children:[j!=="transparent"&&e.jsx(E,{width:r.width,height:r.height,fill:j,listening:!1}),e.jsx(P,{text:l,x:N,y:N,width:r.width-N*2,height:r.height-N*2,fontSize:o,fontFamily:c,fontStyle:u==="bold"?"bold":h,fill:y,align:x,verticalAlign:g,lineHeight:v,textDecoration:I(),listening:!1}),e.jsx(E,{width:r.width,height:r.height,fill:"transparent",listening:!0}),a&&e.jsx(E,{width:r.width,height:r.height,stroke:"#007acc",strokeWidth:2,listening:!1})]})},Lt=({widget:r,isSelected:a,onSelect:n,onDragEnd:t,onTransformEnd:d,dragBoundFunc:s})=>{const i=C.useRef(null),[l,o]=C.useState(0),{sources:c=[],autoNext:u=!0,loop:h=!0}=r.properties,x=r.locked||!1;return c[l],e.jsxs(Q,{ref:i,id:r.id,x:r.x,y:r.y,width:r.width,height:r.height,rotation:r.rotation||0,draggable:!x,dragBoundFunc:s,opacity:x?.6:1,onClick:n,onTap:n,onDragEnd:t,onTransformEnd:d,children:[e.jsx(E,{width:r.width,height:r.height,fill:"transparent",listening:!0}),e.jsx(E,{width:r.width,height:r.height,fill:"#000000",listening:!1}),e.jsx(P,{x:r.width/2,y:r.height/2-30,text:"‚ñ∂",fontSize:60,fill:"#ffffff",align:"center",width:r.width,offsetX:r.width/2,listening:!1}),e.jsx(P,{x:0,y:r.height/2+40,text:"PLAYLIST",fontSize:16,fill:"#ffffff",align:"center",width:r.width,listening:!1}),a&&e.jsx(E,{width:r.width,height:r.height,stroke:"#007acc",strokeWidth:2,listening:!1}),c.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(E,{x:r.width-50,y:r.height-25,width:45,height:20,fill:"rgba(0, 0, 0, 0.8)",cornerRadius:4,listening:!1}),e.jsx(P,{x:r.width-48,y:r.height-21,text:`üé¨ ${c.length}`,fontSize:12,fill:"#ffffff",listening:!1})]})]})},Pt=({widget:r,isSelected:a,onSelect:n,onDragEnd:t,onTransformEnd:d,dragBoundFunc:s})=>{if(r.properties.playlistMode)return e.jsx(Lt,{widget:r,isSelected:a,onSelect:n,onDragEnd:t,onTransformEnd:d,dragBoundFunc:s});const i=C.useRef(null),l=C.useRef(null),[o,c]=C.useState(null),u=C.useRef(),{sourceType:h="url",src:x="",rtspUrl:g="",isLocalFile:y=!1,fileName:j="",objectFit:v="contain",borderEnabled:N=!1,borderStyle:S="solid",borderWidth:z=2,borderColor:I="#000000",autoplay:F=!1,loop:L=!1,muted:p=!0,controls:b=!1}=r.properties;C.useEffect(()=>{const m=document.createElement("video");return m.crossOrigin="anonymous",m.loop=L,m.muted=p,m.playsInline=!0,h==="url"&&x?(m.src=x,m.onloadedmetadata=()=>{c(m),F&&m.play().catch(w=>{console.log("Autoplay prevented:",w)})},m.onerror=()=>{console.error("Failed to load video:",x),c(null)}):c(null),l.current=m,()=>{u.current&&cancelAnimationFrame(u.current),m.pause(),m.src="",m.load()}},[x,h,F,L,p]),C.useEffect(()=>{if(!o)return;const m=()=>{const w=i.current?.getLayer();w&&w.batchDraw(),u.current=requestAnimationFrame(m)};return u.current=requestAnimationFrame(m),()=>{u.current&&cancelAnimationFrame(u.current)}},[o]),C.useEffect(()=>{if(v!=="adaptive"||!o)return;const{updateWidget:m}=q.getState(),w=o.videoWidth/o.videoHeight||16/9,M=r.width/r.height;if(Math.abs(w-M)>.01){const O=r.width/w;m(r.id,{height:Math.round(O)})}},[v,o,r.width,r.height,r.id]);const k=(()=>{if(!o||o.videoWidth===0)return null;const{width:m,height:w}=r,M=o.videoWidth/o.videoHeight,O=m/w;let $=0,D=0,Z=o.videoWidth,U=o.videoHeight,G=0,re=0,K=m,Y=w;switch(v){case"cover":{M>O?(Z=o.videoHeight*O,$=(o.videoWidth-Z)/2):(U=o.videoWidth/O,D=(o.videoHeight-U)/2);break}case"contain":{M>O?(Y=m/M,re=(w-Y)/2):(K=w*M,G=(m-K)/2);break}case"scale-down":{o.videoWidth<=m&&o.videoHeight<=w?(K=o.videoWidth,Y=o.videoHeight,G=(m-K)/2,re=(w-Y)/2):M>O?(Y=m/M,re=(w-Y)/2):(K=w*M,G=(m-K)/2);break}}return{crop:{x:$,y:D,width:Z,height:U},position:{x:G,y:re,width:K,height:Y}}})(),_=m=>{switch(m){case"dashed":return[10,5];case"dotted":return[2,2];case"double":return[];default:return[]}},B=m=>{i.current&&d(m)},W=m=>{n(m),b&&o&&(o.paused?o.play():o.pause())},T=r.locked||!1,A=()=>h==="rtsp"&&g?`üìπ RTSP
${g.substring(0,30)}...`:h==="url"&&x?y&&j?`üìÅ ${j}`:`üé• –í–∏–¥–µ–æ
${x.substring(0,30)}...`:`üé• –í–∏–¥–µ–æ
–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏`;return e.jsxs(Q,{ref:i,id:r.id,x:r.x,y:r.y,width:r.width,height:r.height,rotation:r.rotation||0,draggable:!T,dragBoundFunc:s,opacity:T?.6:1,onClick:W,onTap:W,onDragEnd:t,onTransformEnd:B,children:[e.jsx(E,{width:r.width,height:r.height,fill:"transparent",listening:!0}),e.jsx(E,{width:r.width,height:r.height,fill:h==="rtsp"?"#2c3e50":"#f39c12",listening:!1}),o&&k?e.jsx(We,{image:o,x:k.position.x,y:k.position.y,width:k.position.width,height:k.position.height,crop:k.crop,listening:!1}):e.jsx(P,{text:A(),x:0,y:0,width:r.width,height:r.height,fontSize:14,fontFamily:"Arial",fill:"#ffffff",align:"center",verticalAlign:"middle",listening:!1}),h==="rtsp"&&e.jsx(E,{x:10,y:10,width:45,height:20,fill:"#ff0000",cornerRadius:4,listening:!1}),h==="rtsp"&&e.jsx(P,{text:"LIVE",x:10,y:13,width:45,fontSize:12,fontFamily:"Arial",fontWeight:"bold",fill:"#ffffff",align:"center",listening:!1}),o&&!o.paused&&e.jsx(P,{text:"‚ñ∂",x:r.width-30,y:10,fontSize:16,fontFamily:"Arial",fill:"#00ff00",listening:!1}),b&&o&&e.jsx(P,{text:o.paused?"‚è∏ –ü–∞—É–∑–∞":"‚ñ∂ –ò–≥—Ä–∞–µ—Ç",x:10,y:r.height-30,fontSize:12,fontFamily:"Arial",fill:"#ffffff",listening:!1}),a&&e.jsx(E,{width:r.width,height:r.height,stroke:"#007acc",strokeWidth:2,listening:!1}),N&&e.jsx(E,{width:r.width,height:r.height,stroke:I,strokeWidth:z,dash:_(S),listening:!1})]})},Ft=({widget:r,isSelected:a,onSelect:n,onDragEnd:t,onTransformEnd:d,dragBoundFunc:s})=>{const i=C.useRef(null),{shapeType:l="rectangle",fillColor:o="#4a90e2",strokeColor:c="#2c3e50",strokeWidth:u=0,cornerRadius:h=0,opacity:x=1}=r.properties,g=r.locked||!1,y=()=>{const j={fill:o,stroke:u>0?c:void 0,strokeWidth:u,opacity:x,listening:!1};switch(l){case"rectangle":return e.jsx(E,{x:0,y:0,width:r.width,height:r.height,cornerRadius:h,...j});case"circle":const v=Math.min(r.width,r.height)/2;return e.jsx(Le,{x:r.width/2,y:r.height/2,radius:v,...j});case"ellipse":return e.jsx(Re,{x:r.width/2,y:r.height/2,radiusX:r.width/2,radiusY:r.height/2,...j});case"triangle":return e.jsx(ie,{x:r.width/2,y:r.height/2,sides:3,radius:Math.min(r.width,r.height)/2,...j});case"pentagon":return e.jsx(ie,{x:r.width/2,y:r.height/2,sides:5,radius:Math.min(r.width,r.height)/2,...j});case"hexagon":return e.jsx(ie,{x:r.width/2,y:r.height/2,sides:6,radius:Math.min(r.width,r.height)/2,...j});case"star":return e.jsx(Ae,{x:r.width/2,y:r.height/2,numPoints:5,innerRadius:Math.min(r.width,r.height)/4,outerRadius:Math.min(r.width,r.height)/2,...j});case"diamond":return e.jsx(ie,{x:r.width/2,y:r.height/2,sides:4,radius:Math.min(r.width,r.height)/2,rotation:45,...j});case"line":return e.jsx(te,{points:[0,r.height/2,r.width,r.height/2],stroke:c,strokeWidth:Math.max(u,2),opacity:x,listening:!1});case"arrow":const N=r.width,S=r.height,z=S*.6,I=S*.4;return e.jsx(te,{points:[0,S/2-I/2,N-z,S/2-I/2,N-z,0,N,S/2,N-z,S,N-z,S/2+I/2,0,S/2+I/2],closed:!0,fill:o,stroke:u>0?c:void 0,strokeWidth:u,opacity:x,listening:!1});default:return e.jsx(E,{x:0,y:0,width:r.width,height:r.height,...j})}};return e.jsxs(Q,{ref:i,id:r.id,x:r.x,y:r.y,width:r.width,height:r.height,rotation:r.rotation||0,draggable:!g,dragBoundFunc:s,opacity:g?.6:1,onClick:n,onTap:n,onDragEnd:t,onTransformEnd:d,children:[e.jsx(E,{width:r.width,height:r.height,fill:"transparent",listening:!0}),y(),a&&e.jsx(E,{width:r.width,height:r.height,stroke:"#007acc",strokeWidth:2,listening:!1})]})},Dt=({widget:r,isSelected:a,onSelect:n,onDragEnd:t,onTransformEnd:d,dragBoundFunc:s})=>{const i=C.useRef(null),[l,o]=C.useState(null),[c,u]=C.useState(null),{orientation:h="horizontal",items:x=[{id:"1",label:"–ì–ª–∞–≤–Ω–∞—è"},{id:"2",label:"–û –Ω–∞—Å"},{id:"3",label:"–£—Å–ª—É–≥–∏",children:[{id:"3-1",label:"–£—Å–ª—É–≥–∞ 1"},{id:"3-2",label:"–£—Å–ª—É–≥–∞ 2"}]},{id:"4",label:"–ö–æ–Ω—Ç–∞–∫—Ç—ã"}],backgroundColor:g="#2c3e50",textColor:y="#ffffff",hoverColor:j="#34495e",fontSize:v=16,fontFamily:N="Arial",itemPadding:S=16,submenuBackgroundColor:z="#34495e",submenuTextColor:I="#ffffff",borderWidth:F=0,borderColor:L="#000000",itemHeight:p=40}=r.properties,b=r.locked||!1,f=h==="horizontal",k=W=>W.length*(v*.6)+S*2,_=()=>{const W=[];let T=0;return x.forEach((A,m)=>{const w=k(A.label),M=l===A.id,O=c===A.id,$=A.children&&A.children.length>0;W.push(e.jsx(E,{x:T,y:0,width:w,height:p,fill:M?j:g,listening:!0,onMouseEnter:()=>o(A.id),onMouseLeave:()=>o(null),onClick:()=>{$&&u(c===A.id?null:A.id)}},`bg-${A.id}`)),W.push(e.jsx(P,{x:T,y:0,width:w,height:p,text:A.label,fontSize:v,fontFamily:N,fill:y,align:"center",verticalAlign:"middle",listening:!1},`text-${A.id}`)),$&&W.push(e.jsx(P,{x:T+w-20,y:0,width:20,height:p,text:"‚ñº",fontSize:10,fill:y,align:"center",verticalAlign:"middle",listening:!1},`arrow-${A.id}`)),m<x.length-1&&W.push(e.jsx(te,{points:[T+w,5,T+w,p-5],stroke:L,strokeWidth:1,opacity:.3,listening:!1},`divider-${A.id}`)),O&&$&&A.children.forEach((D,Z)=>{const U=p+Z*p,G=Math.max(w,k(D.label));W.push(e.jsx(E,{x:T,y:U,width:G,height:p,fill:z,listening:!0,onMouseEnter:()=>o(D.id),onMouseLeave:()=>o(null)},`submenu-bg-${D.id}`)),W.push(e.jsx(P,{x:T+S/2,y:U,width:G-S/2,height:p,text:D.label,fontSize:v-2,fontFamily:N,fill:I,align:"left",verticalAlign:"middle",listening:!1},`submenu-text-${D.id}`))}),T+=w}),W},B=()=>{const W=[];let T=0;const A=r.width;return x.forEach((m,w)=>{const M=l===m.id,O=c===m.id,$=m.children&&m.children.length>0;W.push(e.jsx(E,{x:0,y:T,width:A,height:p,fill:M?j:g,listening:!0,onMouseEnter:()=>o(m.id),onMouseLeave:()=>o(null),onClick:()=>{$&&u(c===m.id?null:m.id)}},`bg-${m.id}`)),W.push(e.jsx(P,{x:S,y:T,width:A-S*2-($?20:0),height:p,text:m.label,fontSize:v,fontFamily:N,fill:y,align:"left",verticalAlign:"middle",listening:!1},`text-${m.id}`)),$&&W.push(e.jsx(P,{x:A-20,y:T,width:20,height:p,text:O?"‚ñº":"‚ñ∂",fontSize:10,fill:y,align:"center",verticalAlign:"middle",listening:!1},`arrow-${m.id}`)),T+=p,w<x.length-1&&!O&&W.push(e.jsx(te,{points:[10,T,A-10,T],stroke:L,strokeWidth:1,opacity:.3,listening:!1},`divider-${m.id}`)),O&&$&&(m.children.forEach((D,Z)=>{const U=l===D.id;W.push(e.jsx(E,{x:0,y:T,width:A,height:p,fill:U?j:z,listening:!0,onMouseEnter:()=>o(D.id),onMouseLeave:()=>o(null)},`submenu-bg-${D.id}`)),W.push(e.jsx(P,{x:S*2,y:T,width:A-S*3,height:p,text:D.label,fontSize:v-2,fontFamily:N,fill:I,align:"left",verticalAlign:"middle",listening:!1},`submenu-text-${D.id}`)),T+=p}),w<x.length-1&&W.push(e.jsx(te,{points:[10,T,A-10,T],stroke:L,strokeWidth:1,opacity:.3,listening:!1},`divider-after-${m.id}`)))}),W};return e.jsxs(Q,{ref:i,id:r.id,x:r.x,y:r.y,width:r.width,height:r.height,rotation:r.rotation||0,draggable:!b,dragBoundFunc:s,opacity:b?.6:1,onClick:n,onTap:n,onDragEnd:t,onTransformEnd:d,children:[e.jsx(E,{width:r.width,height:r.height,fill:"transparent",listening:!0}),e.jsx(E,{width:r.width,height:r.height,fill:g,listening:!1}),F>0&&e.jsx(E,{width:r.width,height:r.height,stroke:L,strokeWidth:F,listening:!1}),f?_():B(),a&&e.jsx(E,{width:r.width,height:r.height,stroke:"#007acc",strokeWidth:2,listening:!1})]})},Mt={shape:"#4a90e2",rectangle:"#4a90e2",button:"#2ecc71",text:"#e74c3c",image:"#9b59b6",video:"#f39c12"},Ot=()=>{const{project:r,selectedWidgetIds:a,selectWidget:n,clearSelection:t,updateWidget:d,zoom:s,gridEnabled:i,snapToGrid:l,gridSize:o,gridLineWidth:c,gridColor:u,pendingWidget:h,addWidgetAtPosition:x,clearPendingWidget:g}=q(),y=C.useRef(null),j=C.useRef(null),v=p=>l?Math.round(p/o)*o:p,N=p=>({x:v(p.x),y:v(p.y)});C.useEffect(()=>{if(!j.current||!r)return;const p=y.current,b=a.map(f=>r.widgets.find(_=>_.id===f)?.locked?null:p.findOne(`#${f}`)).filter(Boolean);j.current.nodes(b),j.current.getLayer().batchDraw()},[a,r]);const S=p=>{if(h){const k=p.target.getStage().getPointerPosition();k&&x(k.x,k.y);return}(p.target===p.target.getStage()||p.target.attrs.id==="canvas-background")&&t()},z=(p,b)=>{b.cancelBubble=!0;const f=b.evt.ctrlKey||b.evt.metaKey;n(p,f)},I=(p,b)=>{const f=v(b.target.x()),k=v(b.target.y());d(p,{x:f,y:k})},F=(p,b)=>{const f=b.target,k=f.scaleX(),_=f.scaleY();f.scaleX(1),f.scaleY(1);const B=f.width?f.width():f.attrs.width||100,W=f.height?f.height():f.attrs.height||100;let T=Math.max(10,B*k),A=Math.max(10,W*_),m=f.x(),w=f.y();l&&(T=v(T),A=v(A),m=v(m),w=v(w)),d(p,{x:m,y:w,width:T,height:A,rotation:f.rotation()})},L=()=>{if(!i)return null;const p=[],{width:b,height:f}=r.canvas;for(let k=0;k<=b/o;k++)p.push(e.jsx(E,{x:k*o,y:0,width:c,height:f,fill:u},`v-${k}`));for(let k=0;k<=f/o;k++)p.push(e.jsx(E,{x:0,y:k*o,width:b,height:c,fill:u},`h-${k}`));return p};return e.jsxs("div",{className:"canvas-container",children:[e.jsx("div",{className:"canvas-scroll",children:e.jsx("div",{className:"canvas-wrapper",style:{transform:`scale(${s})`,transformOrigin:"top left",cursor:h?"crosshair":"default"},children:e.jsx(Pe,{ref:y,width:r.canvas.width,height:r.canvas.height,onClick:S,onTap:S,children:e.jsxs(Fe,{children:[e.jsx(E,{id:"canvas-background",x:0,y:0,width:r.canvas.width,height:r.canvas.height,fill:r.canvas.backgroundColor||"#ffffff"}),L(),r.widgets.slice().sort((p,b)=>(p.zIndex||0)-(b.zIndex||0)).map(p=>{const b=p.locked||!1;return p.type==="image"?null:p.type==="button"?e.jsxs(V.Fragment,{children:[e.jsx(At,{widget:p,isSelected:a.includes(p.id),onSelect:f=>z(p.id,f),onDragEnd:f=>I(p.id,f),onTransformEnd:f=>F(p.id,f),dragBoundFunc:l?N:void 0}),b&&e.jsx(P,{x:p.x+5,y:p.y+5,text:"üîí",fontSize:16,listening:!1})]},p.id):p.type==="text"?e.jsxs(V.Fragment,{children:[e.jsx(Rt,{widget:p,isSelected:a.includes(p.id),onSelect:f=>z(p.id,f),onDragEnd:f=>I(p.id,f),onTransformEnd:f=>F(p.id,f),dragBoundFunc:l?N:void 0}),b&&e.jsx(P,{x:p.x+5,y:p.y+5,text:"üîí",fontSize:16,listening:!1})]},p.id):p.type==="video"?e.jsxs(V.Fragment,{children:[e.jsx(Pt,{widget:p,isSelected:a.includes(p.id),onSelect:f=>z(p.id,f),onDragEnd:f=>I(p.id,f),onTransformEnd:f=>F(p.id,f),dragBoundFunc:l?N:void 0}),b&&e.jsx(P,{x:p.x+5,y:p.y+5,text:"üîí",fontSize:16,listening:!1})]},p.id):p.type==="shape"||p.type==="rectangle"?e.jsxs(V.Fragment,{children:[e.jsx(Ft,{widget:p,isSelected:a.includes(p.id),onSelect:f=>z(p.id,f),onDragEnd:f=>I(p.id,f),onTransformEnd:f=>F(p.id,f),dragBoundFunc:l?N:void 0}),b&&e.jsx(P,{x:p.x+5,y:p.y+5,text:"üîí",fontSize:16,listening:!1})]},p.id):p.type==="menu"?e.jsxs(V.Fragment,{children:[e.jsx(Dt,{widget:p,isSelected:a.includes(p.id),onSelect:f=>z(p.id,f),onDragEnd:f=>I(p.id,f),onTransformEnd:f=>F(p.id,f),dragBoundFunc:l?N:void 0}),b&&e.jsx(P,{x:p.x+5,y:p.y+5,text:"üîí",fontSize:16,listening:!1})]},p.id):e.jsxs(V.Fragment,{children:[e.jsx(E,{id:p.id,x:p.x,y:p.y,width:p.width,height:p.height,rotation:p.rotation||0,fill:Mt[p.type]||"#4a90e2",stroke:a.includes(p.id)?"#007acc":void 0,strokeWidth:a.includes(p.id)?2:0,opacity:b?.6:1,draggable:!b,onClick:f=>z(p.id,f),onTap:f=>z(p.id,f),onDragEnd:f=>I(p.id,f),onTransformEnd:f=>F(p.id,f)}),b&&e.jsx(P,{x:p.x+5,y:p.y+5,text:"üîí",fontSize:16,listening:!1})]},p.id)}),e.jsx(De,{ref:j,boundBoxFunc:(p,b)=>b.width<10||b.height<10?p:b})]})})})}),e.jsxs("div",{className:"canvas-info",children:[e.jsxs("span",{children:[r.canvas.width," √ó ",r.canvas.height," px"]}),a.length>0&&e.jsxs("span",{children:["–í—ã–±—Ä–∞–Ω–æ: ",a.length]})]})]})},$t=()=>{const{project:r,selectedWidgetIds:a,selectWidget:n,updateWidget:t,deleteWidget:d}=q();if(!r)return null;const s=o=>({shape:"üî∑",rectangle:"üî∑",text:"üìù",button:"üîò",image:"üñºÔ∏è",video:"üé¨",menu:"üçî"})[o]||"‚¨ú",i=o=>{if(o.properties.text){const c=o.properties.text.substring(0,20);return c.length<o.properties.text.length?`${c}...`:c}return o.properties.items?`–ú–µ–Ω—é (${o.properties.items.length} –ø—É–Ω–∫—Ç–æ–≤)`:o.type.charAt(0).toUpperCase()+o.type.slice(1)},l=[...r.widgets].sort((o,c)=>(c.zIndex||0)-(o.zIndex||0));return e.jsxs("div",{className:"outline-panel",children:[e.jsxs("div",{className:"outline-header",children:[e.jsx("h3",{children:"–°—Ç—Ä—É–∫—Ç—É—Ä–∞"}),e.jsxs("span",{className:"outline-count",children:[r.widgets.length," –≤–∏–¥–∂–µ—Ç–æ–≤"]})]}),e.jsx("div",{className:"outline-list",children:l.length===0?e.jsxs("div",{className:"outline-empty",children:[e.jsx("p",{children:"–ù–µ—Ç –≤–∏–¥–∂–µ—Ç–æ–≤"}),e.jsx("span",{children:"–î–æ–±–∞–≤—å—Ç–µ –≤–∏–¥–∂–µ—Ç—ã –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏"})]}):l.map(o=>{const c=a.includes(o.id),u=o.locked||!1;return e.jsxs("div",{className:`outline-item ${c?"selected":""} ${u?"locked":""}`,onClick:()=>n(o.id,!1),children:[e.jsxs("div",{className:"outline-item-main",children:[e.jsx("span",{className:"outline-icon",children:s(o.type)}),e.jsxs("div",{className:"outline-info",children:[e.jsx("span",{className:"outline-label",children:i(o)}),e.jsxs("span",{className:"outline-meta",children:[o.width,"√ó",o.height," ‚Ä¢ z:",o.zIndex||0]})]})]}),e.jsxs("div",{className:"outline-actions",onClick:h=>h.stopPropagation(),children:[e.jsx("button",{className:"outline-action-btn",onClick:()=>{t(o.id,{locked:!u})},title:u?"–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å":"–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å",children:u?e.jsx(pt,{size:14}):e.jsx(St,{size:14})}),e.jsx("button",{className:"outline-action-btn delete",onClick:()=>{window.confirm(`–£–¥–∞–ª–∏—Ç—å –≤–∏–¥–∂–µ—Ç "${i(o)}"?`)&&d(o.id)},title:"–£–¥–∞–ª–∏—Ç—å",children:e.jsx(vt,{size:14})})]})]},o.id)})})]})},_t=()=>{const{addWidget:r,project:a}=q(),n=[{type:"shape",name:"–§–∏–≥—É—Ä–∞",icon:yt,defaultProps:{shapeType:"rectangle",fillColor:"#4a90e2",strokeColor:"#2c3e50",strokeWidth:0,cornerRadius:0,opacity:1}},{type:"button",name:"–ö–Ω–æ–ø–∫–∞",icon:ft,defaultProps:{text:"–ù–∞–∂–º–∏ –º–µ–Ω—è",backgroundColor:"#4a90e2",textColor:"#ffffff"}},{type:"text",name:"–¢–µ–∫—Å—Ç",icon:bt,defaultProps:{text:"–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç",fontSize:24,color:"#000000"}},{type:"image",name:"–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ",icon:dt,defaultProps:{src:""}},{type:"video",name:"–í–∏–¥–µ–æ",icon:Nt,defaultProps:{src:"",autoplay:!1,loop:!1}},{type:"menu",name:"–ú–µ–Ω—é",icon:xt,defaultProps:{orientation:"horizontal",items:[{id:"1",label:"–ì–ª–∞–≤–Ω–∞—è"},{id:"2",label:"–û –Ω–∞—Å"},{id:"3",label:"–£—Å–ª—É–≥–∏",children:[{id:"3-1",label:"–£—Å–ª—É–≥–∞ 1"},{id:"3-2",label:"–£—Å–ª—É–≥–∞ 2"}]},{id:"4",label:"–ö–æ–Ω—Ç–∞–∫—Ç—ã"}],backgroundColor:"#2c3e50",textColor:"#ffffff",hoverColor:"#34495e",fontSize:16,fontFamily:"Arial",itemPadding:16,submenuBackgroundColor:"#34495e",submenuTextColor:"#ffffff",borderWidth:0,borderColor:"#000000",itemHeight:40}}],t=(d,s)=>{if(!a)return;const{setPendingWidget:i}=q.getState();i(d,s)};return e.jsxs("div",{className:"widget-library panel",children:[e.jsx("div",{className:"widget-library-header",children:e.jsx("h3",{children:"–í–∏–¥–∂–µ—Ç—ã"})}),e.jsx("div",{className:"widget-library-content",children:n.map(d=>{const s=d.icon;return e.jsxs("button",{className:"widget-item",onClick:()=>t(d.type,d.defaultProps),title:`–î–æ–±–∞–≤–∏—Ç—å ${d.name}`,children:[e.jsx(s,{size:24}),e.jsx("span",{children:d.name})]},d.type)})}),e.jsx("div",{className:"widget-library-footer",children:e.jsx("button",{className:"btn-secondary",style:{width:"100%",fontSize:"12px"},children:"+ –ò–º–ø–æ—Ä—Ç –≤–∏–¥–∂–µ—Ç–∞"})}),e.jsx($t,{})]})},Bt="modulepreload",Ht=function(r){return"/"+r},ke={},Se=function(a,n,t){let d=Promise.resolve();if(n&&n.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");d=o(n.map(c=>{if(c=Ht(c),c in ke)return;ke[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const x=document.createElement("link");if(x.rel=u?"stylesheet":Bt,u||(x.as="script"),x.crossOrigin="",x.href=c,l&&x.setAttribute("nonce",l),document.head.appendChild(x),u)return new Promise((g,y)=>{x.addEventListener("load",g),x.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return d.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return a().catch(s)})},Ce=({widget:r,onUpdate:a,allWidgets:n})=>{const t=r.properties.actions||[],d=()=>{const l={type:"url",url:""};a([...t,l])},s=(l,o)=>{const c=[...t];c[l]={...c[l],...o},a(c)},i=l=>{const o=t.filter((c,u)=>u!==l);a(o)};return e.jsxs("div",{className:"action-editor",children:[e.jsx("h4",{style:{marginBottom:"12px",fontSize:"12px",color:"#aaa"},children:"–î–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –∫–ª–∏–∫–µ"}),t.length===0&&e.jsx("div",{style:{padding:"16px",background:"#252525",borderRadius:"6px",textAlign:"center",color:"#888",fontSize:"13px",marginBottom:"12px"},children:"–ù–µ—Ç –¥–µ–π—Å—Ç–≤–∏–π. –î–æ–±–∞–≤—å—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∏–∂–µ."}),t.map((l,o)=>e.jsxs("div",{className:"action-item",children:[e.jsxs("div",{className:"action-header",children:[e.jsxs("span",{className:"action-number",children:["#",o+1]}),e.jsx("button",{className:"btn-danger-small",onClick:()=>i(o),title:"–£–¥–∞–ª–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ",children:"üóëÔ∏è"})]}),e.jsxs("div",{className:"action-body",children:[e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¢–∏–ø –¥–µ–π—Å—Ç–≤–∏—è"}),e.jsxs("select",{value:l.type,onChange:c=>s(o,{type:c.target.value}),children:[e.jsx("option",{value:"url",children:"üîó –û—Ç–∫—Ä—ã—Ç—å URL"}),e.jsx("option",{value:"page",children:"üìÑ –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É"}),e.jsx("option",{value:"popup",children:"üí¨ –ü–æ–∫–∞–∑–∞—Ç—å popup"}),e.jsx("option",{value:"widget_show",children:"üëÅÔ∏è –ü–æ–∫–∞–∑–∞—Ç—å –≤–∏–¥–∂–µ—Ç"}),e.jsx("option",{value:"widget_hide",children:"üôà –°–∫—Ä—ã—Ç—å –≤–∏–¥–∂–µ—Ç"}),e.jsx("option",{value:"video_play",children:"‚ñ∂Ô∏è –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –≤–∏–¥–µ–æ"}),e.jsx("option",{value:"video_stop",children:"‚è∏Ô∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–∏–¥–µ–æ"})]})]}),l.type==="url"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"URL –∞–¥—Ä–µ—Å"}),e.jsx("input",{type:"text",value:l.url||"",onChange:c=>s(o,{url:c.target.value}),placeholder:"https://example.com"})]}),e.jsx("div",{className:"property-field",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:l.openInNewTab||!1,onChange:c=>s(o,{openInNewTab:c.target.checked})}),"–û—Ç–∫—Ä—ã—Ç—å –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ"]})})]}),l.type==="page"&&e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"ID —Å—Ç—Ä–∞–Ω–∏—Ü—ã"}),e.jsx("input",{type:"text",value:l.pageId||"",onChange:c=>s(o,{pageId:c.target.value}),placeholder:"page-1"}),e.jsx("div",{style:{fontSize:"11px",color:"#888",marginTop:"4px"},children:"–£–∫–∞–∂–∏—Ç–µ ID —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞"})]}),l.type==="popup"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–ó–∞–≥–æ–ª–æ–≤–æ–∫ popup"}),e.jsx("input",{type:"text",value:l.popupTitle||"",onChange:c=>s(o,{popupTitle:c.target.value}),placeholder:"–ó–∞–≥–æ–ª–æ–≤–æ–∫"})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–°–æ–¥–µ—Ä–∂–∏–º–æ–µ popup"}),e.jsx("textarea",{value:l.popupContent||"",onChange:c=>s(o,{popupContent:c.target.value}),rows:4,placeholder:"–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è..."})]}),e.jsxs("div",{style:{display:"flex",gap:"12px"},children:[e.jsxs("div",{className:"property-field",style:{flex:1},children:[e.jsx("label",{children:"–®–∏—Ä–∏–Ω–∞ (px)"}),e.jsx("input",{type:"number",value:l.popupWidth||400,onChange:c=>s(o,{popupWidth:parseInt(c.target.value)}),min:200,max:1e3})]}),e.jsxs("div",{className:"property-field",style:{flex:1},children:[e.jsx("label",{children:"–í—ã—Å–æ—Ç–∞ (px)"}),e.jsx("input",{type:"number",value:l.popupHeight||300,onChange:c=>s(o,{popupHeight:parseInt(c.target.value)}),min:150,max:800})]})]})]}),(l.type==="widget_show"||l.type==="widget_hide")&&e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¶–µ–ª–µ–≤–æ–π –≤–∏–¥–∂–µ—Ç"}),e.jsxs("select",{value:l.targetWidgetId||"",onChange:c=>s(o,{targetWidgetId:c.target.value}),children:[e.jsx("option",{value:"",children:"–í—ã–±–µ—Ä–∏—Ç–µ –≤–∏–¥–∂–µ—Ç..."}),n.filter(c=>c.id!==r.id).map(c=>e.jsxs("option",{value:c.id,children:[c.type," - ",c.id]},c.id))]})]}),(l.type==="video_play"||l.type==="video_stop")&&e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–í–∏–¥–µ–æ –≤–∏–¥–∂–µ—Ç"}),e.jsxs("select",{value:l.targetWidgetId||"",onChange:c=>s(o,{targetWidgetId:c.target.value}),children:[e.jsx("option",{value:"",children:"–í—ã–±–µ—Ä–∏—Ç–µ –≤–∏–¥–µ–æ..."}),n.filter(c=>c.type==="video").map(c=>e.jsxs("option",{value:c.id,children:["Video - ",c.id]},c.id))]})]})]})]},o)),e.jsx("button",{className:"btn-secondary",onClick:d,style:{width:"100%",marginTop:"8px"},children:"‚ûï –î–æ–±–∞–≤–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ"})]})},qt=()=>{const{project:r,selectedWidgetIds:a,updateWidget:n}=q();if(!r)return null;const t=a.length===1?r.widgets.find(i=>i.id===a[0]):null,d=(i,l)=>{t&&n(t.id,{[i]:l})},s=(i,l)=>{t&&n(t.id,{properties:{...t.properties,[i]:l}})};return t?e.jsxs("div",{className:"properties-panel panel",children:[e.jsxs("div",{className:"properties-header",children:[e.jsx("h3",{children:"–°–≤–æ–π—Å—Ç–≤–∞"}),e.jsx("span",{className:"widget-type-badge",children:t.type})]}),e.jsxs("div",{className:"properties-content",children:[e.jsxs("div",{className:"property-section",children:[e.jsx("h4",{children:"–ü–æ–∑–∏—Ü–∏—è –∏ —Ä–∞–∑–º–µ—Ä"}),e.jsxs("div",{className:"property-row",children:[e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"X"}),e.jsx("input",{type:"number",value:Math.round(t.x),onChange:i=>d("x",parseFloat(i.target.value))})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"Y"}),e.jsx("input",{type:"number",value:Math.round(t.y),onChange:i=>d("y",parseFloat(i.target.value))})]})]}),e.jsxs("div",{className:"property-row",children:[e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–®–∏—Ä–∏–Ω–∞"}),e.jsx("input",{type:"number",value:Math.round(t.width),onChange:i=>d("width",parseFloat(i.target.value)),min:1})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–í—ã—Å–æ—Ç–∞"}),e.jsx("input",{type:"number",value:Math.round(t.height),onChange:i=>d("height",parseFloat(i.target.value)),min:1})]})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–ü–æ–≤–æ—Ä–æ—Ç (–≥—Ä–∞–¥—É—Å—ã)"}),e.jsx("input",{type:"number",value:Math.round(t.rotation||0),onChange:i=>d("rotation",parseFloat(i.target.value))})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"Z-Index (–ø–æ—Ä—è–¥–æ–∫)"}),e.jsx("input",{type:"number",min:"0",value:t.zIndex||0,onChange:i=>d("zIndex",Math.max(0,parseInt(i.target.value)||0))}),e.jsxs("div",{style:{marginTop:"8px",display:"flex",gap:"4px"},children:[e.jsx("button",{className:"btn-secondary",onClick:()=>{},style:{flex:1,fontSize:"11px",padding:"4px"},title:"–ù–∞ –ø–µ—Ä–µ–¥–Ω–∏–π –ø–ª–∞–Ω",children:"‚¨ÜÔ∏è –ù–∞–≤–µ—Ä—Ö"}),e.jsx("button",{className:"btn-secondary",onClick:()=>{},style:{flex:1,fontSize:"11px",padding:"4px"},title:"–ù–∞ –∑–∞–¥–Ω–∏–π –ø–ª–∞–Ω",children:"‚¨áÔ∏è –í–Ω–∏–∑"})]})]}),e.jsxs("div",{className:"property-field",style:{marginTop:"12px"},children:[e.jsx("button",{className:t.locked?"btn-danger":"btn-secondary",onClick:()=>{},style:{width:"100%"},children:t.locked?"üîí –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å":"üîì –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å"}),t.locked&&e.jsx("div",{style:{fontSize:"11px",color:"#888",marginTop:"4px"},children:"–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–∏–¥–∂–µ—Ç –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å —Ä–∞–∑–º–µ—Ä"})]})]}),e.jsxs("div",{className:"property-section",children:[e.jsx("h4",{children:"–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∏–¥–∂–µ—Ç–∞"}),t.type==="shape"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¢–∏–ø —Ñ–∏–≥—É—Ä—ã"}),e.jsxs("select",{value:t.properties.shapeType||"rectangle",onChange:i=>s("shapeType",i.target.value),children:[e.jsx("option",{value:"rectangle",children:"–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫"}),e.jsx("option",{value:"circle",children:"–ö—Ä—É–≥"}),e.jsx("option",{value:"ellipse",children:"–≠–ª–ª–∏–ø—Å"}),e.jsx("option",{value:"triangle",children:"–¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫"}),e.jsx("option",{value:"pentagon",children:"–ü—è—Ç–∏—É–≥–æ–ª—å–Ω–∏–∫"}),e.jsx("option",{value:"hexagon",children:"–®–µ—Å—Ç–∏—É–≥–æ–ª—å–Ω–∏–∫"}),e.jsx("option",{value:"star",children:"–ó–≤–µ–∑–¥–∞"}),e.jsx("option",{value:"diamond",children:"–†–æ–º–±"}),e.jsx("option",{value:"line",children:"–õ–∏–Ω–∏—è"}),e.jsx("option",{value:"arrow",children:"–°—Ç—Ä–µ–ª–∫–∞"})]})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–ó–∞–ª–∏–≤–∫–∞"}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¶–≤–µ—Ç –∑–∞–ª–∏–≤–∫–∏"}),e.jsx("input",{type:"color",value:t.properties.fillColor||"#4a90e2",onChange:i=>s("fillColor",i.target.value)})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å"}),e.jsx("input",{type:"range",value:(t.properties.opacity||1)*100,onChange:i=>s("opacity",parseInt(i.target.value)/100),min:0,max:100}),e.jsxs("span",{style:{fontSize:"11px",color:"#888"},children:[Math.round((t.properties.opacity||1)*100),"%"]})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–ö–æ–Ω—Ç—É—Ä"}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¢–æ–ª—â–∏–Ω–∞ –∫–æ–Ω—Ç—É—Ä–∞"}),e.jsx("input",{type:"number",value:t.properties.strokeWidth||0,onChange:i=>s("strokeWidth",parseInt(i.target.value)),min:0,max:20})]}),t.properties.strokeWidth>0&&e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¶–≤–µ—Ç –∫–æ–Ω—Ç—É—Ä–∞"}),e.jsx("input",{type:"color",value:t.properties.strokeColor||"#2c3e50",onChange:i=>s("strokeColor",i.target.value)})]}),t.properties.shapeType==="rectangle"&&e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–°–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤"}),e.jsx("input",{type:"number",value:t.properties.cornerRadius||0,onChange:i=>s("cornerRadius",parseInt(i.target.value)),min:0,max:100})]})]}),t.type==="button"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–°—Ç–∏–ª—å –∫–Ω–æ–ø–∫–∏"}),e.jsxs("select",{onChange:i=>{const l=i.target.value;l!=="custom"&&Se(async()=>{const{buttonStyles:o}=await import("./buttonStyles-VsZJSFTR.js");return{buttonStyles:o}},[]).then(({buttonStyles:o})=>{const c=o.find(u=>u.name===l);c&&n(t.id,{properties:{...t.properties,...c.properties}})})},children:[e.jsx("option",{value:"custom",children:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π"}),e.jsx("option",{value:"–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é",children:"–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é"}),e.jsx("option",{value:"–û—Å–Ω–æ–≤–Ω–∞—è",children:"–û—Å–Ω–æ–≤–Ω–∞—è (—Å–∏–Ω—è—è —Å —Ç–µ–Ω—å—é)"}),e.jsx("option",{value:"–£—Å–ø–µ—Ö",children:"–£—Å–ø–µ—Ö (–∑–µ–ª—ë–Ω–∞—è)"}),e.jsx("option",{value:"–û–ø–∞—Å–Ω–æ—Å—Ç—å",children:"–û–ø–∞—Å–Ω–æ—Å—Ç—å (–∫—Ä–∞—Å–Ω–∞—è)"}),e.jsx("option",{value:"–ö–æ–Ω—Ç—É—Ä–Ω–∞—è",children:"–ö–æ–Ω—Ç—É—Ä–Ω–∞—è"}),e.jsx("option",{value:"–ü—Ä–∏–∑—Ä–∞–∫",children:"–ü—Ä–∏–∑—Ä–∞–∫"}),e.jsx("option",{value:"–ì—Ä–∞–¥–∏–µ–Ω—Ç",children:"–ì—Ä–∞–¥–∏–µ–Ω—Ç"}),e.jsx("option",{value:"–ú–∏–Ω–∏–º–∞–ª–∏–∑–º",children:"–ú–∏–Ω–∏–º–∞–ª–∏–∑–º"}),e.jsx("option",{value:"–ù–µ–æ–Ω",children:"–ù–µ–æ–Ω"}),e.jsx("option",{value:"–ö–ª–∞—Å—Å–∏–∫–∞",children:"–ö–ª–∞—Å—Å–∏–∫–∞"})]})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–¢–µ–∫—Å—Ç"}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏"}),e.jsx("input",{type:"text",value:t.properties.text||"Button",onChange:i=>s("text",i.target.value)})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞"}),e.jsx("input",{type:"number",value:t.properties.fontSize||16,onChange:i=>s("fontSize",parseInt(i.target.value)),min:8,max:72})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–®—Ä–∏—Ñ—Ç"}),e.jsxs("select",{value:t.properties.fontFamily||"Arial",onChange:i=>s("fontFamily",i.target.value),children:[e.jsx("option",{value:"Arial",children:"Arial"}),e.jsx("option",{value:"Helvetica",children:"Helvetica"}),e.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),e.jsx("option",{value:"Courier New",children:"Courier New"}),e.jsx("option",{value:"Verdana",children:"Verdana"}),e.jsx("option",{value:"Georgia",children:"Georgia"})]})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–ù–∞—á–µ—Ä—Ç–∞–Ω–∏–µ"}),e.jsxs("select",{value:t.properties.fontWeight||"normal",onChange:i=>s("fontWeight",i.target.value),children:[e.jsx("option",{value:"normal",children:"–û–±—ã—á–Ω—ã–π"}),e.jsx("option",{value:"bold",children:"–ñ–∏—Ä–Ω—ã–π"})]})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ"}),e.jsxs("select",{value:t.properties.textAlign||"center",onChange:i=>s("textAlign",i.target.value),children:[e.jsx("option",{value:"left",children:"–ü–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é"}),e.jsx("option",{value:"center",children:"–ü–æ —Ü–µ–Ω—Ç—Ä—É"}),e.jsx("option",{value:"right",children:"–ü–æ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é"})]})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞"}),e.jsx("input",{type:"color",value:t.properties.textColor||"#ffffff",onChange:i=>s("textColor",i.target.value)})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–§–æ–Ω"}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¶–≤–µ—Ç —Ñ–æ–Ω–∞"}),e.jsx("input",{type:"color",value:t.properties.backgroundColor||"#2ecc71",onChange:i=>s("backgroundColor",i.target.value)})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–°–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤"}),e.jsx("input",{type:"number",value:t.properties.borderRadius||8,onChange:i=>s("borderRadius",parseInt(i.target.value)),min:0,max:50})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–†–∞–º–∫–∞"}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¢–æ–ª—â–∏–Ω–∞ —Ä–∞–º–∫–∏"}),e.jsx("input",{type:"number",value:t.properties.borderWidth||0,onChange:i=>s("borderWidth",parseInt(i.target.value)),min:0,max:10})]}),t.properties.borderWidth>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¶–≤–µ—Ç —Ä–∞–º–∫–∏"}),e.jsx("input",{type:"color",value:t.properties.borderColor||"#000000",onChange:i=>s("borderColor",i.target.value)})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–°—Ç–∏–ª—å —Ä–∞–º–∫–∏"}),e.jsxs("select",{value:t.properties.borderStyle||"solid",onChange:i=>s("borderStyle",i.target.value),children:[e.jsx("option",{value:"solid",children:"–°–ø–ª–æ—à–Ω–∞—è"}),e.jsx("option",{value:"dashed",children:"–®—Ç—Ä–∏—Ö–æ–≤–∞—è"}),e.jsx("option",{value:"dotted",children:"–ü—É–Ω–∫—Ç–∏—Ä–Ω–∞—è"})]})]})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–¢–µ–Ω—å"}),e.jsx("div",{className:"property-field",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:t.properties.shadowEnabled||!1,onChange:i=>s("shadowEnabled",i.target.checked)}),"–í–∫–ª—é—á–∏—Ç—å —Ç–µ–Ω—å"]})}),t.properties.shadowEnabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¶–≤–µ—Ç —Ç–µ–Ω–∏"}),e.jsx("input",{type:"color",value:t.properties.shadowColor||"#000000",onChange:i=>s("shadowColor",i.target.value)})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–†–∞–∑–º—ã—Ç–∏–µ"}),e.jsx("input",{type:"number",value:t.properties.shadowBlur||10,onChange:i=>s("shadowBlur",parseInt(i.target.value)),min:0,max:50})]}),e.jsxs("div",{className:"property-row",children:[e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–°–º–µ—â–µ–Ω–∏–µ X"}),e.jsx("input",{type:"number",value:t.properties.shadowOffsetX||0,onChange:i=>s("shadowOffsetX",parseInt(i.target.value)),min:-50,max:50})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–°–º–µ—â–µ–Ω–∏–µ Y"}),e.jsx("input",{type:"number",value:t.properties.shadowOffsetY||4,onChange:i=>s("shadowOffsetY",parseInt(i.target.value)),min:-50,max:50})]})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å"}),e.jsx("input",{type:"range",value:(t.properties.shadowOpacity||.3)*100,onChange:i=>s("shadowOpacity",parseInt(i.target.value)/100),min:0,max:100}),e.jsxs("span",{style:{fontSize:"11px",color:"#888"},children:[Math.round((t.properties.shadowOpacity||.3)*100),"%"]})]})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–î–µ–π—Å—Ç–≤–∏—è"}),e.jsx(Ce,{widget:t,onUpdate:i=>{n(t.id,{properties:{...t.properties,actions:i}})},allWidgets:r.widgets})]}),t.type==="text"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¢–µ–∫—Å—Ç"}),e.jsx("textarea",{value:t.properties.text||"Text",onChange:i=>s("text",i.target.value),rows:6})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª"}),e.jsx("input",{type:"file",accept:".txt,.pdf,.odt,.docx",onChange:async i=>{const l=i.target.files?.[0];if(l)try{const{extractTextFromFile:o,loadRequiredLibraries:c}=await Se(async()=>{const{extractTextFromFile:h,loadRequiredLibraries:x}=await import("./fileTextExtractor-HZqzU4jo.js");return{extractTextFromFile:h,loadRequiredLibraries:x}},[]);c(),s("text","–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞...");const u=await o(l);n(t.id,{properties:{...t.properties,text:u,sourceFile:l.name}})}catch(o){console.error("Error loading file:",o),alert(`–û—à–∏–±–∫–∞: ${o instanceof Error?o.message:"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª"}`),s("text","Text")}i.target.value=""}}),e.jsx("div",{style:{fontSize:"11px",color:"#888",marginTop:"4px"},children:"–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è: TXT, PDF, ODT, DOCX"}),t.properties.sourceFile&&e.jsxs("div",{style:{fontSize:"11px",color:"#888",marginTop:"4px"},children:["üìÑ ",t.properties.sourceFile]})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–®—Ä–∏—Ñ—Ç"}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞"}),e.jsx("input",{type:"number",value:t.properties.fontSize||16,onChange:i=>s("fontSize",parseInt(i.target.value)),min:8,max:144})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–°–µ–º–µ–π—Å—Ç–≤–æ —à—Ä–∏—Ñ—Ç–∞"}),e.jsxs("select",{value:t.properties.fontFamily||"Arial",onChange:i=>s("fontFamily",i.target.value),children:[e.jsx("option",{value:"Arial",children:"Arial"}),e.jsx("option",{value:"Helvetica",children:"Helvetica"}),e.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),e.jsx("option",{value:"Courier New",children:"Courier New"}),e.jsx("option",{value:"Verdana",children:"Verdana"}),e.jsx("option",{value:"Georgia",children:"Georgia"}),e.jsx("option",{value:"Comic Sans MS",children:"Comic Sans MS"}),e.jsx("option",{value:"Impact",children:"Impact"})]})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–ù–∞—á–µ—Ä—Ç–∞–Ω–∏–µ"}),e.jsxs("select",{value:t.properties.fontWeight||"normal",onChange:i=>s("fontWeight",i.target.value),children:[e.jsx("option",{value:"normal",children:"–û–±—ã—á–Ω—ã–π"}),e.jsx("option",{value:"bold",children:"–ñ–∏—Ä–Ω—ã–π"})]})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–°—Ç–∏–ª—å"}),e.jsxs("select",{value:t.properties.fontStyle||"normal",onChange:i=>s("fontStyle",i.target.value),children:[e.jsx("option",{value:"normal",children:"–û–±—ã—á–Ω—ã–π"}),e.jsx("option",{value:"italic",children:"–ö—É—Ä—Å–∏–≤"})]})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–î–µ–∫–æ—Ä–∞—Ü–∏—è"}),e.jsxs("select",{value:t.properties.textDecoration||"none",onChange:i=>s("textDecoration",i.target.value),children:[e.jsx("option",{value:"none",children:"–ù–µ—Ç"}),e.jsx("option",{value:"underline",children:"–ü–æ–¥—á—ë—Ä–∫–Ω—É—Ç—ã–π"}),e.jsx("option",{value:"line-through",children:"–ó–∞—á—ë—Ä–∫–Ω—É—Ç—ã–π"})]})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ"}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–ü–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏"}),e.jsxs("select",{value:t.properties.textAlign||"left",onChange:i=>s("textAlign",i.target.value),children:[e.jsx("option",{value:"left",children:"–ü–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é"}),e.jsx("option",{value:"center",children:"–ü–æ —Ü–µ–Ω—Ç—Ä—É"}),e.jsx("option",{value:"right",children:"–ü–æ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é"})]})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–ü–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏"}),e.jsxs("select",{value:t.properties.verticalAlign||"top",onChange:i=>s("verticalAlign",i.target.value),children:[e.jsx("option",{value:"top",children:"–°–≤–µ—Ä—Ö—É"}),e.jsx("option",{value:"middle",children:"–ü–æ —Ü–µ–Ω—Ç—Ä—É"}),e.jsx("option",{value:"bottom",children:"–°–Ω–∏–∑—É"})]})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–¶–≤–µ—Ç–∞ –∏ —Ñ–æ–Ω"}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞"}),e.jsx("input",{type:"color",value:t.properties.textColor||"#000000",onChange:i=>s("textColor",i.target.value)})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¶–≤–µ—Ç —Ñ–æ–Ω–∞"}),e.jsx("input",{type:"color",value:t.properties.backgroundColor||"#ffffff",onChange:i=>s("backgroundColor",i.target.value)}),e.jsxs("label",{style:{marginTop:"4px",fontSize:"11px"},children:[e.jsx("input",{type:"checkbox",checked:t.properties.backgroundColor==="transparent",onChange:i=>s("backgroundColor",i.target.checked?"transparent":"#ffffff")}),"–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω"]})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ"}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–ú–µ–∂—Å—Ç—Ä–æ—á–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª"}),e.jsx("input",{type:"number",value:t.properties.lineHeight||1.2,onChange:i=>s("lineHeight",parseFloat(i.target.value)),min:.5,max:3,step:.1})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–û—Ç—Å—Ç—É–ø –æ—Ç –∫—Ä–∞—è"}),e.jsx("input",{type:"number",value:t.properties.padding||8,onChange:i=>s("padding",parseInt(i.target.value)),min:0,max:50})]})]}),t.type==="image"&&e.jsxs(e.Fragment,{children:[e.jsx("h4",{style:{marginTop:"0",marginBottom:"12px",fontSize:"13px",fontWeight:"bold"},children:"–†–µ–∂–∏–º"}),e.jsx("div",{className:"property-field",children:e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:"imageMode",checked:!t.properties.galleryMode,onChange:()=>s("galleryMode",!1)})," ","–û–¥–∏–Ω–æ—á–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ"]})}),e.jsx("div",{className:"property-field",children:e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:"imageMode",checked:t.properties.galleryMode||!1,onChange:()=>{s("galleryMode",!0),t.properties.sources||s("sources",[])}})," ","–ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π"]})}),!t.properties.galleryMode&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è"}),e.jsx("input",{type:"text",value:t.properties.src||"",onChange:i=>s("src",i.target.value),placeholder:"https://example.com/image.jpg"})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª"}),e.jsx("input",{type:"file",accept:"image/*",onChange:i=>{const l=i.target.files?.[0];if(l){const o=new FileReader;o.onload=c=>{const u=c.target?.result;u&&n(t.id,{properties:{...t.properties,src:u,isLocalFile:!0,fileName:l.name}})},o.readAsDataURL(l)}i.target.value=""}}),t.properties.isLocalFile&&t.properties.fileName&&e.jsxs("div",{style:{fontSize:"11px",color:"#888",marginTop:"4px"},children:["üìÅ ",t.properties.fileName]})]})]}),t.properties.galleryMode&&e.jsxs(e.Fragment,{children:[e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–ò—Å—Ç–æ—á–Ω–∏–∫–∏ (–º–∞–∫—Å. 50)"}),e.jsxs("div",{style:{maxHeight:"200px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"4px",padding:"8px",marginBottom:"8px",backgroundColor:"#fafafa"},children:[(t.properties.sources||[]).map((i,l)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px",padding:"6px",backgroundColor:"#fff",borderRadius:"4px",border:"1px solid #e0e0e0"},children:[e.jsxs("span",{style:{fontSize:"11px",color:"#666",minWidth:"20px"},children:[l+1,"."]}),e.jsx("span",{style:{fontSize:"11px",color:i.type==="url"?"#007acc":"#2ecc71"},children:i.type==="url"?"üåê":"üì∑"}),e.jsx("span",{style:{flex:1,fontSize:"11px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:i.value.length>40?i.value.substring(0,40)+"...":i.value}),e.jsx("button",{onClick:()=>{const o=(t.properties.sources||[]).filter((c,u)=>u!==l);s("sources",o)},style:{padding:"2px 6px",fontSize:"10px",border:"none",background:"#e74c3c",color:"#fff",borderRadius:"3px",cursor:"pointer"},children:"‚úï"})]},i.id)),(!t.properties.sources||t.properties.sources.length===0)&&e.jsx("div",{style:{textAlign:"center",color:"#999",fontSize:"11px",padding:"20px"},children:"–ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –≥–∞–ª–µ—Ä–µ–µ"})]}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,id:`gallery-upload-${t.id}`,style:{display:"none"},onChange:i=>{const l=Array.from(i.target.files||[]),o=t.properties.sources||[];if(o.length+l.length>50){alert("–ú–∞–∫—Å–∏–º—É–º 50 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –≥–∞–ª–µ—Ä–µ–µ"),i.target.value="";return}let c=0;const u=[];l.forEach(h=>{const x=new FileReader;x.onload=g=>{const y=g.target?.result;y&&u.push({id:`img-${Date.now()}-${Math.random()}`,type:"local",value:y}),c++,c===l.length&&s("sources",[...o,...u])},x.readAsDataURL(h)}),i.target.value=""}}),e.jsx("button",{onClick:()=>{document.getElementById(`gallery-upload-${t.id}`)?.click()},className:"btn-secondary",style:{flex:1,fontSize:"11px",padding:"6px"},children:"üì∑ –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã"}),e.jsx("button",{onClick:()=>{const i=prompt("–í–≤–µ–¥–∏—Ç–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:");if(i){const l=t.properties.sources||[];if(l.length>=50){alert("–ú–∞–∫—Å–∏–º—É–º 50 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –≥–∞–ª–µ—Ä–µ–µ");return}s("sources",[...l,{id:`img-${Date.now()}-${Math.random()}`,type:"url",value:i}])}},className:"btn-secondary",style:{flex:1,fontSize:"11px",padding:"6px"},children:"üåê –î–æ–±–∞–≤–∏—Ç—å URL"})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–ê–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ"}),e.jsx("div",{className:"property-field",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:t.properties.autoSwitch||!1,onChange:i=>s("autoSwitch",i.target.checked)})," ","–í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ"]})}),t.properties.autoSwitch&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–ò–Ω—Ç–µ—Ä–≤–∞–ª (—Å–µ–∫—É–Ω–¥—ã)"}),e.jsx("input",{type:"number",min:"1",max:"60",value:t.properties.switchInterval||3,onChange:i=>s("switchInterval",parseInt(i.target.value)||3)})]})}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–≠—Ñ—Ñ–µ–∫—Ç—ã –ø–µ—Ä–µ—Ö–æ–¥–∞"}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–≠—Ñ—Ñ–µ–∫—Ç"}),e.jsxs("select",{value:t.properties.transition||"fade",onChange:i=>s("transition",i.target.value),children:[e.jsx("option",{value:"none",children:"–ù–µ—Ç (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ)"}),e.jsx("option",{value:"fade",children:"–ó–∞—Ç—É—Ö–∞–Ω–∏–µ"}),e.jsx("option",{value:"slide",children:"–°–∫–æ–ª—å–∂–µ–Ω–∏–µ"}),e.jsx("option",{value:"zoom",children:"–£–≤–µ–ª–∏—á–µ–Ω–∏–µ"})]})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º—Å)"}),e.jsx("input",{type:"number",min:"100",max:"2000",step:"100",value:t.properties.transitionDuration||500,onChange:i=>s("transitionDuration",parseInt(i.target.value)||500)})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–ö–æ–Ω—Ç—Ä–æ–ª—ã"}),e.jsx("div",{className:"property-field",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:t.properties.showControls!==!1,onChange:i=>s("showControls",i.target.checked)})," ","–ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–µ–ª–∫–∏"]})}),e.jsx("div",{className:"property-field",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:t.properties.showIndicators!==!1,onChange:i=>s("showIndicators",i.target.checked)})," ","–ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã"]})}),e.jsx("div",{className:"property-field",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:t.properties.loop!==!1,onChange:i=>s("loop",i.target.checked)})," ","–ó–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ"]})})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¢–∏–ø –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è"}),e.jsxs("select",{value:t.properties.objectFit||"contain",onChange:i=>s("objectFit",i.target.value),children:[e.jsx("option",{value:"contain",children:"–ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–≤–ø–∏—Å–∞—Ç—å)"}),e.jsx("option",{value:"cover",children:"–ó–∞–ø–æ–ª–Ω–∏—Ç—å –≤–µ—Å—å –≤–∏–¥–∂–µ—Ç"}),e.jsx("option",{value:"fill",children:"–†–∞—Å—Ç—è–Ω—É—Ç—å"}),e.jsx("option",{value:"scale-down",children:"–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä"}),e.jsx("option",{value:"adaptive",children:"–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π (–∏–∑–º–µ–Ω–∏—Ç—å –≤–∏–¥–∂–µ—Ç)"})]})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–§–æ—Ä–º–∞ –æ–±—Ä–µ–∑–∫–∏"}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–§–æ—Ä–º–∞"}),e.jsxs("select",{value:t.properties.clipShape||"rectangle",onChange:i=>s("clipShape",i.target.value),children:[e.jsx("option",{value:"rectangle",children:"‚¨ú –ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫"}),e.jsx("option",{value:"circle",children:"‚ö´ –ö—Ä—É–≥"}),e.jsx("option",{value:"ellipse",children:"üî¥ –≠–ª–ª–∏–ø—Å"}),e.jsx("option",{value:"triangle",children:"üî∫ –¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫"}),e.jsx("option",{value:"diamond",children:"üî∂ –†–æ–º–±"}),e.jsx("option",{value:"pentagon",children:"‚¨¢ –ü—è—Ç–∏—É–≥–æ–ª—å–Ω–∏–∫"}),e.jsx("option",{value:"hexagon",children:"‚¨° –®–µ—Å—Ç–∏—É–≥–æ–ª—å–Ω–∏–∫"}),e.jsx("option",{value:"octagon",children:"‚≠ê –í–æ—Å—å–º–∏—É–≥–æ–ª—å–Ω–∏–∫"}),e.jsx("option",{value:"rounded-rectangle",children:"üè∑Ô∏è –ó–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–π –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫"})]})]}),t.properties.clipShape==="rounded-rectangle"&&e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–†–∞–¥–∏—É—Å —É–≥–ª–æ–≤ (px)"}),e.jsx("input",{type:"number",min:"0",max:"100",value:t.properties.cornerRadius||20,onChange:i=>s("cornerRadius",parseInt(i.target.value)||20)})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–†–∞–º–∫–∞"}),e.jsx("div",{className:"property-field",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:t.properties.borderEnabled||!1,onChange:i=>s("borderEnabled",i.target.checked)}),"–í–∫–ª—é—á–∏—Ç—å —Ä–∞–º–∫—É"]})}),t.properties.borderEnabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¢–∏–ø —Ä–∞–º–∫–∏"}),e.jsxs("select",{value:t.properties.borderStyle||"solid",onChange:i=>s("borderStyle",i.target.value),children:[e.jsx("option",{value:"solid",children:"–°–ø–ª–æ—à–Ω–∞—è"}),e.jsx("option",{value:"dashed",children:"–®—Ç—Ä–∏—Ö–æ–≤–∞—è"}),e.jsx("option",{value:"dotted",children:"–ü—É–Ω–∫—Ç–∏—Ä–Ω–∞—è"}),e.jsx("option",{value:"double",children:"–î–≤–æ–π–Ω–∞—è"})]})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¢–æ–ª—â–∏–Ω–∞ —Ä–∞–º–∫–∏ (px)"}),e.jsx("input",{type:"number",value:t.properties.borderWidth||2,onChange:i=>s("borderWidth",parseFloat(i.target.value)),min:1,max:20})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¶–≤–µ—Ç —Ä–∞–º–∫–∏"}),e.jsx("input",{type:"color",value:t.properties.borderColor||"#000000",onChange:i=>s("borderColor",i.target.value)})]})]})]}),t.type==="video"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¢–∏–ø –∏—Å—Ç–æ—á–Ω–∏–∫–∞"}),e.jsxs("select",{value:t.properties.sourceType||"url",onChange:i=>s("sourceType",i.target.value),children:[e.jsx("option",{value:"url",children:"URL / –§–∞–π–ª"}),e.jsx("option",{value:"rtsp",children:"RTSP –ø–æ—Ç–æ–∫"})]})]}),t.properties.sourceType==="rtsp"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"RTSP URL"}),e.jsx("input",{type:"text",value:t.properties.rtspUrl||"",onChange:i=>s("rtspUrl",i.target.value),placeholder:"rtsp://username:password@host:554/stream"}),e.jsx("div",{style:{fontSize:"11px",color:"#888",marginTop:"4px"},children:"–ü—Ä–∏–º–µ—Ä: rtsp://admin:12345@192.168.1.100:554/live"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"URL –≤–∏–¥–µ–æ"}),e.jsx("input",{type:"text",value:t.properties.src||"",onChange:i=>s("src",i.target.value),placeholder:"https://example.com/video.mp4"})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª"}),e.jsx("input",{type:"file",accept:"video/*",onChange:i=>{const l=i.target.files?.[0];if(l){const o=new FileReader;o.onload=c=>{const u=c.target?.result;u&&n(t.id,{properties:{...t.properties,src:u,isLocalFile:!0,fileName:l.name}})},o.readAsDataURL(l)}i.target.value=""}}),t.properties.isLocalFile&&t.properties.fileName&&e.jsxs("div",{style:{fontSize:"11px",color:"#888",marginTop:"4px"},children:["üìÅ ",t.properties.fileName]})]})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ"}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¢–∏–ø –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è"}),e.jsxs("select",{value:t.properties.objectFit||"contain",onChange:i=>s("objectFit",i.target.value),children:[e.jsx("option",{value:"contain",children:"–ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–≤–ø–∏—Å–∞—Ç—å)"}),e.jsx("option",{value:"cover",children:"–ó–∞–ø–æ–ª–Ω–∏—Ç—å –≤–µ—Å—å –≤–∏–¥–∂–µ—Ç"}),e.jsx("option",{value:"fill",children:"–†–∞—Å—Ç—è–Ω—É—Ç—å"}),e.jsx("option",{value:"scale-down",children:"–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä"}),e.jsx("option",{value:"adaptive",children:"–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π (–∏–∑–º–µ–Ω–∏—Ç—å –≤–∏–¥–∂–µ—Ç)"})]})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ"}),e.jsx("div",{className:"property-field",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:t.properties.autoplay||!1,onChange:i=>s("autoplay",i.target.checked)}),"–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ"]})}),e.jsx("div",{className:"property-field",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:t.properties.loop||!1,onChange:i=>s("loop",i.target.checked)}),"–ü–æ–≤—Ç–æ—Ä (loop)"]})}),e.jsx("div",{className:"property-field",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:t.properties.muted!==!1,onChange:i=>s("muted",i.target.checked)}),"–ë–µ–∑ –∑–≤—É–∫–∞ (muted)"]})}),e.jsx("div",{className:"property-field",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:t.properties.controls!==!1,onChange:i=>s("controls",i.target.checked)}),"–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è"]})}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–†–∞–º–∫–∞"}),e.jsx("div",{className:"property-field",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:t.properties.borderEnabled||!1,onChange:i=>s("borderEnabled",i.target.checked)}),"–í–∫–ª—é—á–∏—Ç—å —Ä–∞–º–∫—É"]})}),t.properties.borderEnabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–°—Ç–∏–ª—å —Ä–∞–º–∫–∏"}),e.jsxs("select",{value:t.properties.borderStyle||"solid",onChange:i=>s("borderStyle",i.target.value),children:[e.jsx("option",{value:"solid",children:"–°–ø–ª–æ—à–Ω–∞—è"}),e.jsx("option",{value:"dashed",children:"–®—Ç—Ä–∏—Ö–æ–≤–∞—è"}),e.jsx("option",{value:"dotted",children:"–ü—É–Ω–∫—Ç–∏—Ä–Ω–∞—è"}),e.jsx("option",{value:"double",children:"–î–≤–æ–π–Ω–∞—è"})]})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¢–æ–ª—â–∏–Ω–∞ —Ä–∞–º–∫–∏"}),e.jsx("input",{type:"number",value:t.properties.borderWidth||2,onChange:i=>s("borderWidth",parseInt(i.target.value)),min:1,max:20})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¶–≤–µ—Ç —Ä–∞–º–∫–∏"}),e.jsx("input",{type:"color",value:t.properties.borderColor||"#000000",onChange:i=>s("borderColor",i.target.value)})]})]})]}),t.type==="menu"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è"}),e.jsxs("select",{value:t.properties.orientation||"horizontal",onChange:i=>s("orientation",i.target.value),children:[e.jsx("option",{value:"horizontal",children:"–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è"}),e.jsx("option",{value:"vertical",children:"–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è"})]})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–í–Ω–µ—à–Ω–∏–π –≤–∏–¥"}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¶–≤–µ—Ç —Ñ–æ–Ω–∞"}),e.jsx("input",{type:"color",value:t.properties.backgroundColor||"#2c3e50",onChange:i=>s("backgroundColor",i.target.value)})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞"}),e.jsx("input",{type:"color",value:t.properties.textColor||"#ffffff",onChange:i=>s("textColor",i.target.value)})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¶–≤–µ—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏"}),e.jsx("input",{type:"color",value:t.properties.hoverColor||"#34495e",onChange:i=>s("hoverColor",i.target.value)})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–®—Ä–∏—Ñ—Ç"}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞"}),e.jsx("input",{type:"number",value:t.properties.fontSize||16,onChange:i=>s("fontSize",parseInt(i.target.value)),min:10,max:32})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–°–µ–º–µ–π—Å—Ç–≤–æ —à—Ä–∏—Ñ—Ç–∞"}),e.jsxs("select",{value:t.properties.fontFamily||"Arial",onChange:i=>s("fontFamily",i.target.value),children:[e.jsx("option",{value:"Arial",children:"Arial"}),e.jsx("option",{value:"Helvetica",children:"Helvetica"}),e.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),e.jsx("option",{value:"Verdana",children:"Verdana"}),e.jsx("option",{value:"Georgia",children:"Georgia"})]})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–†–∞–∑–º–µ—Ä—ã"}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–í—ã—Å–æ—Ç–∞ –ø—É–Ω–∫—Ç–∞"}),e.jsx("input",{type:"number",value:t.properties.itemHeight||40,onChange:i=>s("itemHeight",parseInt(i.target.value)),min:30,max:100})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–û—Ç—Å—Ç—É–ø –ø—É–Ω–∫—Ç–∞"}),e.jsx("input",{type:"number",value:t.properties.itemPadding||16,onChange:i=>s("itemPadding",parseInt(i.target.value)),min:8,max:40})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–ü–æ–¥–º–µ–Ω—é"}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¶–≤–µ—Ç —Ñ–æ–Ω–∞ –ø–æ–¥–º–µ–Ω—é"}),e.jsx("input",{type:"color",value:t.properties.submenuBackgroundColor||"#34495e",onChange:i=>s("submenuBackgroundColor",i.target.value)})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –ø–æ–¥–º–µ–Ω—é"}),e.jsx("input",{type:"color",value:t.properties.submenuTextColor||"#ffffff",onChange:i=>s("submenuTextColor",i.target.value)})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–†–∞–º–∫–∞"}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¢–æ–ª—â–∏–Ω–∞ —Ä–∞–º–∫–∏"}),e.jsx("input",{type:"number",value:t.properties.borderWidth||0,onChange:i=>s("borderWidth",parseInt(i.target.value)),min:0,max:10})]}),t.properties.borderWidth>0&&e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–¶–≤–µ—Ç —Ä–∞–º–∫–∏"}),e.jsx("input",{type:"color",value:t.properties.borderColor||"#000000",onChange:i=>s("borderColor",i.target.value)})]}),e.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"–ü—É–Ω–∫—Ç—ã –º–µ–Ω—é"}),e.jsx("div",{className:"property-field",children:e.jsx("button",{className:"btn-secondary",onClick:()=>{const i=t.properties.items||[],l={id:`item-${Date.now()}`,label:"–ù–æ–≤—ã–π –ø—É–Ω–∫—Ç"};n(t.id,{properties:{...t.properties,items:[...i,l]}})},style:{width:"100%"},children:"‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø—É–Ω–∫—Ç"})}),e.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:(t.properties.items||[]).map((i,l)=>e.jsxs("div",{style:{background:"#252525",padding:"12px",marginBottom:"8px",borderRadius:"6px",border:"1px solid #333"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsxs("strong",{style:{fontSize:"12px",color:"#aaa"},children:["–ü—É–Ω–∫—Ç ",l+1]}),e.jsx("button",{className:"btn-danger",onClick:()=>{const o=t.properties.items||[];n(t.id,{properties:{...t.properties,items:o.filter(c=>c.id!==i.id)}})},style:{fontSize:"11px",padding:"4px 8px"},children:"üóëÔ∏è –£–¥–∞–ª–∏—Ç—å"})]}),e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"–ù–∞–∑–≤–∞–Ω–∏–µ"}),e.jsx("input",{type:"text",value:i.label,onChange:o=>{const c=[...t.properties.items||[]];c[l]={...c[l],label:o.target.value},n(t.id,{properties:{...t.properties,items:c}})}})]}),e.jsxs("div",{style:{marginTop:"12px"},children:[e.jsx("div",{style:{fontSize:"11px",color:"#888",marginBottom:"8px"},children:"–î–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –∫–ª–∏–∫–µ"}),e.jsx(Ce,{widget:{...t,id:i.id,properties:i},onUpdate:o=>{const c=[...t.properties.items||[]];c[l]={...c[l],actions:o},n(t.id,{properties:{...t.properties,items:c}})},allWidgets:r.widgets})]}),e.jsxs("div",{style:{marginTop:"12px",paddingLeft:"12px",borderLeft:"2px solid #444"},children:[e.jsx("div",{style:{fontSize:"11px",color:"#888",marginBottom:"8px"},children:"–ü–æ–¥–ø—É–Ω–∫—Ç—ã"}),e.jsx("button",{className:"btn-secondary",onClick:()=>{const o=[...t.properties.items||[]],c=o[l].children||[];o[l]={...o[l],children:[...c,{id:`subitem-${Date.now()}`,label:"–ü–æ–¥–ø—É–Ω–∫—Ç"}]},n(t.id,{properties:{...t.properties,items:o}})},style:{width:"100%",fontSize:"11px",padding:"6px",marginBottom:"8px"},children:"‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø—É–Ω–∫—Ç"}),(i.children||[]).map((o,c)=>e.jsx("div",{style:{background:"#1e1e1e",padding:"8px",marginBottom:"6px",borderRadius:"4px",border:"1px solid #2a2a2a"},children:e.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center"},children:[e.jsx("input",{type:"text",value:o.label,onChange:u=>{const h=[...t.properties.items||[]],x=[...h[l].children||[]];x[c]={...x[c],label:u.target.value},h[l]={...h[l],children:x},n(t.id,{properties:{...t.properties,items:h}})},style:{flex:1,fontSize:"12px",padding:"4px 8px"}}),e.jsx("button",{className:"btn-danger",onClick:()=>{const u=[...t.properties.items||[]],h=u[l].children?.filter(x=>x.id!==o.id)||[];u[l]={...u[l],children:h},n(t.id,{properties:{...t.properties,items:u}})},style:{fontSize:"11px",padding:"4px 8px"},children:"üóëÔ∏è"})]})},o.id))]})]},i.id))})]})]}),e.jsx("div",{className:"property-section",children:e.jsxs("div",{className:"property-field",children:[e.jsx("label",{children:"ID"}),e.jsx("input",{type:"text",value:t.id,disabled:!0,style:{opacity:.5,cursor:"not-allowed"}})]})})]})]}):e.jsxs("div",{className:"properties-panel panel",children:[e.jsx("div",{className:"properties-header",children:e.jsx("h3",{children:"–°–≤–æ–π—Å—Ç–≤–∞"})}),e.jsx("div",{className:"properties-empty",children:e.jsx("p",{children:"–í—ã–±–µ—Ä–∏—Ç–µ –≤–∏–¥–∂–µ—Ç –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"})})]})},Ut=()=>{const[r,a]=C.useState(0),{project:n,selectedWidgetIds:t,copy:d,paste:s,cut:i,deleteWidget:l,undo:o,redo:c}=q();return C.useEffect(()=>{const u=h=>{(h.ctrlKey||h.metaKey)&&h.key==="z"&&!h.shiftKey&&(h.preventDefault(),o()),(h.ctrlKey||h.metaKey)&&h.key==="z"&&h.shiftKey&&(h.preventDefault(),c()),(h.ctrlKey||h.metaKey)&&h.key==="c"&&(h.preventDefault(),d()),(h.ctrlKey||h.metaKey)&&h.key==="v"&&(h.preventDefault(),s()),(h.ctrlKey||h.metaKey)&&h.key==="x"&&(h.preventDefault(),i()),h.key==="Delete"&&(h.preventDefault(),t.forEach(x=>l(x)))};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[]),C.useEffect(()=>{const u=()=>{a(h=>h+1)};return window.addEventListener("auth:login",u),()=>window.removeEventListener("auth:login",u)},[]),e.jsxs("div",{className:"editor",children:[e.jsx(Wt,{}),e.jsxs("div",{className:"editor-main",children:[e.jsx(_t,{}),e.jsx(Ot,{}),e.jsx(qt,{})]})]})};class Vt extends C.Component{constructor(a){super(a),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a,errorInfo:null}}componentDidCatch(a,n){console.error("ErrorBoundary caught an error:",a,n),this.setState({error:a,errorInfo:n})}render(){return this.state.hasError?e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"#1e1e1e",color:"#ff6b6b",fontFamily:"Arial, sans-serif",padding:"20px"},children:e.jsxs("div",{style:{textAlign:"center",maxWidth:"700px"},children:[e.jsx("h1",{children:"‚ùå –û—à–∏–±–∫–∞ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ"}),e.jsx("p",{style:{color:"#cccccc",marginBottom:"20px"},children:"–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π."}),this.state.error&&e.jsxs("div",{style:{textAlign:"left",background:"#2a2a2a",padding:"15px",borderRadius:"5px",marginBottom:"20px",overflow:"auto"},children:[e.jsx("div",{style:{color:"#ff6b6b",marginBottom:"10px",fontWeight:"bold"},children:this.state.error.toString()}),this.state.errorInfo&&e.jsx("pre",{style:{fontSize:"12px",color:"#888",margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:this.state.errorInfo.componentStack})]}),e.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[e.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",background:"#4a90e2",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},children:"–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É"}),e.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},style:{padding:"10px 20px",background:"#e74c3c",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},children:"–°–±—Ä–æ—Å–∏—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å"})]}),e.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#2a2a2a",borderRadius:"5px",textAlign:"left",color:"#cccccc",fontSize:"13px"},children:[e.jsx("strong",{children:"–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:"}),e.jsxs("ul",{style:{marginTop:"10px",marginBottom:0},children:[e.jsxs("li",{children:["–ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ - –≤—ã–ø–æ–ª–Ω–∏—Ç–µ ",e.jsx("code",{children:"npm install"})]}),e.jsx("li",{children:"–ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è –≤–µ—Ä—Å–∏—è Node.js - —Ç—Ä–µ–±—É–µ—Ç—Å—è v18.0+"}),e.jsx("li",{children:"–ü—Ä–æ–±–ª–µ–º—ã —Å –∏–º–ø–æ—Ä—Ç–∞–º–∏ –º–æ–¥—É–ª–µ–π"}),e.jsx("li",{children:'–ü–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–π –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ - –ø–æ–ø—Ä–æ–±—É–π—Ç–µ "–°–±—Ä–æ—Å–∏—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å"'})]})]})]})}):this.props.children}}function Xt(){return e.jsx(Vt,{children:e.jsx(Ut,{})})}try{const r=document.getElementById("root");if(!r)throw new Error("Root element not found");Be.createRoot(r).render(e.jsx(V.StrictMode,{children:e.jsx(Xt,{})}))}catch(r){console.error("Failed to mount React app:",r),document.body.innerHTML=`
    <div style="
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background: #1e1e1e;
      color: #ff6b6b;
      font-family: Arial, sans-serif;
      padding: 20px;
    ">
      <div style="text-align: center; max-width: 600px;">
        <h1>‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞</h1>
        <p style="color: #cccccc;">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.</p>
        <pre style="
          text-align: left;
          background: #2a2a2a;
          padding: 15px;
          border-radius: 5px;
          overflow-x: auto;
          color: #ff6b6b;
        ">${r}</pre>
        <button onclick="location.reload()" style="
          margin-top: 20px;
          padding: 10px 20px;
          background: #4a90e2;
          color: white;
          border: none;
          border-radius: 5px;
          cursor: pointer;
          font-size: 14px;
        ">
          –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
        </button>
      </div>
    </div>
  `}
