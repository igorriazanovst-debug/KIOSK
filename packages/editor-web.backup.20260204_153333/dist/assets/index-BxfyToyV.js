(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const E of document.querySelectorAll('link[rel="modulepreload"]'))f(E);new MutationObserver(E=>{for(const g of E)if(g.type==="childList")for(const u of g.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&f(u)}).observe(document,{childList:!0,subtree:!0});function v(E){const g={};return E.integrity&&(g.integrity=E.integrity),E.referrerPolicy&&(g.referrerPolicy=E.referrerPolicy),E.crossOrigin==="use-credentials"?g.credentials="include":E.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function f(E){if(E.ep)return;E.ep=!0;const g=v(E);fetch(E.href,g)}})();var Jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Du(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Bd={exports:{}},Va={},Hd={exports:{}},Je={};var Zh;function _0(){if(Zh)return Je;Zh=1;var a=Symbol.for("react.element"),d=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),u=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),b=Symbol.iterator;function j(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,P={};function I(D,J,te){this.props=D,this.context=J,this.refs=P,this.updater=te||C}I.prototype.isReactComponent={},I.prototype.setState=function(D,J){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,J,"setState")},I.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function G(){}G.prototype=I.prototype;function _(D,J,te){this.props=D,this.context=J,this.refs=P,this.updater=te||C}var h=_.prototype=new G;h.constructor=_,N(h,I.prototype),h.isPureReactComponent=!0;var T=Array.isArray,A=Object.prototype.hasOwnProperty,O={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function z(D,J,te){var ce,pe={},ie=null,X=null;if(J!=null)for(ce in J.ref!==void 0&&(X=J.ref),J.key!==void 0&&(ie=""+J.key),J)A.call(J,ce)&&!W.hasOwnProperty(ce)&&(pe[ce]=J[ce]);var oe=arguments.length-2;if(oe===1)pe.children=te;else if(1<oe){for(var ve=Array(oe),we=0;we<oe;we++)ve[we]=arguments[we+2];pe.children=ve}if(D&&D.defaultProps)for(ce in oe=D.defaultProps,oe)pe[ce]===void 0&&(pe[ce]=oe[ce]);return{$$typeof:a,type:D,key:ie,ref:X,props:pe,_owner:O.current}}function R(D,J){return{$$typeof:a,type:D.type,key:J,ref:D.ref,props:D.props,_owner:D._owner}}function F(D){return typeof D=="object"&&D!==null&&D.$$typeof===a}function K(D){var J={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(te){return J[te]})}var Z=/\/+/g;function Y(D,J){return typeof D=="object"&&D!==null&&D.key!=null?K(""+D.key):J.toString(36)}function $(D,J,te,ce,pe){var ie=typeof D;(ie==="undefined"||ie==="boolean")&&(D=null);var X=!1;if(D===null)X=!0;else switch(ie){case"string":case"number":X=!0;break;case"object":switch(D.$$typeof){case a:case d:X=!0}}if(X)return X=D,pe=pe(X),D=ce===""?"."+Y(X,0):ce,T(pe)?(te="",D!=null&&(te=D.replace(Z,"$&/")+"/"),$(pe,J,te,"",function(we){return we})):pe!=null&&(F(pe)&&(pe=R(pe,te+(!pe.key||X&&X.key===pe.key?"":(""+pe.key).replace(Z,"$&/")+"/")+D)),J.push(pe)),1;if(X=0,ce=ce===""?".":ce+":",T(D))for(var oe=0;oe<D.length;oe++){ie=D[oe];var ve=ce+Y(ie,oe);X+=$(ie,J,te,ve,pe)}else if(ve=j(D),typeof ve=="function")for(D=ve.call(D),oe=0;!(ie=D.next()).done;)ie=ie.value,ve=ce+Y(ie,oe++),X+=$(ie,J,te,ve,pe);else if(ie==="object")throw J=String(D),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return X}function Q(D,J,te){if(D==null)return D;var ce=[],pe=0;return $(D,ce,"","",function(ie){return J.call(te,ie,pe++)}),ce}function re(D){if(D._status===-1){var J=D._result;J=J(),J.then(function(te){(D._status===0||D._status===-1)&&(D._status=1,D._result=te)},function(te){(D._status===0||D._status===-1)&&(D._status=2,D._result=te)}),D._status===-1&&(D._status=0,D._result=J)}if(D._status===1)return D._result.default;throw D._result}var L={current:null},U={transition:null},V={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:U,ReactCurrentOwner:O};function H(){throw Error("act(...) is not supported in production builds of React.")}return Je.Children={map:Q,forEach:function(D,J,te){Q(D,function(){J.apply(this,arguments)},te)},count:function(D){var J=0;return Q(D,function(){J++}),J},toArray:function(D){return Q(D,function(J){return J})||[]},only:function(D){if(!F(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Je.Component=I,Je.Fragment=v,Je.Profiler=E,Je.PureComponent=_,Je.StrictMode=f,Je.Suspense=m,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,Je.act=H,Je.cloneElement=function(D,J,te){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var ce=N({},D.props),pe=D.key,ie=D.ref,X=D._owner;if(J!=null){if(J.ref!==void 0&&(ie=J.ref,X=O.current),J.key!==void 0&&(pe=""+J.key),D.type&&D.type.defaultProps)var oe=D.type.defaultProps;for(ve in J)A.call(J,ve)&&!W.hasOwnProperty(ve)&&(ce[ve]=J[ve]===void 0&&oe!==void 0?oe[ve]:J[ve])}var ve=arguments.length-2;if(ve===1)ce.children=te;else if(1<ve){oe=Array(ve);for(var we=0;we<ve;we++)oe[we]=arguments[we+2];ce.children=oe}return{$$typeof:a,type:D.type,key:pe,ref:ie,props:ce,_owner:X}},Je.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:g,_context:D},D.Consumer=D},Je.createElement=z,Je.createFactory=function(D){var J=z.bind(null,D);return J.type=D,J},Je.createRef=function(){return{current:null}},Je.forwardRef=function(D){return{$$typeof:y,render:D}},Je.isValidElement=F,Je.lazy=function(D){return{$$typeof:k,_payload:{_status:-1,_result:D},_init:re}},Je.memo=function(D,J){return{$$typeof:S,type:D,compare:J===void 0?null:J}},Je.startTransition=function(D){var J=U.transition;U.transition={};try{D()}finally{U.transition=J}},Je.unstable_act=H,Je.useCallback=function(D,J){return L.current.useCallback(D,J)},Je.useContext=function(D){return L.current.useContext(D)},Je.useDebugValue=function(){},Je.useDeferredValue=function(D){return L.current.useDeferredValue(D)},Je.useEffect=function(D,J){return L.current.useEffect(D,J)},Je.useId=function(){return L.current.useId()},Je.useImperativeHandle=function(D,J,te){return L.current.useImperativeHandle(D,J,te)},Je.useInsertionEffect=function(D,J){return L.current.useInsertionEffect(D,J)},Je.useLayoutEffect=function(D,J){return L.current.useLayoutEffect(D,J)},Je.useMemo=function(D,J){return L.current.useMemo(D,J)},Je.useReducer=function(D,J,te){return L.current.useReducer(D,J,te)},Je.useRef=function(D){return L.current.useRef(D)},Je.useState=function(D){return L.current.useState(D)},Je.useSyncExternalStore=function(D,J,te){return L.current.useSyncExternalStore(D,J,te)},Je.useTransition=function(){return L.current.useTransition()},Je.version="18.3.1",Je}var $h;function Hl(){return $h||($h=1,Hd.exports=_0()),Hd.exports}var ef;function w0(){if(ef)return Va;ef=1;var a=Hl(),d=Symbol.for("react.element"),v=Symbol.for("react.fragment"),f=Object.prototype.hasOwnProperty,E=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function u(y,m,S){var k,b={},j=null,C=null;S!==void 0&&(j=""+S),m.key!==void 0&&(j=""+m.key),m.ref!==void 0&&(C=m.ref);for(k in m)f.call(m,k)&&!g.hasOwnProperty(k)&&(b[k]=m[k]);if(y&&y.defaultProps)for(k in m=y.defaultProps,m)b[k]===void 0&&(b[k]=m[k]);return{$$typeof:d,type:y,key:j,ref:C,props:b,_owner:E.current}}return Va.Fragment=v,Va.jsx=u,Va.jsxs=u,Va}var tf;function C0(){return tf||(tf=1,Bd.exports=w0()),Bd.exports}var s=C0(),ye=Hl();const Mt=Du(ye);var Qc={},Vd={exports:{}},pr={},qd={exports:{}},Kd={};var nf;function k0(){return nf||(nf=1,(function(a){function d(U,V){var H=U.length;U.push(V);e:for(;0<H;){var D=H-1>>>1,J=U[D];if(0<E(J,V))U[D]=V,U[H]=J,H=D;else break e}}function v(U){return U.length===0?null:U[0]}function f(U){if(U.length===0)return null;var V=U[0],H=U.pop();if(H!==V){U[0]=H;e:for(var D=0,J=U.length,te=J>>>1;D<te;){var ce=2*(D+1)-1,pe=U[ce],ie=ce+1,X=U[ie];if(0>E(pe,H))ie<J&&0>E(X,pe)?(U[D]=X,U[ie]=H,D=ie):(U[D]=pe,U[ce]=H,D=ce);else if(ie<J&&0>E(X,H))U[D]=X,U[ie]=H,D=ie;else break e}}return V}function E(U,V){var H=U.sortIndex-V.sortIndex;return H!==0?H:U.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;a.unstable_now=function(){return g.now()}}else{var u=Date,y=u.now();a.unstable_now=function(){return u.now()-y}}var m=[],S=[],k=1,b=null,j=3,C=!1,N=!1,P=!1,I=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(U){for(var V=v(S);V!==null;){if(V.callback===null)f(S);else if(V.startTime<=U)f(S),V.sortIndex=V.expirationTime,d(m,V);else break;V=v(S)}}function T(U){if(P=!1,h(U),!N)if(v(m)!==null)N=!0,re(A);else{var V=v(S);V!==null&&L(T,V.startTime-U)}}function A(U,V){N=!1,P&&(P=!1,G(z),z=-1),C=!0;var H=j;try{for(h(V),b=v(m);b!==null&&(!(b.expirationTime>V)||U&&!K());){var D=b.callback;if(typeof D=="function"){b.callback=null,j=b.priorityLevel;var J=D(b.expirationTime<=V);V=a.unstable_now(),typeof J=="function"?b.callback=J:b===v(m)&&f(m),h(V)}else f(m);b=v(m)}if(b!==null)var te=!0;else{var ce=v(S);ce!==null&&L(T,ce.startTime-V),te=!1}return te}finally{b=null,j=H,C=!1}}var O=!1,W=null,z=-1,R=5,F=-1;function K(){return!(a.unstable_now()-F<R)}function Z(){if(W!==null){var U=a.unstable_now();F=U;var V=!0;try{V=W(!0,U)}finally{V?Y():(O=!1,W=null)}}else O=!1}var Y;if(typeof _=="function")Y=function(){_(Z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Q=$.port2;$.port1.onmessage=Z,Y=function(){Q.postMessage(null)}}else Y=function(){I(Z,0)};function re(U){W=U,O||(O=!0,Y())}function L(U,V){z=I(function(){U(a.unstable_now())},V)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(U){U.callback=null},a.unstable_continueExecution=function(){N||C||(N=!0,re(A))},a.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<U?Math.floor(1e3/U):5},a.unstable_getCurrentPriorityLevel=function(){return j},a.unstable_getFirstCallbackNode=function(){return v(m)},a.unstable_next=function(U){switch(j){case 1:case 2:case 3:var V=3;break;default:V=j}var H=j;j=V;try{return U()}finally{j=H}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(U,V){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var H=j;j=U;try{return V()}finally{j=H}},a.unstable_scheduleCallback=function(U,V,H){var D=a.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?D+H:D):H=D,U){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=H+J,U={id:k++,callback:V,priorityLevel:U,startTime:H,expirationTime:J,sortIndex:-1},H>D?(U.sortIndex=H,d(S,U),v(m)===null&&U===v(S)&&(P?(G(z),z=-1):P=!0,L(T,H-D))):(U.sortIndex=J,d(m,U),N||C||(N=!0,re(A))),U},a.unstable_shouldYield=K,a.unstable_wrapCallback=function(U){var V=j;return function(){var H=j;j=V;try{return U.apply(this,arguments)}finally{j=H}}}})(Kd)),Kd}var rf;function gh(){return rf||(rf=1,qd.exports=k0()),qd.exports}var sf;function j0(){if(sf)return pr;sf=1;var a=Hl(),d=gh();function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=new Set,E={};function g(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(E[e]=t,e=0;e<t.length;e++)f.add(t[e])}var y=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,S=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k={},b={};function j(e){return m.call(b,e)?!0:m.call(k,e)?!1:S.test(e)?b[e]=!0:(k[e]=!0,!1)}function C(e,t,i,l){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,t,i,l){if(t===null||typeof t>"u"||C(e,t,i,l))return!0;if(l)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function P(e,t,i,l,p,w,B){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=p,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=w,this.removeEmptyString=B}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){I[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];I[t]=new P(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){I[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){I[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){I[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){I[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){I[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){I[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){I[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(G,_);I[t]=new P(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(G,_);I[t]=new P(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(G,_);I[t]=new P(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){I[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),I.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){I[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function h(e,t,i,l){var p=I.hasOwnProperty(t)?I[t]:null;(p!==null?p.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N(t,i,p,l)&&(i=null),l||p===null?j(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):p.mustUseProperty?e[p.propertyName]=i===null?p.type===3?!1:"":i:(t=p.attributeName,l=p.attributeNamespace,i===null?e.removeAttribute(t):(p=p.type,i=p===3||p===4&&i===!0?"":""+i,l?e.setAttributeNS(l,t,i):e.setAttribute(t,i))))}var T=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),O=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),K=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),U=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var H=Object.assign,D;function J(e){if(D===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return`
`+D+e}var te=!1;function ce(e,t){if(!e||te)return"";te=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(fe){var l=fe}Reflect.construct(e,[],t)}else{try{t.call()}catch(fe){l=fe}e.call(t.prototype)}else{try{throw Error()}catch(fe){l=fe}e()}}catch(fe){if(fe&&l&&typeof fe.stack=="string"){for(var p=fe.stack.split(`
`),w=l.stack.split(`
`),B=p.length-1,ee=w.length-1;1<=B&&0<=ee&&p[B]!==w[ee];)ee--;for(;1<=B&&0<=ee;B--,ee--)if(p[B]!==w[ee]){if(B!==1||ee!==1)do if(B--,ee--,0>ee||p[B]!==w[ee]){var ne=`
`+p[B].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=B&&0<=ee);break}}}finally{te=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?J(e):""}function pe(e){switch(e.tag){case 5:return J(e.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function ie(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case O:return"Portal";case R:return"Profiler";case z:return"StrictMode";case Y:return"Suspense";case $:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case K:return(e.displayName||"Context")+".Consumer";case F:return(e._context.displayName||"Context")+".Provider";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:ie(e.type)||"Memo";case re:t=e._payload,e=e._init;try{return ie(e(t))}catch{}}return null}function X(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(t);case 8:return t===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function oe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ve(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function we(e){var t=ve(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var p=i.get,w=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return p.call(this)},set:function(B){l=""+B,w.call(this,B)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(B){l=""+B},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ce(e){e._valueTracker||(e._valueTracker=we(e))}function Te(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),l="";return e&&(l=ve(e)?e.checked?"true":"false":e.value),e=l,e!==i?(t.setValue(e),!0):!1}function Me(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ve(e,t){var i=t.checked;return H({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Ae(e,t){var i=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;i=oe(t.value!=null?t.value:i),e._wrapperState={initialChecked:l,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function St(e,t){t=t.checked,t!=null&&h(e,"checked",t,!1)}function rt(e,t){St(e,t);var i=oe(t.value),l=t.type;if(i!=null)l==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jr(e,t.type,i):t.hasOwnProperty("defaultValue")&&jr(e,t.type,oe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _t(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function jr(e,t,i){(t!=="number"||Me(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Pt=Array.isArray;function ir(e,t,i,l){if(e=e.options,t){t={};for(var p=0;p<i.length;p++)t["$"+i[p]]=!0;for(i=0;i<e.length;i++)p=t.hasOwnProperty("$"+e[i].value),e[i].selected!==p&&(e[i].selected=p),p&&l&&(e[i].defaultSelected=!0)}else{for(i=""+oe(i),t=null,p=0;p<e.length;p++){if(e[p].value===i){e[p].selected=!0,l&&(e[p].defaultSelected=!0);return}t!==null||e[p].disabled||(t=e[p])}t!==null&&(t.selected=!0)}}function at(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(v(91));return H({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zn(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(v(92));if(Pt(i)){if(1<i.length)throw Error(v(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:oe(i)}}function rn(e,t){var i=oe(t.value),l=oe(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),l!=null&&(e.defaultValue=""+l)}function Nr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sr(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sn(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pn,Hn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,l,p){MSApp.execUnsafeLocalFunction(function(){return e(t,i,l,p)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pn=pn||document.createElement("div"),pn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ft(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var zt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ei=["Webkit","ms","Moz","O"];Object.keys(zt).forEach(function(e){Ei.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zt[t]=zt[e]})});function no(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||zt.hasOwnProperty(e)&&zt[e]?(""+t).trim():t+"px"}function Pi(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var l=i.indexOf("--")===0,p=no(i,t[i],l);i==="float"&&(i="cssFloat"),l?e.setProperty(i,p):e[i]=p}}var Vl=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ro(e,t){if(t){if(Vl[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(v(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(v(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(v(61))}if(t.style!=null&&typeof t.style!="object")throw Error(v(62))}}function Oo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ql=null;function Kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yl=null,ls=null,as=null;function Ou(e){if(e=Co(e)){if(typeof Yl!="function")throw Error(v(280));var t=e.stateNode;t&&(t=en(t),Yl(e.stateNode,e.type,t))}}function Xl(e){ls?as?as.push(e):as=[e]:ls=e}function Ql(){if(ls){var e=ls,t=as;if(as=ls=null,Ou(e),t)for(e=0;e<t.length;e++)Ou(t[e])}}function Uu(e,t){return e(t)}function Uo(){}var Go=!1;function Jl(e,t,i){if(Go)return e(t,i);Go=!0;try{return Uu(e,t,i)}finally{Go=!1,(ls!==null||as!==null)&&(Uo(),Ql())}}function io(e,t){var i=e.stateNode;if(i===null)return null;var l=en(i);if(l===null)return null;i=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(v(231,t,typeof i));return i}var Zl=!1;if(y)try{var so={};Object.defineProperty(so,"passive",{get:function(){Zl=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Zl=!1}function Gu(e,t,i,l,p,w,B,ee,ne){var fe=Array.prototype.slice.call(arguments,3);try{t.apply(i,fe)}catch(Se){this.onError(Se)}}var Ti=!1,Wo=null,Bo=!1,us=null,sd={onError:function(e){Ti=!0,Wo=e}};function od(e,t,i,l,p,w,B,ee,ne){Ti=!1,Wo=null,Gu.apply(sd,arguments)}function ld(e,t,i,l,p,w,B,ee,ne){if(od.apply(this,arguments),Ti){if(Ti){var fe=Wo;Ti=!1,Wo=null}else throw Error(v(198));Bo||(Bo=!0,us=fe)}}function Ri(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Wu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bu(e){if(Ri(e)!==e)throw Error(v(188))}function ad(e){var t=e.alternate;if(!t){if(t=Ri(e),t===null)throw Error(v(188));return t!==e?null:e}for(var i=e,l=t;;){var p=i.return;if(p===null)break;var w=p.alternate;if(w===null){if(l=p.return,l!==null){i=l;continue}break}if(p.child===w.child){for(w=p.child;w;){if(w===i)return Bu(p),e;if(w===l)return Bu(p),t;w=w.sibling}throw Error(v(188))}if(i.return!==l.return)i=p,l=w;else{for(var B=!1,ee=p.child;ee;){if(ee===i){B=!0,i=p,l=w;break}if(ee===l){B=!0,l=p,i=w;break}ee=ee.sibling}if(!B){for(ee=w.child;ee;){if(ee===i){B=!0,i=w,l=p;break}if(ee===l){B=!0,l=w,i=p;break}ee=ee.sibling}if(!B)throw Error(v(189))}}if(i.alternate!==l)throw Error(v(190))}if(i.tag!==3)throw Error(v(188));return i.stateNode.current===i?e:t}function Hu(e){return e=ad(e),e!==null?Vu(e):null}function Vu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vu(e);if(t!==null)return t;e=e.sibling}return null}var qu=d.unstable_scheduleCallback,Ku=d.unstable_cancelCallback,ud=d.unstable_shouldYield,cd=d.unstable_requestPaint,bt=d.unstable_now,$l=d.unstable_getCurrentPriorityLevel,Mi=d.unstable_ImmediatePriority,Ho=d.unstable_UserBlockingPriority,cs=d.unstable_NormalPriority,dd=d.unstable_LowPriority,Vo=d.unstable_IdlePriority,Gr=null,on=null;function mt(e){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Gr,e,void 0,(e.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:An,ri=Math.log,gn=Math.LN2;function An(e){return e>>>=0,e===0?32:31-(ri(e)/gn|0)|0}var Er=64,Wr=4194304;function Jt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bi(e,t){var i=e.pendingLanes;if(i===0)return 0;var l=0,p=e.suspendedLanes,w=e.pingedLanes,B=i&268435455;if(B!==0){var ee=B&~p;ee!==0?l=Jt(ee):(w&=B,w!==0&&(l=Jt(w)))}else B=i&~p,B!==0?l=Jt(B):w!==0&&(l=Jt(w));if(l===0)return 0;if(t!==0&&t!==l&&(t&p)===0&&(p=l&-l,w=t&-t,p>=w||p===16&&(w&4194240)!==0))return t;if((l&4)!==0&&(l|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)i=31-Xe(t),p=1<<i,l|=e[i],t&=~p;return l}function Yu(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xu(e,t){for(var i=e.suspendedLanes,l=e.pingedLanes,p=e.expirationTimes,w=e.pendingLanes;0<w;){var B=31-Xe(w),ee=1<<B,ne=p[B];ne===-1?((ee&i)===0||(ee&l)!==0)&&(p[B]=Yu(ee,t)):ne<=t&&(e.expiredLanes|=ee),w&=~ee}}function ds(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ea(){var e=Er;return Er<<=1,(Er&4194240)===0&&(Er=64),e}function Vn(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function oo(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xe(t),e[t]=i}function hd(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<i;){var p=31-Xe(i),w=1<<p;t[p]=0,l[p]=-1,e[p]=-1,i&=~w}}function ta(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var l=31-Xe(i),p=1<<l;p&t|e[l]&t&&(e[l]|=t),i&=~p}}var nt=0;function lo(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var hs,fs,Qu,Ju,qo,Ko=!1,ps=[],or=null,ii=null,Pr=null,Qe=new Map,gs=new Map,Tr=[],Zu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $u(e,t){switch(e){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":Qe.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(t.pointerId)}}function ao(e,t,i,l,p,w){return e===null||e.nativeEvent!==w?(e={blockedOn:t,domEventName:i,eventSystemFlags:l,nativeEvent:w,targetContainers:[p]},t!==null&&(t=Co(t),t!==null&&fs(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,p!==null&&t.indexOf(p)===-1&&t.push(p),e)}function Zt(e,t,i,l,p){switch(t){case"focusin":return or=ao(or,e,t,i,l,p),!0;case"dragenter":return ii=ao(ii,e,t,i,l,p),!0;case"mouseover":return Pr=ao(Pr,e,t,i,l,p),!0;case"pointerover":var w=p.pointerId;return Qe.set(w,ao(Qe.get(w)||null,e,t,i,l,p)),!0;case"gotpointercapture":return w=p.pointerId,gs.set(w,ao(gs.get(w)||null,e,t,i,l,p)),!0}return!1}function Yo(e){var t=pi(e.target);if(t!==null){var i=Ri(t);if(i!==null){if(t=i.tag,t===13){if(t=Wu(i),t!==null){e.blockedOn=t,qo(e.priority,function(){Qu(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Zo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);ql=l,i.target.dispatchEvent(l),ql=null}else return t=Co(i),t!==null&&fs(t),e.blockedOn=i,!1;t.shift()}return!0}function Qo(e,t,i){Xo(e)&&i.delete(t)}function fd(){Ko=!1,or!==null&&Xo(or)&&(or=null),ii!==null&&Xo(ii)&&(ii=null),Pr!==null&&Xo(Pr)&&(Pr=null),Qe.forEach(Qo),gs.forEach(Qo)}function si(e,t){e.blockedOn===t&&(e.blockedOn=null,Ko||(Ko=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,fd)))}function Dn(e){function t(p){return si(p,e)}if(0<ps.length){si(ps[0],e);for(var i=1;i<ps.length;i++){var l=ps[i];l.blockedOn===e&&(l.blockedOn=null)}}for(or!==null&&si(or,e),ii!==null&&si(ii,e),Pr!==null&&si(Pr,e),Qe.forEach(t),gs.forEach(t),i=0;i<Tr.length;i++)l=Tr[i],l.blockedOn===e&&(l.blockedOn=null);for(;0<Tr.length&&(i=Tr[0],i.blockedOn===null);)Yo(i),i.blockedOn===null&&Tr.shift()}var ms=T.ReactCurrentBatchConfig,Jo=!0;function vr(e,t,i,l){var p=nt,w=ms.transition;ms.transition=null;try{nt=1,vs(e,t,i,l)}finally{nt=p,ms.transition=w}}function Br(e,t,i,l){var p=nt,w=ms.transition;ms.transition=null;try{nt=4,vs(e,t,i,l)}finally{nt=p,ms.transition=w}}function vs(e,t,i,l){if(Jo){var p=Zo(e,t,i,l);if(p===null)pl(e,t,l,ys,i),$u(e,l);else if(Zt(p,e,t,i,l))l.stopPropagation();else if($u(e,l),t&4&&-1<Zu.indexOf(e)){for(;p!==null;){var w=Co(p);if(w!==null&&hs(w),w=Zo(e,t,i,l),w===null&&pl(e,t,l,ys,i),w===p)break;p=w}p!==null&&l.stopPropagation()}else pl(e,t,l,null,i)}}var ys=null;function Zo(e,t,i,l){if(ys=null,e=Kl(l),e=pi(e),e!==null)if(t=Ri(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Wu(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ys=e,null}function ec(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($l()){case Mi:return 1;case Ho:return 4;case cs:case dd:return 16;case Vo:return 536870912;default:return 16}default:return 16}}var ln=null,oi=null,Hr=null;function uo(){if(Hr)return Hr;var e,t=oi,i=t.length,l,p="value"in ln?ln.value:ln.textContent,w=p.length;for(e=0;e<i&&t[e]===p[e];e++);var B=i-e;for(l=1;l<=B&&t[i-l]===p[w-l];l++);return Hr=p.slice(e,1<l?1-l:void 0)}function Ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nn(){return!0}function qn(){return!1}function Bt(e){function t(i,l,p,w,B){this._reactName=i,this._targetInst=p,this.type=l,this.nativeEvent=w,this.target=B,this.currentTarget=null;for(var ee in e)e.hasOwnProperty(ee)&&(i=e[ee],this[ee]=i?i(w):w[ee]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Nn:qn,this.isPropagationStopped=qn,this}return H(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Nn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Nn)},persist:function(){},isPersistent:Nn}),t}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yr=Bt(On),xr=H({},On,{view:0,detail:0}),tc=Bt(xr),co,ho,an,En=H({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&e.type==="mousemove"?(co=e.screenX-an.screenX,ho=e.screenY-an.screenY):ho=co=0,an=e),co)},movementY:function(e){return"movementY"in e?e.movementY:ho}}),vt=Bt(En),fo=H({},En,{dataTransfer:0}),Sr=Bt(fo),nc=H({},xr,{relatedTarget:0}),$o=Bt(nc),na=H({},On,{animationName:0,elapsedTime:0,pseudoElement:0}),ra=Bt(na),rc=H({},On,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),el=Bt(rc),ic=H({},On,{data:0}),Li=Bt(ic),ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tl[e])?!!t[e]:!1}function Fi(){return gd}var nl=H({},xr,{key:function(e){if(e.key){var t=ia[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fi,charCode:function(e){return e.type==="keypress"?Ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sc=Bt(nl),oc=H({},En,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=Bt(oc),lc=H({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fi}),rl=Bt(lc),il=H({},On,{propertyName:0,elapsedTime:0,pseudoElement:0}),xs=Bt(il),sa=H({},En,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oa=Bt(sa),ac=[9,13,27,32],po=y&&"CompositionEvent"in window,Ai=null;y&&"documentMode"in document&&(Ai=document.documentMode);var Ss=y&&"TextEvent"in window&&!Ai,Kn=y&&(!po||Ai&&8<Ai&&11>=Ai),li=" ",sl=!1;function la(e,t){switch(e){case"keyup":return ac.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _r(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yn=!1;function aa(e,t){switch(e){case"compositionend":return _r(t);case"keypress":return t.which!==32?null:(sl=!0,li);case"textInput":return e=t.data,e===li&&sl?null:e;default:return null}}function uc(e,t){if(Yn)return e==="compositionend"||!po&&la(e,t)?(e=uo(),Hr=oi=ln=null,Yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kn&&t.locale!=="ko"?null:t.data;default:return null}}var Vr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vr[e.type]:t==="textarea"}function go(e,t,i,l){Xl(l),t=gl(t,"onChange"),0<t.length&&(i=new yr("onChange","change",null,i,l),e.push({event:i,listeners:t}))}var _s=null,ai=null;function cc(e){xa(e,0)}function ui(e){var t=Vt(e);if(Te(t))return e}function lr(e,t){if(e==="change")return t}var ws=!1;if(y){var ci;if(y){var ar="oninput"in document;if(!ar){var ol=document.createElement("div");ol.setAttribute("oninput","return;"),ar=typeof ol.oninput=="function"}ci=ar}else ci=!1;ws=ci&&(!document.documentMode||9<document.documentMode)}function Di(){_s&&(_s.detachEvent("onpropertychange",ua),ai=_s=null)}function ua(e){if(e.propertyName==="value"&&ui(ai)){var t=[];go(t,ai,e,Kl(e)),Jl(cc,t)}}function ca(e,t,i){e==="focusin"?(Di(),_s=t,ai=i,_s.attachEvent("onpropertychange",ua)):e==="focusout"&&Di()}function Et(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ui(ai)}function ll(e,t){if(e==="click")return ui(t)}function da(e,t){if(e==="input"||e==="change")return ui(t)}function ha(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Un=typeof Object.is=="function"?Object.is:ha;function Oi(e,t){if(Un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var p=i[l];if(!m.call(t,p)||!Un(e[p],t[p]))return!1}return!0}function di(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wt(e,t){var i=di(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=t&&l>=t)return{node:i,offset:t-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=di(i)}}function At(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?At(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ht(){for(var e=window,t=Me();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Me(e.document)}return t}function Cs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mo(e){var t=Ht(),i=e.focusedElem,l=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&At(i.ownerDocument.documentElement,i)){if(l!==null&&Cs(i)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var p=i.textContent.length,w=Math.min(l.start,p);l=l.end===void 0?w:Math.min(l.end,p),!e.extend&&w>l&&(p=l,l=w,w=p),p=wt(i,w);var B=wt(i,l);p&&B&&(e.rangeCount!==1||e.anchorNode!==p.node||e.anchorOffset!==p.offset||e.focusNode!==B.node||e.focusOffset!==B.offset)&&(t=t.createRange(),t.setStart(p.node,p.offset),e.removeAllRanges(),w>l?(e.addRange(t),e.extend(B.node,B.offset)):(t.setEnd(B.node,B.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vo=y&&"documentMode"in document&&11>=document.documentMode,ks=null,$t=null,Ui=null,yo=!1;function al(e,t,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;yo||ks==null||ks!==Me(l)||(l=ks,"selectionStart"in l&&Cs(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ui&&Oi(Ui,l)||(Ui=l,l=gl($t,"onSelect"),0<l.length&&(t=new yr("onSelect","select",null,t,i),e.push({event:t,listeners:l}),t.target=ks)))}function Xn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var un={animationend:Xn("Animation","AnimationEnd"),animationiteration:Xn("Animation","AnimationIteration"),animationstart:Xn("Animation","AnimationStart"),transitionend:Xn("Transition","TransitionEnd")},Gi={},ul={};y&&(ul=document.createElement("div").style,"AnimationEvent"in window||(delete un.animationend.animation,delete un.animationiteration.animation,delete un.animationstart.animation),"TransitionEvent"in window||delete un.transitionend.transition);function js(e){if(Gi[e])return Gi[e];if(!un[e])return e;var t=un[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in ul)return Gi[e]=t[i];return e}var fa=js("animationend"),pa=js("animationiteration"),ga=js("animationstart"),ma=js("transitionend"),va=new Map,ya="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(e,t){va.set(e,t),g(t,[e])}for(var cl=0;cl<ya.length;cl++){var Wi=ya[cl],dc=Wi.toLowerCase(),dl=Wi[0].toUpperCase()+Wi.slice(1);Kr(dc,"on"+dl)}Kr(fa,"onAnimationEnd"),Kr(pa,"onAnimationIteration"),Kr(ga,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(ma,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),g("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),g("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),g("onBeforeInput",["compositionend","keypress","textInput","paste"]),g("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hc=new Set("cancel close invalid load scroll toggle".split(" ").concat(hi));function hl(e,t,i){var l=e.type||"unknown-event";e.currentTarget=i,ld(l,t,void 0,e),e.currentTarget=null}function xa(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],p=l.event;l=l.listeners;e:{var w=void 0;if(t)for(var B=l.length-1;0<=B;B--){var ee=l[B],ne=ee.instance,fe=ee.currentTarget;if(ee=ee.listener,ne!==w&&p.isPropagationStopped())break e;hl(p,ee,fe),w=ne}else for(B=0;B<l.length;B++){if(ee=l[B],ne=ee.instance,fe=ee.currentTarget,ee=ee.listener,ne!==w&&p.isPropagationStopped())break e;hl(p,ee,fe),w=ne}}}if(Bo)throw e=us,Bo=!1,us=null,e}function ht(e,t){var i=t[vl];i===void 0&&(i=t[vl]=new Set);var l=e+"__bubble";i.has(l)||(Sa(t,e,2,!1),i.add(l))}function fl(e,t,i){var l=0;t&&(l|=4),Sa(i,e,l,t)}var xo="_reactListening"+Math.random().toString(36).slice(2);function Bi(e){if(!e[xo]){e[xo]=!0,f.forEach(function(i){i!=="selectionchange"&&(hc.has(i)||fl(i,!1,e),fl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xo]||(t[xo]=!0,fl("selectionchange",!1,t))}}function Sa(e,t,i,l){switch(ec(t)){case 1:var p=vr;break;case 4:p=Br;break;default:p=vs}i=p.bind(null,t,i,e),p=void 0,!Zl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(p=!0),l?p!==void 0?e.addEventListener(t,i,{capture:!0,passive:p}):e.addEventListener(t,i,!0):p!==void 0?e.addEventListener(t,i,{passive:p}):e.addEventListener(t,i,!1)}function pl(e,t,i,l,p){var w=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var B=l.tag;if(B===3||B===4){var ee=l.stateNode.containerInfo;if(ee===p||ee.nodeType===8&&ee.parentNode===p)break;if(B===4)for(B=l.return;B!==null;){var ne=B.tag;if((ne===3||ne===4)&&(ne=B.stateNode.containerInfo,ne===p||ne.nodeType===8&&ne.parentNode===p))return;B=B.return}for(;ee!==null;){if(B=pi(ee),B===null)return;if(ne=B.tag,ne===5||ne===6){l=w=B;continue e}ee=ee.parentNode}}l=l.return}Jl(function(){var fe=w,Se=Kl(i),_e=[];e:{var xe=va.get(e);if(xe!==void 0){var Re=yr,Le=e;switch(e){case"keypress":if(Ii(i)===0)break e;case"keydown":case"keyup":Re=sc;break;case"focusin":Le="focus",Re=$o;break;case"focusout":Le="blur",Re=$o;break;case"beforeblur":case"afterblur":Re=$o;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=vt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=Sr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=rl;break;case fa:case pa:case ga:Re=ra;break;case ma:Re=xs;break;case"scroll":Re=tc;break;case"wheel":Re=oa;break;case"copy":case"cut":case"paste":Re=el;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=zi}var Fe=(t&4)!==0,Xt=!Fe&&e==="scroll",ue=Fe?xe!==null?xe+"Capture":null:xe;Fe=[];for(var se=fe,de;se!==null;){de=se;var je=de.stateNode;if(de.tag===5&&je!==null&&(de=je,ue!==null&&(je=io(se,ue),je!=null&&Fe.push(Ns(se,je,de)))),Xt)break;se=se.return}0<Fe.length&&(xe=new Re(xe,Le,null,i,Se),_e.push({event:xe,listeners:Fe}))}}if((t&7)===0){e:{if(xe=e==="mouseover"||e==="pointerover",Re=e==="mouseout"||e==="pointerout",xe&&i!==ql&&(Le=i.relatedTarget||i.fromElement)&&(pi(Le)||Le[Mr]))break e;if((Re||xe)&&(xe=Se.window===Se?Se:(xe=Se.ownerDocument)?xe.defaultView||xe.parentWindow:window,Re?(Le=i.relatedTarget||i.toElement,Re=fe,Le=Le?pi(Le):null,Le!==null&&(Xt=Ri(Le),Le!==Xt||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Re=null,Le=fe),Re!==Le)){if(Fe=vt,je="onMouseLeave",ue="onMouseEnter",se="mouse",(e==="pointerout"||e==="pointerover")&&(Fe=zi,je="onPointerLeave",ue="onPointerEnter",se="pointer"),Xt=Re==null?xe:Vt(Re),de=Le==null?xe:Vt(Le),xe=new Fe(je,se+"leave",Re,i,Se),xe.target=Xt,xe.relatedTarget=de,je=null,pi(Se)===fe&&(Fe=new Fe(ue,se+"enter",Le,i,Se),Fe.target=de,Fe.relatedTarget=Xt,je=Fe),Xt=je,Re&&Le)t:{for(Fe=Re,ue=Le,se=0,de=Fe;de;de=Hi(de))se++;for(de=0,je=ue;je;je=Hi(je))de++;for(;0<se-de;)Fe=Hi(Fe),se--;for(;0<de-se;)ue=Hi(ue),de--;for(;se--;){if(Fe===ue||ue!==null&&Fe===ue.alternate)break t;Fe=Hi(Fe),ue=Hi(ue)}Fe=null}else Fe=null;Re!==null&&fc(_e,xe,Re,Fe,!1),Le!==null&&Xt!==null&&fc(_e,Xt,Le,Fe,!0)}}e:{if(xe=fe?Vt(fe):window,Re=xe.nodeName&&xe.nodeName.toLowerCase(),Re==="select"||Re==="input"&&xe.type==="file")var ze=lr;else if(qr(xe))if(ws)ze=da;else{ze=Et;var Oe=ca}else(Re=xe.nodeName)&&Re.toLowerCase()==="input"&&(xe.type==="checkbox"||xe.type==="radio")&&(ze=ll);if(ze&&(ze=ze(e,fe))){go(_e,ze,i,Se);break e}Oe&&Oe(e,xe,fe),e==="focusout"&&(Oe=xe._wrapperState)&&Oe.controlled&&xe.type==="number"&&jr(xe,"number",xe.value)}switch(Oe=fe?Vt(fe):window,e){case"focusin":(qr(Oe)||Oe.contentEditable==="true")&&(ks=Oe,$t=fe,Ui=null);break;case"focusout":Ui=$t=ks=null;break;case"mousedown":yo=!0;break;case"contextmenu":case"mouseup":case"dragend":yo=!1,al(_e,i,Se);break;case"selectionchange":if(vo)break;case"keydown":case"keyup":al(_e,i,Se)}var Ue;if(po)e:{switch(e){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Yn?la(e,i)&&(Ge="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ge="onCompositionStart");Ge&&(Kn&&i.locale!=="ko"&&(Yn||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Yn&&(Ue=uo()):(ln=Se,oi="value"in ln?ln.value:ln.textContent,Yn=!0)),Oe=gl(fe,Ge),0<Oe.length&&(Ge=new Li(Ge,e,null,i,Se),_e.push({event:Ge,listeners:Oe}),Ue?Ge.data=Ue:(Ue=_r(i),Ue!==null&&(Ge.data=Ue)))),(Ue=Ss?aa(e,i):uc(e,i))&&(fe=gl(fe,"onBeforeInput"),0<fe.length&&(Se=new Li("onBeforeInput","beforeinput",null,i,Se),_e.push({event:Se,listeners:fe}),Se.data=Ue))}xa(_e,t)})}function Ns(e,t,i){return{instance:e,listener:t,currentTarget:i}}function gl(e,t){for(var i=t+"Capture",l=[];e!==null;){var p=e,w=p.stateNode;p.tag===5&&w!==null&&(p=w,w=io(e,i),w!=null&&l.unshift(Ns(e,w,p)),w=io(e,t),w!=null&&l.push(Ns(e,w,p))),e=e.return}return l}function Hi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fc(e,t,i,l,p){for(var w=t._reactName,B=[];i!==null&&i!==l;){var ee=i,ne=ee.alternate,fe=ee.stateNode;if(ne!==null&&ne===l)break;ee.tag===5&&fe!==null&&(ee=fe,p?(ne=io(i,w),ne!=null&&B.unshift(Ns(i,ne,ee))):p||(ne=io(i,w),ne!=null&&B.push(Ns(i,ne,ee)))),i=i.return}B.length!==0&&e.push({event:t,listeners:B})}var md=/\r\n?/g,pc=/\u0000|\uFFFD/g;function _a(e){return(typeof e=="string"?e:""+e).replace(md,`
`).replace(pc,"")}function So(e,t,i){if(t=_a(t),_a(e)!==t&&i)throw Error(v(425))}function Vi(){}var wa=null,Ca=null;function ka(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qn=typeof setTimeout=="function"?setTimeout:void 0,ja=typeof clearTimeout=="function"?clearTimeout:void 0,_o=typeof Promise=="function"?Promise:void 0,gc=typeof queueMicrotask=="function"?queueMicrotask:typeof _o<"u"?function(e){return _o.resolve(null).then(e).catch(mc)}:Qn;function mc(e){setTimeout(function(){throw e})}function ml(e,t){var i=t,l=0;do{var p=i.nextSibling;if(e.removeChild(i),p&&p.nodeType===8)if(i=p.data,i==="/$"){if(l===0){e.removeChild(p),Dn(t);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=p}while(i);Dn(t)}function Rr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qi(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),ur="__reactFiber$"+fi,wo="__reactProps$"+fi,Mr="__reactContainer$"+fi,vl="__reactEvents$"+fi,vc="__reactListeners$"+fi,yc="__reactHandles$"+fi;function pi(e){var t=e[ur];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Mr]||i[ur]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=qi(e);e!==null;){if(i=e[ur])return i;e=qi(e)}return t}e=i,i=e.parentNode}return null}function Co(e){return e=e[ur]||e[Mr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vt(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(v(33))}function en(e){return e[wo]||null}var yl=[],Ki=-1;function Yr(e){return{current:e}}function ft(e){0>Ki||(e.current=yl[Ki],yl[Ki]=null,Ki--)}function ct(e,t){Ki++,yl[Ki]=e.current,e.current=t}var br={},cn=Yr(br),mn=Yr(!1),gi=br;function Yi(e,t){var i=e.type.contextTypes;if(!i)return br;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var p={},w;for(w in i)p[w]=t[w];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=p),p}function vn(e){return e=e.childContextTypes,e!=null}function Es(){ft(mn),ft(cn)}function Na(e,t,i){if(cn.current!==br)throw Error(v(168));ct(cn,t),ct(mn,i)}function xl(e,t,i){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return i;l=l.getChildContext();for(var p in l)if(!(p in t))throw Error(v(108,X(e)||"Unknown",p));return H({},i,l)}function Xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||br,gi=cn.current,ct(cn,e),ct(mn,mn.current),!0}function xc(e,t,i){var l=e.stateNode;if(!l)throw Error(v(169));i?(e=xl(e,t,gi),l.__reactInternalMemoizedMergedChildContext=e,ft(mn),ft(cn),ct(cn,e)):ft(mn),ct(mn,i)}var Ir=null,Ps=!1,Sl=!1;function ko(e){Ir===null?Ir=[e]:Ir.push(e)}function Xr(e){Ps=!0,ko(e)}function mi(){if(!Sl&&Ir!==null){Sl=!0;var e=0,t=nt;try{var i=Ir;for(nt=1;e<i.length;e++){var l=i[e];do l=l(!0);while(l!==null)}Ir=null,Ps=!1}catch(p){throw Ir!==null&&(Ir=Ir.slice(e+1)),qu(Mi,mi),p}finally{nt=t,Sl=!1}}return null}var Pn=[],Qi=0,vi=null,yi=0,Tn=[],Rn=0,xi=null,Jn=1,Ct="";function Ji(e,t){Pn[Qi++]=yi,Pn[Qi++]=vi,vi=e,yi=t}function Sc(e,t,i){Tn[Rn++]=Jn,Tn[Rn++]=Ct,Tn[Rn++]=xi,xi=e;var l=Jn;e=Ct;var p=32-Xe(l)-1;l&=~(1<<p),i+=1;var w=32-Xe(t)+p;if(30<w){var B=p-p%5;w=(l&(1<<B)-1).toString(32),l>>=B,p-=B,Jn=1<<32-Xe(t)+p|i<<p|l,Ct=w+e}else Jn=1<<w|i<<p|l,Ct=e}function Ts(e){e.return!==null&&(Ji(e,1),Sc(e,1,0))}function tn(e){for(;e===vi;)vi=Pn[--Qi],Pn[Qi]=null,yi=Pn[--Qi],Pn[Qi]=null;for(;e===xi;)xi=Tn[--Rn],Tn[Rn]=null,Ct=Tn[--Rn],Tn[Rn]=null,Jn=Tn[--Rn],Tn[Rn]=null}var Zn=null,Ne=null,ot=!1,$n=null;function Ea(e,t){var i=Ur(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function _c(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zn=e,Ne=Rr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zn=e,Ne=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=xi!==null?{id:Jn,overflow:Ct}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Ur(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Zn=e,Ne=null,!0):!1;default:return!1}}function Zi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Rs(e){if(ot){var t=Ne;if(t){var i=t;if(!_c(e,t)){if(Zi(e))throw Error(v(418));t=Rr(i.nextSibling);var l=Zn;t&&_c(e,t)?Ea(l,i):(e.flags=e.flags&-4097|2,ot=!1,Zn=e)}}else{if(Zi(e))throw Error(v(418));e.flags=e.flags&-4097|2,ot=!1,Zn=e}}}function _l(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zn=e}function jo(e){if(e!==Zn)return!1;if(!ot)return _l(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ka(e.type,e.memoizedProps)),t&&(t=Ne)){if(Zi(e))throw Pa(),Error(v(418));for(;t;)Ea(e,t),t=Rr(t.nextSibling)}if(_l(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(v(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Ne=Rr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Ne=null}}else Ne=Zn?Rr(e.stateNode.nextSibling):null;return!0}function Pa(){for(var e=Ne;e;)e=Rr(e.nextSibling)}function $i(){Ne=Zn=null,ot=!1}function No(e){$n===null?$n=[e]:$n.push(e)}var Ta=T.ReactCurrentBatchConfig;function It(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(v(309));var l=i.stateNode}if(!l)throw Error(v(147,e));var p=l,w=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===w?t.ref:(t=function(B){var ee=p.refs;B===null?delete ee[w]:ee[w]=B},t._stringRef=w,t)}if(typeof e!="string")throw Error(v(284));if(!i._owner)throw Error(v(290,e))}return e}function Gn(e,t){throw e=Object.prototype.toString.call(t),Error(v(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wr(e){var t=e._init;return t(e._payload)}function wl(e){function t(ue,se){if(e){var de=ue.deletions;de===null?(ue.deletions=[se],ue.flags|=16):de.push(se)}}function i(ue,se){if(!e)return null;for(;se!==null;)t(ue,se),se=se.sibling;return null}function l(ue,se){for(ue=new Map;se!==null;)se.key!==null?ue.set(se.key,se):ue.set(se.index,se),se=se.sibling;return ue}function p(ue,se){return ue=Qs(ue,se),ue.index=0,ue.sibling=null,ue}function w(ue,se,de){return ue.index=de,e?(de=ue.alternate,de!==null?(de=de.index,de<se?(ue.flags|=2,se):de):(ue.flags|=2,se)):(ue.flags|=1048576,se)}function B(ue){return e&&ue.alternate===null&&(ue.flags|=2),ue}function ee(ue,se,de,je){return se===null||se.tag!==6?(se=Ad(de,ue.mode,je),se.return=ue,se):(se=p(se,de),se.return=ue,se)}function ne(ue,se,de,je){var ze=de.type;return ze===W?Se(ue,se,de.props.children,je,de.key):se!==null&&(se.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===re&&wr(ze)===se.type)?(je=p(se,de.props),je.ref=It(ue,se,de),je.return=ue,je):(je=Wc(de.type,de.key,de.props,null,ue.mode,je),je.ref=It(ue,se,de),je.return=ue,je)}function fe(ue,se,de,je){return se===null||se.tag!==4||se.stateNode.containerInfo!==de.containerInfo||se.stateNode.implementation!==de.implementation?(se=Dd(de,ue.mode,je),se.return=ue,se):(se=p(se,de.children||[]),se.return=ue,se)}function Se(ue,se,de,je,ze){return se===null||se.tag!==7?(se=Ao(de,ue.mode,je,ze),se.return=ue,se):(se=p(se,de),se.return=ue,se)}function _e(ue,se,de){if(typeof se=="string"&&se!==""||typeof se=="number")return se=Ad(""+se,ue.mode,de),se.return=ue,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case A:return de=Wc(se.type,se.key,se.props,null,ue.mode,de),de.ref=It(ue,null,se),de.return=ue,de;case O:return se=Dd(se,ue.mode,de),se.return=ue,se;case re:var je=se._init;return _e(ue,je(se._payload),de)}if(Pt(se)||V(se))return se=Ao(se,ue.mode,de,null),se.return=ue,se;Gn(ue,se)}return null}function xe(ue,se,de,je){var ze=se!==null?se.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return ze!==null?null:ee(ue,se,""+de,je);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case A:return de.key===ze?ne(ue,se,de,je):null;case O:return de.key===ze?fe(ue,se,de,je):null;case re:return ze=de._init,xe(ue,se,ze(de._payload),je)}if(Pt(de)||V(de))return ze!==null?null:Se(ue,se,de,je,null);Gn(ue,de)}return null}function Re(ue,se,de,je,ze){if(typeof je=="string"&&je!==""||typeof je=="number")return ue=ue.get(de)||null,ee(se,ue,""+je,ze);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case A:return ue=ue.get(je.key===null?de:je.key)||null,ne(se,ue,je,ze);case O:return ue=ue.get(je.key===null?de:je.key)||null,fe(se,ue,je,ze);case re:var Oe=je._init;return Re(ue,se,de,Oe(je._payload),ze)}if(Pt(je)||V(je))return ue=ue.get(de)||null,Se(se,ue,je,ze,null);Gn(se,je)}return null}function Le(ue,se,de,je){for(var ze=null,Oe=null,Ue=se,Ge=se=0,Cn=null;Ue!==null&&Ge<de.length;Ge++){Ue.index>Ge?(Cn=Ue,Ue=null):Cn=Ue.sibling;var st=xe(ue,Ue,de[Ge],je);if(st===null){Ue===null&&(Ue=Cn);break}e&&Ue&&st.alternate===null&&t(ue,Ue),se=w(st,se,Ge),Oe===null?ze=st:Oe.sibling=st,Oe=st,Ue=Cn}if(Ge===de.length)return i(ue,Ue),ot&&Ji(ue,Ge),ze;if(Ue===null){for(;Ge<de.length;Ge++)Ue=_e(ue,de[Ge],je),Ue!==null&&(se=w(Ue,se,Ge),Oe===null?ze=Ue:Oe.sibling=Ue,Oe=Ue);return ot&&Ji(ue,Ge),ze}for(Ue=l(ue,Ue);Ge<de.length;Ge++)Cn=Re(Ue,ue,Ge,de[Ge],je),Cn!==null&&(e&&Cn.alternate!==null&&Ue.delete(Cn.key===null?Ge:Cn.key),se=w(Cn,se,Ge),Oe===null?ze=Cn:Oe.sibling=Cn,Oe=Cn);return e&&Ue.forEach(function(Js){return t(ue,Js)}),ot&&Ji(ue,Ge),ze}function Fe(ue,se,de,je){var ze=V(de);if(typeof ze!="function")throw Error(v(150));if(de=ze.call(de),de==null)throw Error(v(151));for(var Oe=ze=null,Ue=se,Ge=se=0,Cn=null,st=de.next();Ue!==null&&!st.done;Ge++,st=de.next()){Ue.index>Ge?(Cn=Ue,Ue=null):Cn=Ue.sibling;var Js=xe(ue,Ue,st.value,je);if(Js===null){Ue===null&&(Ue=Cn);break}e&&Ue&&Js.alternate===null&&t(ue,Ue),se=w(Js,se,Ge),Oe===null?ze=Js:Oe.sibling=Js,Oe=Js,Ue=Cn}if(st.done)return i(ue,Ue),ot&&Ji(ue,Ge),ze;if(Ue===null){for(;!st.done;Ge++,st=de.next())st=_e(ue,st.value,je),st!==null&&(se=w(st,se,Ge),Oe===null?ze=st:Oe.sibling=st,Oe=st);return ot&&Ji(ue,Ge),ze}for(Ue=l(ue,Ue);!st.done;Ge++,st=de.next())st=Re(Ue,ue,Ge,st.value,je),st!==null&&(e&&st.alternate!==null&&Ue.delete(st.key===null?Ge:st.key),se=w(st,se,Ge),Oe===null?ze=st:Oe.sibling=st,Oe=st);return e&&Ue.forEach(function(S0){return t(ue,S0)}),ot&&Ji(ue,Ge),ze}function Xt(ue,se,de,je){if(typeof de=="object"&&de!==null&&de.type===W&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case A:e:{for(var ze=de.key,Oe=se;Oe!==null;){if(Oe.key===ze){if(ze=de.type,ze===W){if(Oe.tag===7){i(ue,Oe.sibling),se=p(Oe,de.props.children),se.return=ue,ue=se;break e}}else if(Oe.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===re&&wr(ze)===Oe.type){i(ue,Oe.sibling),se=p(Oe,de.props),se.ref=It(ue,Oe,de),se.return=ue,ue=se;break e}i(ue,Oe);break}else t(ue,Oe);Oe=Oe.sibling}de.type===W?(se=Ao(de.props.children,ue.mode,je,de.key),se.return=ue,ue=se):(je=Wc(de.type,de.key,de.props,null,ue.mode,je),je.ref=It(ue,se,de),je.return=ue,ue=je)}return B(ue);case O:e:{for(Oe=de.key;se!==null;){if(se.key===Oe)if(se.tag===4&&se.stateNode.containerInfo===de.containerInfo&&se.stateNode.implementation===de.implementation){i(ue,se.sibling),se=p(se,de.children||[]),se.return=ue,ue=se;break e}else{i(ue,se);break}else t(ue,se);se=se.sibling}se=Dd(de,ue.mode,je),se.return=ue,ue=se}return B(ue);case re:return Oe=de._init,Xt(ue,se,Oe(de._payload),je)}if(Pt(de))return Le(ue,se,de,je);if(V(de))return Fe(ue,se,de,je);Gn(ue,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,se!==null&&se.tag===6?(i(ue,se.sibling),se=p(se,de),se.return=ue,ue=se):(i(ue,se),se=Ad(de,ue.mode,je),se.return=ue,ue=se),B(ue)):i(ue,se)}return Xt}var es=wl(!0),cr=wl(!1),Eo=Yr(null),er=null,Ms=null,Cl=null;function kl(){Cl=Ms=er=null}function jl(e){var t=Eo.current;ft(Eo),e._currentValue=t}function Nl(e,t,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===i)break;e=e.return}}function Qr(e,t){er=e,Cl=Ms=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(M=!0),e.firstContext=null)}function Mn(e){var t=e._currentValue;if(Cl!==e)if(e={context:e,memoizedValue:t,next:null},Ms===null){if(er===null)throw Error(v(308));Ms=e,er.dependencies={lanes:0,firstContext:e}}else Ms=Ms.next=e;return t}var Lr=null;function bs(e){Lr===null?Lr=[e]:Lr.push(e)}function Po(e,t,i,l){var p=t.interleaved;return p===null?(i.next=i,bs(t)):(i.next=p.next,p.next=i),t.interleaved=i,tr(e,l)}function tr(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Fr=!1;function To(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function El(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ar(e,t,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(it&2)!==0){var p=l.pending;return p===null?t.next=t:(t.next=p.next,p.next=t),l.pending=t,tr(e,i)}return p=l.interleaved,p===null?(t.next=t,bs(l)):(t.next=p.next,p.next=t),l.interleaved=t,tr(e,i)}function Pl(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,ta(e,i)}}function Ro(e,t){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var p=null,w=null;if(i=i.firstBaseUpdate,i!==null){do{var B={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};w===null?p=w=B:w=w.next=B,i=i.next}while(i!==null);w===null?p=w=t:w=w.next=t}else p=w=t;i={baseState:l.baseState,firstBaseUpdate:p,lastBaseUpdate:w,shared:l.shared,effects:l.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Is(e,t,i,l){var p=e.updateQueue;Fr=!1;var w=p.firstBaseUpdate,B=p.lastBaseUpdate,ee=p.shared.pending;if(ee!==null){p.shared.pending=null;var ne=ee,fe=ne.next;ne.next=null,B===null?w=fe:B.next=fe,B=ne;var Se=e.alternate;Se!==null&&(Se=Se.updateQueue,ee=Se.lastBaseUpdate,ee!==B&&(ee===null?Se.firstBaseUpdate=fe:ee.next=fe,Se.lastBaseUpdate=ne))}if(w!==null){var _e=p.baseState;B=0,Se=fe=ne=null,ee=w;do{var xe=ee.lane,Re=ee.eventTime;if((l&xe)===xe){Se!==null&&(Se=Se.next={eventTime:Re,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var Le=e,Fe=ee;switch(xe=t,Re=i,Fe.tag){case 1:if(Le=Fe.payload,typeof Le=="function"){_e=Le.call(Re,_e,xe);break e}_e=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Fe.payload,xe=typeof Le=="function"?Le.call(Re,_e,xe):Le,xe==null)break e;_e=H({},_e,xe);break e;case 2:Fr=!0}}ee.callback!==null&&ee.lane!==0&&(e.flags|=64,xe=p.effects,xe===null?p.effects=[ee]:xe.push(ee))}else Re={eventTime:Re,lane:xe,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Se===null?(fe=Se=Re,ne=_e):Se=Se.next=Re,B|=xe;if(ee=ee.next,ee===null){if(ee=p.shared.pending,ee===null)break;xe=ee,ee=xe.next,xe.next=null,p.lastBaseUpdate=xe,p.shared.pending=null}}while(!0);if(Se===null&&(ne=_e),p.baseState=ne,p.firstBaseUpdate=fe,p.lastBaseUpdate=Se,t=p.shared.interleaved,t!==null){p=t;do B|=p.lane,p=p.next;while(p!==t)}else w===null&&(p.shared.lanes=0);Io|=B,e.lanes=B,e.memoizedState=_e}}function Tt(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],p=l.callback;if(p!==null){if(l.callback=null,l=i,typeof p!="function")throw Error(v(191,p));p.call(l)}}}var He={},dt=Yr(He),kt=Yr(He),Lt=Yr(He);function qt(e){if(e===He)throw Error(v(174));return e}function Si(e,t){switch(ct(Lt,t),ct(kt,e),ct(dt,He),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sr(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sr(t,e)}ft(dt),ct(dt,t)}function jt(){ft(dt),ft(kt),ft(Lt)}function Ls(e){qt(Lt.current);var t=qt(dt.current),i=sr(t,e.type);t!==i&&(ct(kt,e),ct(dt,i))}function Jr(e){kt.current===e&&(ft(dt),ft(kt))}var pt=Yr(0);function Fs(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function yn(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var zs=T.ReactCurrentDispatcher,Mo=T.ReactCurrentBatchConfig,bn=0,ut=null,Rt=null,Dt=null,Cr=!1,_i=!1,dr=0,Tl=0;function Ot(){throw Error(v(321))}function bo(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Un(e[i],t[i]))return!1;return!0}function As(e,t,i,l,p,w){if(bn=w,ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zs.current=e===null||e.memoizedState===null?yd:ki,e=i(l,p),_i){w=0;do{if(_i=!1,dr=0,25<=w)throw Error(v(301));w+=1,Dt=Rt=null,t.updateQueue=null,zs.current=Ll,e=i(l,p)}while(_i)}if(zs.current=Gs,t=Rt!==null&&Rt.next!==null,bn=0,Dt=Rt=ut=null,Cr=!1,t)throw Error(v(300));return e}function Ds(){var e=dr!==0;return dr=0,e}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ut.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function Kt(){if(Rt===null){var e=ut.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var t=Dt===null?ut.memoizedState:Dt.next;if(t!==null)Dt=t,Rt=e;else{if(e===null)throw Error(v(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Dt===null?ut.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function xn(e,t){return typeof t=="function"?t(e):t}function Sn(e){var t=Kt(),i=t.queue;if(i===null)throw Error(v(311));i.lastRenderedReducer=e;var l=Rt,p=l.baseQueue,w=i.pending;if(w!==null){if(p!==null){var B=p.next;p.next=w.next,w.next=B}l.baseQueue=p=w,i.pending=null}if(p!==null){w=p.next,l=l.baseState;var ee=B=null,ne=null,fe=w;do{var Se=fe.lane;if((bn&Se)===Se)ne!==null&&(ne=ne.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),l=fe.hasEagerState?fe.eagerState:e(l,fe.action);else{var _e={lane:Se,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};ne===null?(ee=ne=_e,B=l):ne=ne.next=_e,ut.lanes|=Se,Io|=Se}fe=fe.next}while(fe!==null&&fe!==w);ne===null?B=l:ne.next=ee,Un(l,t.memoizedState)||(M=!0),t.memoizedState=l,t.baseState=B,t.baseQueue=ne,i.lastRenderedState=l}if(e=i.interleaved,e!==null){p=e;do w=p.lane,ut.lanes|=w,Io|=w,p=p.next;while(p!==e)}else p===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Rl(e){var t=Kt(),i=t.queue;if(i===null)throw Error(v(311));i.lastRenderedReducer=e;var l=i.dispatch,p=i.pending,w=t.memoizedState;if(p!==null){i.pending=null;var B=p=p.next;do w=e(w,B.action),B=B.next;while(B!==p);Un(w,t.memoizedState)||(M=!0),t.memoizedState=w,t.baseQueue===null&&(t.baseState=w),i.lastRenderedState=w}return[w,l]}function Ml(){}function bl(e,t){var i=ut,l=Kt(),p=t(),w=!Un(l.memoizedState,p);if(w&&(l.memoizedState=p,M=!0),l=l.queue,Ia(Ra.bind(null,i,l,e),[e]),l.getSnapshot!==t||w||Dt!==null&&Dt.memoizedState.tag&1){if(i.flags|=2048,Os(9,Zr.bind(null,i,l,p,t),void 0,null),wn===null)throw Error(v(349));(bn&30)!==0||wc(i,t,p)}return p}function wc(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Zr(e,t,i,l){t.value=i,t.getSnapshot=l,Ma(t)&&Il(e)}function Ra(e,t,i){return i(function(){Ma(t)&&Il(e)})}function Ma(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Un(e,i)}catch{return!0}}function Il(e){var t=tr(e,1);t!==null&&ni(t,e,1,-1)}function wi(e){var t=yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:e},t.queue=e,e=e.dispatch=Pc.bind(null,ut,e),[t.memoizedState,e]}function Os(e,t,i,l){return e={tag:e,create:t,destroy:i,deps:l,next:null},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,t.lastEffect=e)),e}function ba(){return Kt().memoizedState}function Us(e,t,i,l){var p=yt();ut.flags|=e,p.memoizedState=Os(1|t,i,void 0,l===void 0?null:l)}function ns(e,t,i,l){var p=Kt();l=l===void 0?null:l;var w=void 0;if(Rt!==null){var B=Rt.memoizedState;if(w=B.destroy,l!==null&&bo(l,B.deps)){p.memoizedState=Os(t,i,w,l);return}}ut.flags|=e,p.memoizedState=Os(1|t,i,w,l)}function Cc(e,t){return Us(8390656,8,e,t)}function Ia(e,t){return ns(2048,8,e,t)}function La(e,t){return ns(4,2,e,t)}function Fa(e,t){return ns(4,4,e,t)}function Ci(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kc(e,t,i){return i=i!=null?i.concat([e]):null,ns(4,4,Ci.bind(null,t,e),i)}function $r(){}function za(e,t){var i=Kt();t=t===void 0?null:t;var l=i.memoizedState;return l!==null&&t!==null&&bo(t,l[1])?l[0]:(i.memoizedState=[e,t],e)}function xt(e,t){var i=Kt();t=t===void 0?null:t;var l=i.memoizedState;return l!==null&&t!==null&&bo(t,l[1])?l[0]:(e=e(),i.memoizedState=[e,t],e)}function jc(e,t,i){return(bn&21)===0?(e.baseState&&(e.baseState=!1,M=!0),e.memoizedState=i):(Un(i,t)||(i=ea(),ut.lanes|=i,Io|=i,e.baseState=!0),t)}function Nc(e,t){var i=nt;nt=i!==0&&4>i?i:4,e(!0);var l=Mo.transition;Mo.transition={};try{e(!1),t()}finally{nt=i,Mo.transition=l}}function Ec(){return Kt().memoizedState}function vd(e,t,i){var l=Ys(e);if(i={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null},Aa(e))Tc(t,i);else if(i=Po(e,t,i,l),i!==null){var p=rr();ni(i,e,l,p),nr(i,t,l)}}function Pc(e,t,i){var l=Ys(e),p={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(Aa(e))Tc(t,p);else{var w=e.alternate;if(e.lanes===0&&(w===null||w.lanes===0)&&(w=t.lastRenderedReducer,w!==null))try{var B=t.lastRenderedState,ee=w(B,i);if(p.hasEagerState=!0,p.eagerState=ee,Un(ee,B)){var ne=t.interleaved;ne===null?(p.next=p,bs(t)):(p.next=ne.next,ne.next=p),t.interleaved=p;return}}catch{}i=Po(e,t,p,l),i!==null&&(p=rr(),ni(i,e,l,p),nr(i,t,l))}}function Aa(e){var t=e.alternate;return e===ut||t!==null&&t===ut}function Tc(e,t){_i=Cr=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function nr(e,t,i){if((i&4194240)!==0){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,ta(e,i)}}var Gs={readContext:Mn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},yd={readContext:Mn,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:Mn,useEffect:Cc,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Us(4194308,4,Ci.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Us(4194308,4,e,t)},useInsertionEffect:function(e,t){return Us(4,2,e,t)},useMemo:function(e,t){var i=yt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var l=yt();return t=i!==void 0?i(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=vd.bind(null,ut,e),[l.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:wi,useDebugValue:$r,useDeferredValue:function(e){return yt().memoizedState=e},useTransition:function(){var e=wi(!1),t=e[0];return e=Nc.bind(null,e[1]),yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var l=ut,p=yt();if(ot){if(i===void 0)throw Error(v(407));i=i()}else{if(i=t(),wn===null)throw Error(v(349));(bn&30)!==0||wc(l,t,i)}p.memoizedState=i;var w={value:i,getSnapshot:t};return p.queue=w,Cc(Ra.bind(null,l,w,e),[e]),l.flags|=2048,Os(9,Zr.bind(null,l,w,i,t),void 0,null),i},useId:function(){var e=yt(),t=wn.identifierPrefix;if(ot){var i=Ct,l=Jn;i=(l&~(1<<32-Xe(l)-1)).toString(32)+i,t=":"+t+"R"+i,i=dr++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Tl++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ki={readContext:Mn,useCallback:za,useContext:Mn,useEffect:Ia,useImperativeHandle:kc,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:xt,useReducer:Sn,useRef:ba,useState:function(){return Sn(xn)},useDebugValue:$r,useDeferredValue:function(e){var t=Kt();return jc(t,Rt.memoizedState,e)},useTransition:function(){var e=Sn(xn)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:Ml,useSyncExternalStore:bl,useId:Ec,unstable_isNewReconciler:!1},Ll={readContext:Mn,useCallback:za,useContext:Mn,useEffect:Ia,useImperativeHandle:kc,useInsertionEffect:La,useLayoutEffect:Fa,useMemo:xt,useReducer:Rl,useRef:ba,useState:function(){return Rl(xn)},useDebugValue:$r,useDeferredValue:function(e){var t=Kt();return Rt===null?t.memoizedState=e:jc(t,Rt.memoizedState,e)},useTransition:function(){var e=Rl(xn)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:Ml,useSyncExternalStore:bl,useId:Ec,unstable_isNewReconciler:!1};function dn(e,t){if(e&&e.defaultProps){t=H({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Ws(e,t,i,l){t=e.memoizedState,i=i(l,t),i=i==null?t:H({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Bs={isMounted:function(e){return(e=e._reactInternals)?Ri(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var l=rr(),p=Ys(e),w=zr(l,p);w.payload=t,i!=null&&(w.callback=i),t=Ar(e,w,p),t!==null&&(ni(t,e,p,l),Pl(t,e,p))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var l=rr(),p=Ys(e),w=zr(l,p);w.tag=1,w.payload=t,i!=null&&(w.callback=i),t=Ar(e,w,p),t!==null&&(ni(t,e,p,l),Pl(t,e,p))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=rr(),l=Ys(e),p=zr(i,l);p.tag=2,t!=null&&(p.callback=t),t=Ar(e,p,l),t!==null&&(ni(t,e,l,i),Pl(t,e,l))}};function Fl(e,t,i,l,p,w,B){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,w,B):t.prototype&&t.prototype.isPureReactComponent?!Oi(i,l)||!Oi(p,w):!0}function Rc(e,t,i){var l=!1,p=br,w=t.contextType;return typeof w=="object"&&w!==null?w=Mn(w):(p=vn(t)?gi:cn.current,l=t.contextTypes,w=(l=l!=null)?Yi(e,p):br),t=new t(i,w),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bs,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=p,e.__reactInternalMemoizedMaskedChildContext=w),t}function Da(e,t,i,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,l),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function zl(e,t,i,l){var p=e.stateNode;p.props=i,p.state=e.memoizedState,p.refs={},To(e);var w=t.contextType;typeof w=="object"&&w!==null?p.context=Mn(w):(w=vn(t)?gi:cn.current,p.context=Yi(e,w)),p.state=e.memoizedState,w=t.getDerivedStateFromProps,typeof w=="function"&&(Ws(e,t,w,i),p.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(t=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),t!==p.state&&Bs.enqueueReplaceState(p,p.state,null),Is(e,i,p,l),p.state=e.memoizedState),typeof p.componentDidMount=="function"&&(e.flags|=4194308)}function rs(e,t){try{var i="",l=t;do i+=pe(l),l=l.return;while(l);var p=i}catch(w){p=`
Error generating stack: `+w.message+`
`+w.stack}return{value:e,source:t,stack:p,digest:null}}function Al(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Hs(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var xd=typeof WeakMap=="function"?WeakMap:Map;function Mc(e,t,i){i=zr(-1,i),i.tag=3,i.payload={element:null};var l=t.value;return i.callback=function(){zc||(zc=!0,Td=l),Hs(e,t)},i}function n(e,t,i){i=zr(-1,i),i.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var p=t.value;i.payload=function(){return l(p)},i.callback=function(){Hs(e,t)}}var w=e.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){Hs(e,t),typeof l!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var B=t.stack;this.componentDidCatch(t.value,{componentStack:B!==null?B:""})}),i}function r(e,t,i){var l=e.pingCache;if(l===null){l=e.pingCache=new xd;var p=new Set;l.set(t,p)}else p=l.get(t),p===void 0&&(p=new Set,l.set(t,p));p.has(i)||(p.add(i),e=u0.bind(null,e,t,i),t.then(e,e))}function o(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function c(e,t,i,l,p){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=zr(-1,1),t.tag=2,Ar(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=p,e)}var x=T.ReactCurrentOwner,M=!1;function q(e,t,i,l){t.child=e===null?cr(t,null,i,l):es(t,e.child,i,l)}function le(e,t,i,l,p){i=i.render;var w=t.ref;return Qr(t,p),l=As(e,t,i,l,w,p),i=Ds(),e!==null&&!M?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~p,_n(e,t,p)):(ot&&i&&Ts(t),t.flags|=1,q(e,t,l,p),t.child)}function ge(e,t,i,l,p){if(e===null){var w=i.type;return typeof w=="function"&&!zd(w)&&w.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=w,ke(e,t,w,l,p)):(e=Wc(i.type,null,l,t,t.mode,p),e.ref=t.ref,e.return=t,t.child=e)}if(w=e.child,(e.lanes&p)===0){var B=w.memoizedProps;if(i=i.compare,i=i!==null?i:Oi,i(B,l)&&e.ref===t.ref)return _n(e,t,p)}return t.flags|=1,e=Qs(w,l),e.ref=t.ref,e.return=t,t.child=e}function ke(e,t,i,l,p){if(e!==null){var w=e.memoizedProps;if(Oi(w,l)&&e.ref===t.ref)if(M=!1,t.pendingProps=l=w,(e.lanes&p)!==0)(e.flags&131072)!==0&&(M=!0);else return t.lanes=e.lanes,_n(e,t,p)}return Ee(e,t,i,l,p)}function be(e,t,i){var l=t.pendingProps,p=l.children,w=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(Ol,kr),kr|=i;else{if((i&1073741824)===0)return e=w!==null?w.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ct(Ol,kr),kr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=w!==null?w.baseLanes:i,ct(Ol,kr),kr|=l}else w!==null?(l=w.baseLanes|i,t.memoizedState=null):l=i,ct(Ol,kr),kr|=l;return q(e,t,p,i),t.child}function We(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Ee(e,t,i,l,p){var w=vn(i)?gi:cn.current;return w=Yi(t,w),Qr(t,p),i=As(e,t,i,l,w,p),l=Ds(),e!==null&&!M?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~p,_n(e,t,p)):(ot&&l&&Ts(t),t.flags|=1,q(e,t,i,p),t.child)}function gt(e,t,i,l,p){if(vn(i)){var w=!0;Xi(t)}else w=!1;if(Qr(t,p),t.stateNode===null)Ze(e,t),Rc(t,i,l),zl(t,i,l,p),l=!0;else if(e===null){var B=t.stateNode,ee=t.memoizedProps;B.props=ee;var ne=B.context,fe=i.contextType;typeof fe=="object"&&fe!==null?fe=Mn(fe):(fe=vn(i)?gi:cn.current,fe=Yi(t,fe));var Se=i.getDerivedStateFromProps,_e=typeof Se=="function"||typeof B.getSnapshotBeforeUpdate=="function";_e||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(ee!==l||ne!==fe)&&Da(t,B,l,fe),Fr=!1;var xe=t.memoizedState;B.state=xe,Is(t,l,B,p),ne=t.memoizedState,ee!==l||xe!==ne||mn.current||Fr?(typeof Se=="function"&&(Ws(t,i,Se,l),ne=t.memoizedState),(ee=Fr||Fl(t,i,ee,l,xe,ne,fe))?(_e||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(t.flags|=4194308)):(typeof B.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=ne),B.props=l,B.state=ne,B.context=fe,l=ee):(typeof B.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{B=t.stateNode,El(e,t),ee=t.memoizedProps,fe=t.type===t.elementType?ee:dn(t.type,ee),B.props=fe,_e=t.pendingProps,xe=B.context,ne=i.contextType,typeof ne=="object"&&ne!==null?ne=Mn(ne):(ne=vn(i)?gi:cn.current,ne=Yi(t,ne));var Re=i.getDerivedStateFromProps;(Se=typeof Re=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(ee!==_e||xe!==ne)&&Da(t,B,l,ne),Fr=!1,xe=t.memoizedState,B.state=xe,Is(t,l,B,p);var Le=t.memoizedState;ee!==_e||xe!==Le||mn.current||Fr?(typeof Re=="function"&&(Ws(t,i,Re,l),Le=t.memoizedState),(fe=Fr||Fl(t,i,fe,l,xe,Le,ne)||!1)?(Se||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(l,Le,ne),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(l,Le,ne)),typeof B.componentDidUpdate=="function"&&(t.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof B.componentDidUpdate!="function"||ee===e.memoizedProps&&xe===e.memoizedState||(t.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||ee===e.memoizedProps&&xe===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=Le),B.props=l,B.state=Le,B.context=ne,l=fe):(typeof B.componentDidUpdate!="function"||ee===e.memoizedProps&&xe===e.memoizedState||(t.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||ee===e.memoizedProps&&xe===e.memoizedState||(t.flags|=1024),l=!1)}return lt(e,t,i,l,w,p)}function lt(e,t,i,l,p,w){We(e,t);var B=(t.flags&128)!==0;if(!l&&!B)return p&&xc(t,i,!1),_n(e,t,w);l=t.stateNode,x.current=t;var ee=B&&typeof i.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&B?(t.child=es(t,e.child,null,w),t.child=es(t,null,ee,w)):q(e,t,ee,w),t.memoizedState=l.state,p&&xc(t,i,!0),t.child}function In(e){var t=e.stateNode;t.pendingContext?Na(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Na(e,t.context,!1),Si(e,t.containerInfo)}function Dr(e,t,i,l,p){return $i(),No(p),t.flags|=256,q(e,t,i,l),t.child}var he={dehydrated:null,treeContext:null,retryLane:0};function ae(e){return{baseLanes:e,cachePool:null,transitions:null}}function me(e,t,i){var l=t.pendingProps,p=pt.current,w=!1,B=(t.flags&128)!==0,ee;if((ee=B)||(ee=e!==null&&e.memoizedState===null?!1:(p&2)!==0),ee?(w=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(p|=1),ct(pt,p&1),e===null)return Rs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(B=l.children,e=l.fallback,w?(l=t.mode,w=t.child,B={mode:"hidden",children:B},(l&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=B):w=Bc(B,l,0,null),e=Ao(e,l,i,null),w.return=t,e.return=t,w.sibling=e,t.child=w,t.child.memoizedState=ae(i),t.memoizedState=he,e):Pe(t,B));if(p=e.memoizedState,p!==null&&(ee=p.dehydrated,ee!==null))return qe(e,t,B,l,ee,p,i);if(w){w=l.fallback,B=t.mode,p=e.child,ee=p.sibling;var ne={mode:"hidden",children:l.children};return(B&1)===0&&t.child!==p?(l=t.child,l.childLanes=0,l.pendingProps=ne,t.deletions=null):(l=Qs(p,ne),l.subtreeFlags=p.subtreeFlags&14680064),ee!==null?w=Qs(ee,w):(w=Ao(w,B,i,null),w.flags|=2),w.return=t,l.return=t,l.sibling=w,t.child=l,l=w,w=t.child,B=e.child.memoizedState,B=B===null?ae(i):{baseLanes:B.baseLanes|i,cachePool:null,transitions:B.transitions},w.memoizedState=B,w.childLanes=e.childLanes&~i,t.memoizedState=he,l}return w=e.child,e=w.sibling,l=Qs(w,{mode:"visible",children:l.children}),(t.mode&1)===0&&(l.lanes=i),l.return=t,l.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=l,t.memoizedState=null,l}function Pe(e,t){return t=Bc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function De(e,t,i,l){return l!==null&&No(l),es(t,e.child,null,i),e=Pe(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qe(e,t,i,l,p,w,B){if(i)return t.flags&256?(t.flags&=-257,l=Al(Error(v(422))),De(e,t,B,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(w=l.fallback,p=t.mode,l=Bc({mode:"visible",children:l.children},p,0,null),w=Ao(w,p,B,null),w.flags|=2,l.return=t,w.return=t,l.sibling=w,t.child=l,(t.mode&1)!==0&&es(t,e.child,null,B),t.child.memoizedState=ae(B),t.memoizedState=he,w);if((t.mode&1)===0)return De(e,t,B,null);if(p.data==="$!"){if(l=p.nextSibling&&p.nextSibling.dataset,l)var ee=l.dgst;return l=ee,w=Error(v(419)),l=Al(w,l,void 0),De(e,t,B,l)}if(ee=(B&e.childLanes)!==0,M||ee){if(l=wn,l!==null){switch(B&-B){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(l.suspendedLanes|B))!==0?0:p,p!==0&&p!==w.retryLane&&(w.retryLane=p,tr(e,p),ni(l,e,p,-1))}return Fd(),l=Al(Error(v(421))),De(e,t,B,l)}return p.data==="$?"?(t.flags|=128,t.child=e.child,t=c0.bind(null,e),p._reactRetry=t,null):(e=w.treeContext,Ne=Rr(p.nextSibling),Zn=t,ot=!0,$n=null,e!==null&&(Tn[Rn++]=Jn,Tn[Rn++]=Ct,Tn[Rn++]=xi,Jn=e.id,Ct=e.overflow,xi=t),t=Pe(t,l.children),t.flags|=4096,t)}function Be(e,t,i){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Nl(e.return,t,i)}function et(e,t,i,l,p){var w=e.memoizedState;w===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:p}:(w.isBackwards=t,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=i,w.tailMode=p)}function Yt(e,t,i){var l=t.pendingProps,p=l.revealOrder,w=l.tail;if(q(e,t,l.children,i),l=pt.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Be(e,i,t);else if(e.tag===19)Be(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(ct(pt,l),(t.mode&1)===0)t.memoizedState=null;else switch(p){case"forwards":for(i=t.child,p=null;i!==null;)e=i.alternate,e!==null&&Fs(e)===null&&(p=i),i=i.sibling;i=p,i===null?(p=t.child,t.child=null):(p=i.sibling,i.sibling=null),et(t,!1,p,i,w);break;case"backwards":for(i=null,p=t.child,t.child=null;p!==null;){if(e=p.alternate,e!==null&&Fs(e)===null){t.child=p;break}e=p.sibling,p.sibling=i,i=p,p=e}et(t,!0,i,null,w);break;case"together":et(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ze(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _n(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Io|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(v(153));if(t.child!==null){for(e=t.child,i=Qs(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Qs(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Sd(e,t,i){switch(t.tag){case 3:In(t),$i();break;case 5:Ls(t);break;case 1:vn(t.type)&&Xi(t);break;case 4:Si(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,p=t.memoizedProps.value;ct(Eo,l._currentValue),l._currentValue=p;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(ct(pt,pt.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?me(e,t,i):(ct(pt,pt.current&1),e=_n(e,t,i),e!==null?e.sibling:null);ct(pt,pt.current&1);break;case 19:if(l=(i&t.childLanes)!==0,(e.flags&128)!==0){if(l)return Yt(e,t,i);t.flags|=128}if(p=t.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ct(pt,pt.current),l)break;return null;case 22:case 23:return t.lanes=0,be(e,t,i)}return _n(e,t,i)}var wh,_d,Ch,kh;wh=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},_d=function(){},Ch=function(e,t,i,l){var p=e.memoizedProps;if(p!==l){e=t.stateNode,qt(dt.current);var w=null;switch(i){case"input":p=Ve(e,p),l=Ve(e,l),w=[];break;case"select":p=H({},p,{value:void 0}),l=H({},l,{value:void 0}),w=[];break;case"textarea":p=at(e,p),l=at(e,l),w=[];break;default:typeof p.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Vi)}ro(i,l);var B;i=null;for(fe in p)if(!l.hasOwnProperty(fe)&&p.hasOwnProperty(fe)&&p[fe]!=null)if(fe==="style"){var ee=p[fe];for(B in ee)ee.hasOwnProperty(B)&&(i||(i={}),i[B]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(E.hasOwnProperty(fe)?w||(w=[]):(w=w||[]).push(fe,null));for(fe in l){var ne=l[fe];if(ee=p?.[fe],l.hasOwnProperty(fe)&&ne!==ee&&(ne!=null||ee!=null))if(fe==="style")if(ee){for(B in ee)!ee.hasOwnProperty(B)||ne&&ne.hasOwnProperty(B)||(i||(i={}),i[B]="");for(B in ne)ne.hasOwnProperty(B)&&ee[B]!==ne[B]&&(i||(i={}),i[B]=ne[B])}else i||(w||(w=[]),w.push(fe,i)),i=ne;else fe==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ee=ee?ee.__html:void 0,ne!=null&&ee!==ne&&(w=w||[]).push(fe,ne)):fe==="children"?typeof ne!="string"&&typeof ne!="number"||(w=w||[]).push(fe,""+ne):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(E.hasOwnProperty(fe)?(ne!=null&&fe==="onScroll"&&ht("scroll",e),w||ee===ne||(w=[])):(w=w||[]).push(fe,ne))}i&&(w=w||[]).push("style",i);var fe=w;(t.updateQueue=fe)&&(t.flags|=4)}},kh=function(e,t,i,l){i!==l&&(t.flags|=4)};function Oa(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Wn(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(t)for(var p=e.child;p!==null;)i|=p.lanes|p.childLanes,l|=p.subtreeFlags&14680064,l|=p.flags&14680064,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)i|=p.lanes|p.childLanes,l|=p.subtreeFlags,l|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=l,e.childLanes=i,t}function $p(e,t,i){var l=t.pendingProps;switch(tn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(t),null;case 1:return vn(t.type)&&Es(),Wn(t),null;case 3:return l=t.stateNode,jt(),ft(mn),ft(cn),yn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(jo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,$n!==null&&(bd($n),$n=null))),_d(e,t),Wn(t),null;case 5:Jr(t);var p=qt(Lt.current);if(i=t.type,e!==null&&t.stateNode!=null)Ch(e,t,i,l,p),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(v(166));return Wn(t),null}if(e=qt(dt.current),jo(t)){l=t.stateNode,i=t.type;var w=t.memoizedProps;switch(l[ur]=t,l[wo]=w,e=(t.mode&1)!==0,i){case"dialog":ht("cancel",l),ht("close",l);break;case"iframe":case"object":case"embed":ht("load",l);break;case"video":case"audio":for(p=0;p<hi.length;p++)ht(hi[p],l);break;case"source":ht("error",l);break;case"img":case"image":case"link":ht("error",l),ht("load",l);break;case"details":ht("toggle",l);break;case"input":Ae(l,w),ht("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!w.multiple},ht("invalid",l);break;case"textarea":zn(l,w),ht("invalid",l)}ro(i,w),p=null;for(var B in w)if(w.hasOwnProperty(B)){var ee=w[B];B==="children"?typeof ee=="string"?l.textContent!==ee&&(w.suppressHydrationWarning!==!0&&So(l.textContent,ee,e),p=["children",ee]):typeof ee=="number"&&l.textContent!==""+ee&&(w.suppressHydrationWarning!==!0&&So(l.textContent,ee,e),p=["children",""+ee]):E.hasOwnProperty(B)&&ee!=null&&B==="onScroll"&&ht("scroll",l)}switch(i){case"input":Ce(l),_t(l,w,!0);break;case"textarea":Ce(l),Nr(l);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(l.onclick=Vi)}l=p,t.updateQueue=l,l!==null&&(t.flags|=4)}else{B=p.nodeType===9?p:p.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sn(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=B.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=B.createElement(i,{is:l.is}):(e=B.createElement(i),i==="select"&&(B=e,l.multiple?B.multiple=!0:l.size&&(B.size=l.size))):e=B.createElementNS(e,i),e[ur]=t,e[wo]=l,wh(e,t,!1,!1),t.stateNode=e;e:{switch(B=Oo(i,l),i){case"dialog":ht("cancel",e),ht("close",e),p=l;break;case"iframe":case"object":case"embed":ht("load",e),p=l;break;case"video":case"audio":for(p=0;p<hi.length;p++)ht(hi[p],e);p=l;break;case"source":ht("error",e),p=l;break;case"img":case"image":case"link":ht("error",e),ht("load",e),p=l;break;case"details":ht("toggle",e),p=l;break;case"input":Ae(e,l),p=Ve(e,l),ht("invalid",e);break;case"option":p=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},p=H({},l,{value:void 0}),ht("invalid",e);break;case"textarea":zn(e,l),p=at(e,l),ht("invalid",e);break;default:p=l}ro(i,p),ee=p;for(w in ee)if(ee.hasOwnProperty(w)){var ne=ee[w];w==="style"?Pi(e,ne):w==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&Hn(e,ne)):w==="children"?typeof ne=="string"?(i!=="textarea"||ne!=="")&&Ft(e,ne):typeof ne=="number"&&Ft(e,""+ne):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(E.hasOwnProperty(w)?ne!=null&&w==="onScroll"&&ht("scroll",e):ne!=null&&h(e,w,ne,B))}switch(i){case"input":Ce(e),_t(e,l,!1);break;case"textarea":Ce(e),Nr(e);break;case"option":l.value!=null&&e.setAttribute("value",""+oe(l.value));break;case"select":e.multiple=!!l.multiple,w=l.value,w!=null?ir(e,!!l.multiple,w,!1):l.defaultValue!=null&&ir(e,!!l.multiple,l.defaultValue,!0);break;default:typeof p.onClick=="function"&&(e.onclick=Vi)}switch(i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Wn(t),null;case 6:if(e&&t.stateNode!=null)kh(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(v(166));if(i=qt(Lt.current),qt(dt.current),jo(t)){if(l=t.stateNode,i=t.memoizedProps,l[ur]=t,(w=l.nodeValue!==i)&&(e=Zn,e!==null))switch(e.tag){case 3:So(l.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&So(l.nodeValue,i,(e.mode&1)!==0)}w&&(t.flags|=4)}else l=(i.nodeType===9?i:i.ownerDocument).createTextNode(l),l[ur]=t,t.stateNode=l}return Wn(t),null;case 13:if(ft(pt),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&Ne!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Pa(),$i(),t.flags|=98560,w=!1;else if(w=jo(t),l!==null&&l.dehydrated!==null){if(e===null){if(!w)throw Error(v(318));if(w=t.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(v(317));w[ur]=t}else $i(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Wn(t),w=!1}else $n!==null&&(bd($n),$n=null),w=!0;if(!w)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(pt.current&1)!==0?hn===0&&(hn=3):Fd())),t.updateQueue!==null&&(t.flags|=4),Wn(t),null);case 4:return jt(),_d(e,t),e===null&&Bi(t.stateNode.containerInfo),Wn(t),null;case 10:return jl(t.type._context),Wn(t),null;case 17:return vn(t.type)&&Es(),Wn(t),null;case 19:if(ft(pt),w=t.memoizedState,w===null)return Wn(t),null;if(l=(t.flags&128)!==0,B=w.rendering,B===null)if(l)Oa(w,!1);else{if(hn!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(B=Fs(e),B!==null){for(t.flags|=128,Oa(w,!1),l=B.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=i,i=t.child;i!==null;)w=i,e=l,w.flags&=14680066,B=w.alternate,B===null?(w.childLanes=0,w.lanes=e,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=B.childLanes,w.lanes=B.lanes,w.child=B.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=B.memoizedProps,w.memoizedState=B.memoizedState,w.updateQueue=B.updateQueue,w.type=B.type,e=B.dependencies,w.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return ct(pt,pt.current&1|2),t.child}e=e.sibling}w.tail!==null&&bt()>Ul&&(t.flags|=128,l=!0,Oa(w,!1),t.lanes=4194304)}else{if(!l)if(e=Fs(B),e!==null){if(t.flags|=128,l=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Oa(w,!0),w.tail===null&&w.tailMode==="hidden"&&!B.alternate&&!ot)return Wn(t),null}else 2*bt()-w.renderingStartTime>Ul&&i!==1073741824&&(t.flags|=128,l=!0,Oa(w,!1),t.lanes=4194304);w.isBackwards?(B.sibling=t.child,t.child=B):(i=w.last,i!==null?i.sibling=B:t.child=B,w.last=B)}return w.tail!==null?(t=w.tail,w.rendering=t,w.tail=t.sibling,w.renderingStartTime=bt(),t.sibling=null,i=pt.current,ct(pt,l?i&1|2:i&1),t):(Wn(t),null);case 22:case 23:return Ld(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&(t.mode&1)!==0?(kr&1073741824)!==0&&(Wn(t),t.subtreeFlags&6&&(t.flags|=8192)):Wn(t),null;case 24:return null;case 25:return null}throw Error(v(156,t.tag))}function e0(e,t){switch(tn(t),t.tag){case 1:return vn(t.type)&&Es(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jt(),ft(mn),ft(cn),yn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Jr(t),null;case 13:if(ft(pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(v(340));$i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ft(pt),null;case 4:return jt(),null;case 10:return jl(t.type._context),null;case 22:case 23:return Ld(),null;case 24:return null;default:return null}}var bc=!1,Bn=!1,t0=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Dl(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){Ut(e,t,l)}else i.current=null}function wd(e,t,i){try{i()}catch(l){Ut(e,t,l)}}var jh=!1;function n0(e,t){if(wa=Jo,e=Ht(),Cs(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var p=l.anchorOffset,w=l.focusNode;l=l.focusOffset;try{i.nodeType,w.nodeType}catch{i=null;break e}var B=0,ee=-1,ne=-1,fe=0,Se=0,_e=e,xe=null;t:for(;;){for(var Re;_e!==i||p!==0&&_e.nodeType!==3||(ee=B+p),_e!==w||l!==0&&_e.nodeType!==3||(ne=B+l),_e.nodeType===3&&(B+=_e.nodeValue.length),(Re=_e.firstChild)!==null;)xe=_e,_e=Re;for(;;){if(_e===e)break t;if(xe===i&&++fe===p&&(ee=B),xe===w&&++Se===l&&(ne=B),(Re=_e.nextSibling)!==null)break;_e=xe,xe=_e.parentNode}_e=Re}i=ee===-1||ne===-1?null:{start:ee,end:ne}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ca={focusedElem:e,selectionRange:i},Jo=!1,Ie=t;Ie!==null;)if(t=Ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ie=e;else for(;Ie!==null;){t=Ie;try{var Le=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var Fe=Le.memoizedProps,Xt=Le.memoizedState,ue=t.stateNode,se=ue.getSnapshotBeforeUpdate(t.elementType===t.type?Fe:dn(t.type,Fe),Xt);ue.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var de=t.stateNode.containerInfo;de.nodeType===1?de.textContent="":de.nodeType===9&&de.documentElement&&de.removeChild(de.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(v(163))}}catch(je){Ut(t,t.return,je)}if(e=t.sibling,e!==null){e.return=t.return,Ie=e;break}Ie=t.return}return Le=jh,jh=!1,Le}function Ua(e,t,i){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var p=l=l.next;do{if((p.tag&e)===e){var w=p.destroy;p.destroy=void 0,w!==void 0&&wd(t,i,w)}p=p.next}while(p!==l)}}function Ic(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var l=i.create;i.destroy=l()}i=i.next}while(i!==t)}}function Cd(e){var t=e.ref;if(t!==null){var i=e.stateNode;e.tag,e=i,typeof t=="function"?t(e):t.current=e}}function Nh(e){var t=e.alternate;t!==null&&(e.alternate=null,Nh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ur],delete t[wo],delete t[vl],delete t[vc],delete t[yc])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Eh(e){return e.tag===5||e.tag===3||e.tag===4}function Ph(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Eh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kd(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Vi));else if(l!==4&&(e=e.child,e!==null))for(kd(e,t,i),e=e.sibling;e!==null;)kd(e,t,i),e=e.sibling}function jd(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(jd(e,t,i),e=e.sibling;e!==null;)jd(e,t,i),e=e.sibling}var Ln=null,ei=!1;function Vs(e,t,i){for(i=i.child;i!==null;)Th(e,t,i),i=i.sibling}function Th(e,t,i){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Gr,i)}catch{}switch(i.tag){case 5:Bn||Dl(i,t);case 6:var l=Ln,p=ei;Ln=null,Vs(e,t,i),Ln=l,ei=p,Ln!==null&&(ei?(e=Ln,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Ln.removeChild(i.stateNode));break;case 18:Ln!==null&&(ei?(e=Ln,i=i.stateNode,e.nodeType===8?ml(e.parentNode,i):e.nodeType===1&&ml(e,i),Dn(e)):ml(Ln,i.stateNode));break;case 4:l=Ln,p=ei,Ln=i.stateNode.containerInfo,ei=!0,Vs(e,t,i),Ln=l,ei=p;break;case 0:case 11:case 14:case 15:if(!Bn&&(l=i.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){p=l=l.next;do{var w=p,B=w.destroy;w=w.tag,B!==void 0&&((w&2)!==0||(w&4)!==0)&&wd(i,t,B),p=p.next}while(p!==l)}Vs(e,t,i);break;case 1:if(!Bn&&(Dl(i,t),l=i.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=i.memoizedProps,l.state=i.memoizedState,l.componentWillUnmount()}catch(ee){Ut(i,t,ee)}Vs(e,t,i);break;case 21:Vs(e,t,i);break;case 22:i.mode&1?(Bn=(l=Bn)||i.memoizedState!==null,Vs(e,t,i),Bn=l):Vs(e,t,i);break;default:Vs(e,t,i)}}function Rh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new t0),t.forEach(function(l){var p=d0.bind(null,e,l);i.has(l)||(i.add(l),l.then(p,p))})}}function ti(e,t){var i=t.deletions;if(i!==null)for(var l=0;l<i.length;l++){var p=i[l];try{var w=e,B=t,ee=B;e:for(;ee!==null;){switch(ee.tag){case 5:Ln=ee.stateNode,ei=!1;break e;case 3:Ln=ee.stateNode.containerInfo,ei=!0;break e;case 4:Ln=ee.stateNode.containerInfo,ei=!0;break e}ee=ee.return}if(Ln===null)throw Error(v(160));Th(w,B,p),Ln=null,ei=!1;var ne=p.alternate;ne!==null&&(ne.return=null),p.return=null}catch(fe){Ut(p,t,fe)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Mh(t,e),t=t.sibling}function Mh(e,t){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ti(t,e),ji(e),l&4){try{Ua(3,e,e.return),Ic(3,e)}catch(Fe){Ut(e,e.return,Fe)}try{Ua(5,e,e.return)}catch(Fe){Ut(e,e.return,Fe)}}break;case 1:ti(t,e),ji(e),l&512&&i!==null&&Dl(i,i.return);break;case 5:if(ti(t,e),ji(e),l&512&&i!==null&&Dl(i,i.return),e.flags&32){var p=e.stateNode;try{Ft(p,"")}catch(Fe){Ut(e,e.return,Fe)}}if(l&4&&(p=e.stateNode,p!=null)){var w=e.memoizedProps,B=i!==null?i.memoizedProps:w,ee=e.type,ne=e.updateQueue;if(e.updateQueue=null,ne!==null)try{ee==="input"&&w.type==="radio"&&w.name!=null&&St(p,w),Oo(ee,B);var fe=Oo(ee,w);for(B=0;B<ne.length;B+=2){var Se=ne[B],_e=ne[B+1];Se==="style"?Pi(p,_e):Se==="dangerouslySetInnerHTML"?Hn(p,_e):Se==="children"?Ft(p,_e):h(p,Se,_e,fe)}switch(ee){case"input":rt(p,w);break;case"textarea":rn(p,w);break;case"select":var xe=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!w.multiple;var Re=w.value;Re!=null?ir(p,!!w.multiple,Re,!1):xe!==!!w.multiple&&(w.defaultValue!=null?ir(p,!!w.multiple,w.defaultValue,!0):ir(p,!!w.multiple,w.multiple?[]:"",!1))}p[wo]=w}catch(Fe){Ut(e,e.return,Fe)}}break;case 6:if(ti(t,e),ji(e),l&4){if(e.stateNode===null)throw Error(v(162));p=e.stateNode,w=e.memoizedProps;try{p.nodeValue=w}catch(Fe){Ut(e,e.return,Fe)}}break;case 3:if(ti(t,e),ji(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Dn(t.containerInfo)}catch(Fe){Ut(e,e.return,Fe)}break;case 4:ti(t,e),ji(e);break;case 13:ti(t,e),ji(e),p=e.child,p.flags&8192&&(w=p.memoizedState!==null,p.stateNode.isHidden=w,!w||p.alternate!==null&&p.alternate.memoizedState!==null||(Pd=bt())),l&4&&Rh(e);break;case 22:if(Se=i!==null&&i.memoizedState!==null,e.mode&1?(Bn=(fe=Bn)||Se,ti(t,e),Bn=fe):ti(t,e),ji(e),l&8192){if(fe=e.memoizedState!==null,(e.stateNode.isHidden=fe)&&!Se&&(e.mode&1)!==0)for(Ie=e,Se=e.child;Se!==null;){for(_e=Ie=Se;Ie!==null;){switch(xe=Ie,Re=xe.child,xe.tag){case 0:case 11:case 14:case 15:Ua(4,xe,xe.return);break;case 1:Dl(xe,xe.return);var Le=xe.stateNode;if(typeof Le.componentWillUnmount=="function"){l=xe,i=xe.return;try{t=l,Le.props=t.memoizedProps,Le.state=t.memoizedState,Le.componentWillUnmount()}catch(Fe){Ut(l,i,Fe)}}break;case 5:Dl(xe,xe.return);break;case 22:if(xe.memoizedState!==null){Lh(_e);continue}}Re!==null?(Re.return=xe,Ie=Re):Lh(_e)}Se=Se.sibling}e:for(Se=null,_e=e;;){if(_e.tag===5){if(Se===null){Se=_e;try{p=_e.stateNode,fe?(w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(ee=_e.stateNode,ne=_e.memoizedProps.style,B=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,ee.style.display=no("display",B))}catch(Fe){Ut(e,e.return,Fe)}}}else if(_e.tag===6){if(Se===null)try{_e.stateNode.nodeValue=fe?"":_e.memoizedProps}catch(Fe){Ut(e,e.return,Fe)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===e)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===e)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===e)break e;Se===_e&&(Se=null),_e=_e.return}Se===_e&&(Se=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:ti(t,e),ji(e),l&4&&Rh(e);break;case 21:break;default:ti(t,e),ji(e)}}function ji(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Eh(i)){var l=i;break e}i=i.return}throw Error(v(160))}switch(l.tag){case 5:var p=l.stateNode;l.flags&32&&(Ft(p,""),l.flags&=-33);var w=Ph(e);jd(e,w,p);break;case 3:case 4:var B=l.stateNode.containerInfo,ee=Ph(e);kd(e,ee,B);break;default:throw Error(v(161))}}catch(ne){Ut(e,e.return,ne)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function r0(e,t,i){Ie=e,bh(e)}function bh(e,t,i){for(var l=(e.mode&1)!==0;Ie!==null;){var p=Ie,w=p.child;if(p.tag===22&&l){var B=p.memoizedState!==null||bc;if(!B){var ee=p.alternate,ne=ee!==null&&ee.memoizedState!==null||Bn;ee=bc;var fe=Bn;if(bc=B,(Bn=ne)&&!fe)for(Ie=p;Ie!==null;)B=Ie,ne=B.child,B.tag===22&&B.memoizedState!==null?Fh(p):ne!==null?(ne.return=B,Ie=ne):Fh(p);for(;w!==null;)Ie=w,bh(w),w=w.sibling;Ie=p,bc=ee,Bn=fe}Ih(e)}else(p.subtreeFlags&8772)!==0&&w!==null?(w.return=p,Ie=w):Ih(e)}}function Ih(e){for(;Ie!==null;){var t=Ie;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Bn||Ic(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!Bn)if(i===null)l.componentDidMount();else{var p=t.elementType===t.type?i.memoizedProps:dn(t.type,i.memoizedProps);l.componentDidUpdate(p,i.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var w=t.updateQueue;w!==null&&Tt(t,w,l);break;case 3:var B=t.updateQueue;if(B!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Tt(t,B,i)}break;case 5:var ee=t.stateNode;if(i===null&&t.flags&4){i=ee;var ne=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&i.focus();break;case"img":ne.src&&(i.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var fe=t.alternate;if(fe!==null){var Se=fe.memoizedState;if(Se!==null){var _e=Se.dehydrated;_e!==null&&Dn(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(v(163))}Bn||t.flags&512&&Cd(t)}catch(xe){Ut(t,t.return,xe)}}if(t===e){Ie=null;break}if(i=t.sibling,i!==null){i.return=t.return,Ie=i;break}Ie=t.return}}function Lh(e){for(;Ie!==null;){var t=Ie;if(t===e){Ie=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Ie=i;break}Ie=t.return}}function Fh(e){for(;Ie!==null;){var t=Ie;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Ic(4,t)}catch(ne){Ut(t,i,ne)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var p=t.return;try{l.componentDidMount()}catch(ne){Ut(t,p,ne)}}var w=t.return;try{Cd(t)}catch(ne){Ut(t,w,ne)}break;case 5:var B=t.return;try{Cd(t)}catch(ne){Ut(t,B,ne)}}}catch(ne){Ut(t,t.return,ne)}if(t===e){Ie=null;break}var ee=t.sibling;if(ee!==null){ee.return=t.return,Ie=ee;break}Ie=t.return}}var i0=Math.ceil,Lc=T.ReactCurrentDispatcher,Nd=T.ReactCurrentOwner,Or=T.ReactCurrentBatchConfig,it=0,wn=null,nn=null,Fn=0,kr=0,Ol=Yr(0),hn=0,Ga=null,Io=0,Fc=0,Ed=0,Wa=null,hr=null,Pd=0,Ul=1/0,is=null,zc=!1,Td=null,qs=null,Ac=!1,Ks=null,Dc=0,Ba=0,Rd=null,Oc=-1,Uc=0;function rr(){return(it&6)!==0?bt():Oc!==-1?Oc:Oc=bt()}function Ys(e){return(e.mode&1)===0?1:(it&2)!==0&&Fn!==0?Fn&-Fn:Ta.transition!==null?(Uc===0&&(Uc=ea()),Uc):(e=nt,e!==0||(e=window.event,e=e===void 0?16:ec(e.type)),e)}function ni(e,t,i,l){if(50<Ba)throw Ba=0,Rd=null,Error(v(185));oo(e,i,l),((it&2)===0||e!==wn)&&(e===wn&&((it&2)===0&&(Fc|=i),hn===4&&Xs(e,Fn)),fr(e,l),i===1&&it===0&&(t.mode&1)===0&&(Ul=bt()+500,Ps&&mi()))}function fr(e,t){var i=e.callbackNode;Xu(e,t);var l=bi(e,e===wn?Fn:0);if(l===0)i!==null&&Ku(i),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(i!=null&&Ku(i),t===1)e.tag===0?Xr(Ah.bind(null,e)):ko(Ah.bind(null,e)),gc(function(){(it&6)===0&&mi()}),i=null;else{switch(lo(l)){case 1:i=Mi;break;case 4:i=Ho;break;case 16:i=cs;break;case 536870912:i=Vo;break;default:i=cs}i=Vh(i,zh.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function zh(e,t){if(Oc=-1,Uc=0,(it&6)!==0)throw Error(v(327));var i=e.callbackNode;if(Gl()&&e.callbackNode!==i)return null;var l=bi(e,e===wn?Fn:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||t)t=Gc(e,l);else{t=l;var p=it;it|=2;var w=Oh();(wn!==e||Fn!==t)&&(is=null,Ul=bt()+500,Fo(e,t));do try{l0();break}catch(ee){Dh(e,ee)}while(!0);kl(),Lc.current=w,it=p,nn!==null?t=0:(wn=null,Fn=0,t=hn)}if(t!==0){if(t===2&&(p=ds(e),p!==0&&(l=p,t=Md(e,p))),t===1)throw i=Ga,Fo(e,0),Xs(e,l),fr(e,bt()),i;if(t===6)Xs(e,l);else{if(p=e.current.alternate,(l&30)===0&&!s0(p)&&(t=Gc(e,l),t===2&&(w=ds(e),w!==0&&(l=w,t=Md(e,w))),t===1))throw i=Ga,Fo(e,0),Xs(e,l),fr(e,bt()),i;switch(e.finishedWork=p,e.finishedLanes=l,t){case 0:case 1:throw Error(v(345));case 2:zo(e,hr,is);break;case 3:if(Xs(e,l),(l&130023424)===l&&(t=Pd+500-bt(),10<t)){if(bi(e,0)!==0)break;if(p=e.suspendedLanes,(p&l)!==l){rr(),e.pingedLanes|=e.suspendedLanes&p;break}e.timeoutHandle=Qn(zo.bind(null,e,hr,is),t);break}zo(e,hr,is);break;case 4:if(Xs(e,l),(l&4194240)===l)break;for(t=e.eventTimes,p=-1;0<l;){var B=31-Xe(l);w=1<<B,B=t[B],B>p&&(p=B),l&=~w}if(l=p,l=bt()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*i0(l/1960))-l,10<l){e.timeoutHandle=Qn(zo.bind(null,e,hr,is),l);break}zo(e,hr,is);break;case 5:zo(e,hr,is);break;default:throw Error(v(329))}}}return fr(e,bt()),e.callbackNode===i?zh.bind(null,e):null}function Md(e,t){var i=Wa;return e.current.memoizedState.isDehydrated&&(Fo(e,t).flags|=256),e=Gc(e,t),e!==2&&(t=hr,hr=i,t!==null&&bd(t)),e}function bd(e){hr===null?hr=e:hr.push.apply(hr,e)}function s0(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var l=0;l<i.length;l++){var p=i[l],w=p.getSnapshot;p=p.value;try{if(!Un(w(),p))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xs(e,t){for(t&=~Ed,t&=~Fc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Xe(t),l=1<<i;e[i]=-1,t&=~l}}function Ah(e){if((it&6)!==0)throw Error(v(327));Gl();var t=bi(e,0);if((t&1)===0)return fr(e,bt()),null;var i=Gc(e,t);if(e.tag!==0&&i===2){var l=ds(e);l!==0&&(t=l,i=Md(e,l))}if(i===1)throw i=Ga,Fo(e,0),Xs(e,t),fr(e,bt()),i;if(i===6)throw Error(v(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zo(e,hr,is),fr(e,bt()),null}function Id(e,t){var i=it;it|=1;try{return e(t)}finally{it=i,it===0&&(Ul=bt()+500,Ps&&mi())}}function Lo(e){Ks!==null&&Ks.tag===0&&(it&6)===0&&Gl();var t=it;it|=1;var i=Or.transition,l=nt;try{if(Or.transition=null,nt=1,e)return e()}finally{nt=l,Or.transition=i,it=t,(it&6)===0&&mi()}}function Ld(){kr=Ol.current,ft(Ol)}function Fo(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,ja(i)),nn!==null)for(i=nn.return;i!==null;){var l=i;switch(tn(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Es();break;case 3:jt(),ft(mn),ft(cn),yn();break;case 5:Jr(l);break;case 4:jt();break;case 13:ft(pt);break;case 19:ft(pt);break;case 10:jl(l.type._context);break;case 22:case 23:Ld()}i=i.return}if(wn=e,nn=e=Qs(e.current,null),Fn=kr=t,hn=0,Ga=null,Ed=Fc=Io=0,hr=Wa=null,Lr!==null){for(t=0;t<Lr.length;t++)if(i=Lr[t],l=i.interleaved,l!==null){i.interleaved=null;var p=l.next,w=i.pending;if(w!==null){var B=w.next;w.next=p,l.next=B}i.pending=l}Lr=null}return e}function Dh(e,t){do{var i=nn;try{if(kl(),zs.current=Gs,Cr){for(var l=ut.memoizedState;l!==null;){var p=l.queue;p!==null&&(p.pending=null),l=l.next}Cr=!1}if(bn=0,Dt=Rt=ut=null,_i=!1,dr=0,Nd.current=null,i===null||i.return===null){hn=1,Ga=t,nn=null;break}e:{var w=e,B=i.return,ee=i,ne=t;if(t=Fn,ee.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var fe=ne,Se=ee,_e=Se.tag;if((Se.mode&1)===0&&(_e===0||_e===11||_e===15)){var xe=Se.alternate;xe?(Se.updateQueue=xe.updateQueue,Se.memoizedState=xe.memoizedState,Se.lanes=xe.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var Re=o(B);if(Re!==null){Re.flags&=-257,c(Re,B,ee,w,t),Re.mode&1&&r(w,fe,t),t=Re,ne=fe;var Le=t.updateQueue;if(Le===null){var Fe=new Set;Fe.add(ne),t.updateQueue=Fe}else Le.add(ne);break e}else{if((t&1)===0){r(w,fe,t),Fd();break e}ne=Error(v(426))}}else if(ot&&ee.mode&1){var Xt=o(B);if(Xt!==null){(Xt.flags&65536)===0&&(Xt.flags|=256),c(Xt,B,ee,w,t),No(rs(ne,ee));break e}}w=ne=rs(ne,ee),hn!==4&&(hn=2),Wa===null?Wa=[w]:Wa.push(w),w=B;do{switch(w.tag){case 3:w.flags|=65536,t&=-t,w.lanes|=t;var ue=Mc(w,ne,t);Ro(w,ue);break e;case 1:ee=ne;var se=w.type,de=w.stateNode;if((w.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(qs===null||!qs.has(de)))){w.flags|=65536,t&=-t,w.lanes|=t;var je=n(w,ee,t);Ro(w,je);break e}}w=w.return}while(w!==null)}Gh(i)}catch(ze){t=ze,nn===i&&i!==null&&(nn=i=i.return);continue}break}while(!0)}function Oh(){var e=Lc.current;return Lc.current=Gs,e===null?Gs:e}function Fd(){(hn===0||hn===3||hn===2)&&(hn=4),wn===null||(Io&268435455)===0&&(Fc&268435455)===0||Xs(wn,Fn)}function Gc(e,t){var i=it;it|=2;var l=Oh();(wn!==e||Fn!==t)&&(is=null,Fo(e,t));do try{o0();break}catch(p){Dh(e,p)}while(!0);if(kl(),it=i,Lc.current=l,nn!==null)throw Error(v(261));return wn=null,Fn=0,hn}function o0(){for(;nn!==null;)Uh(nn)}function l0(){for(;nn!==null&&!ud();)Uh(nn)}function Uh(e){var t=Hh(e.alternate,e,kr);e.memoizedProps=e.pendingProps,t===null?Gh(e):nn=t,Nd.current=null}function Gh(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=$p(i,t,kr),i!==null){nn=i;return}}else{if(i=e0(i,t),i!==null){i.flags&=32767,nn=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{hn=6,nn=null;return}}if(t=t.sibling,t!==null){nn=t;return}nn=t=e}while(t!==null);hn===0&&(hn=5)}function zo(e,t,i){var l=nt,p=Or.transition;try{Or.transition=null,nt=1,a0(e,t,i,l)}finally{Or.transition=p,nt=l}return null}function a0(e,t,i,l){do Gl();while(Ks!==null);if((it&6)!==0)throw Error(v(327));i=e.finishedWork;var p=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(v(177));e.callbackNode=null,e.callbackPriority=0;var w=i.lanes|i.childLanes;if(hd(e,w),e===wn&&(nn=wn=null,Fn=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Ac||(Ac=!0,Vh(cs,function(){return Gl(),null})),w=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||w){w=Or.transition,Or.transition=null;var B=nt;nt=1;var ee=it;it|=4,Nd.current=null,n0(e,i),Mh(i,e),mo(Ca),Jo=!!wa,Ca=wa=null,e.current=i,r0(i),cd(),it=ee,nt=B,Or.transition=w}else e.current=i;if(Ac&&(Ac=!1,Ks=e,Dc=p),w=e.pendingLanes,w===0&&(qs=null),mt(i.stateNode),fr(e,bt()),t!==null)for(l=e.onRecoverableError,i=0;i<t.length;i++)p=t[i],l(p.value,{componentStack:p.stack,digest:p.digest});if(zc)throw zc=!1,e=Td,Td=null,e;return(Dc&1)!==0&&e.tag!==0&&Gl(),w=e.pendingLanes,(w&1)!==0?e===Rd?Ba++:(Ba=0,Rd=e):Ba=0,mi(),null}function Gl(){if(Ks!==null){var e=lo(Dc),t=Or.transition,i=nt;try{if(Or.transition=null,nt=16>e?16:e,Ks===null)var l=!1;else{if(e=Ks,Ks=null,Dc=0,(it&6)!==0)throw Error(v(331));var p=it;for(it|=4,Ie=e.current;Ie!==null;){var w=Ie,B=w.child;if((Ie.flags&16)!==0){var ee=w.deletions;if(ee!==null){for(var ne=0;ne<ee.length;ne++){var fe=ee[ne];for(Ie=fe;Ie!==null;){var Se=Ie;switch(Se.tag){case 0:case 11:case 15:Ua(8,Se,w)}var _e=Se.child;if(_e!==null)_e.return=Se,Ie=_e;else for(;Ie!==null;){Se=Ie;var xe=Se.sibling,Re=Se.return;if(Nh(Se),Se===fe){Ie=null;break}if(xe!==null){xe.return=Re,Ie=xe;break}Ie=Re}}}var Le=w.alternate;if(Le!==null){var Fe=Le.child;if(Fe!==null){Le.child=null;do{var Xt=Fe.sibling;Fe.sibling=null,Fe=Xt}while(Fe!==null)}}Ie=w}}if((w.subtreeFlags&2064)!==0&&B!==null)B.return=w,Ie=B;else e:for(;Ie!==null;){if(w=Ie,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Ua(9,w,w.return)}var ue=w.sibling;if(ue!==null){ue.return=w.return,Ie=ue;break e}Ie=w.return}}var se=e.current;for(Ie=se;Ie!==null;){B=Ie;var de=B.child;if((B.subtreeFlags&2064)!==0&&de!==null)de.return=B,Ie=de;else e:for(B=se;Ie!==null;){if(ee=Ie,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:Ic(9,ee)}}catch(ze){Ut(ee,ee.return,ze)}if(ee===B){Ie=null;break e}var je=ee.sibling;if(je!==null){je.return=ee.return,Ie=je;break e}Ie=ee.return}}if(it=p,mi(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Gr,e)}catch{}l=!0}return l}finally{nt=i,Or.transition=t}}return!1}function Wh(e,t,i){t=rs(i,t),t=Mc(e,t,1),e=Ar(e,t,1),t=rr(),e!==null&&(oo(e,1,t),fr(e,t))}function Ut(e,t,i){if(e.tag===3)Wh(e,e,i);else for(;t!==null;){if(t.tag===3){Wh(t,e,i);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qs===null||!qs.has(l))){e=rs(i,e),e=n(t,e,1),t=Ar(t,e,1),e=rr(),t!==null&&(oo(t,1,e),fr(t,e));break}}t=t.return}}function u0(e,t,i){var l=e.pingCache;l!==null&&l.delete(t),t=rr(),e.pingedLanes|=e.suspendedLanes&i,wn===e&&(Fn&i)===i&&(hn===4||hn===3&&(Fn&130023424)===Fn&&500>bt()-Pd?Fo(e,0):Ed|=i),fr(e,t)}function Bh(e,t){t===0&&((e.mode&1)===0?t=1:(t=Wr,Wr<<=1,(Wr&130023424)===0&&(Wr=4194304)));var i=rr();e=tr(e,t),e!==null&&(oo(e,t,i),fr(e,i))}function c0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Bh(e,i)}function d0(e,t){var i=0;switch(e.tag){case 13:var l=e.stateNode,p=e.memoizedState;p!==null&&(i=p.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(v(314))}l!==null&&l.delete(t),Bh(e,i)}var Hh;Hh=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||mn.current)M=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return M=!1,Sd(e,t,i);M=(e.flags&131072)!==0}else M=!1,ot&&(t.flags&1048576)!==0&&Sc(t,yi,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;Ze(e,t),e=t.pendingProps;var p=Yi(t,cn.current);Qr(t,i),p=As(null,t,l,e,p,i);var w=Ds();return t.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vn(l)?(w=!0,Xi(t)):w=!1,t.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,To(t),p.updater=Bs,t.stateNode=p,p._reactInternals=t,zl(t,l,e,i),t=lt(null,t,l,!0,w,i)):(t.tag=0,ot&&w&&Ts(t),q(null,t,p,i),t=t.child),t;case 16:l=t.elementType;e:{switch(Ze(e,t),e=t.pendingProps,p=l._init,l=p(l._payload),t.type=l,p=t.tag=f0(l),e=dn(l,e),p){case 0:t=Ee(null,t,l,e,i);break e;case 1:t=gt(null,t,l,e,i);break e;case 11:t=le(null,t,l,e,i);break e;case 14:t=ge(null,t,l,dn(l.type,e),i);break e}throw Error(v(306,l,""))}return t;case 0:return l=t.type,p=t.pendingProps,p=t.elementType===l?p:dn(l,p),Ee(e,t,l,p,i);case 1:return l=t.type,p=t.pendingProps,p=t.elementType===l?p:dn(l,p),gt(e,t,l,p,i);case 3:e:{if(In(t),e===null)throw Error(v(387));l=t.pendingProps,w=t.memoizedState,p=w.element,El(e,t),Is(t,l,null,i);var B=t.memoizedState;if(l=B.element,w.isDehydrated)if(w={element:l,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},t.updateQueue.baseState=w,t.memoizedState=w,t.flags&256){p=rs(Error(v(423)),t),t=Dr(e,t,l,i,p);break e}else if(l!==p){p=rs(Error(v(424)),t),t=Dr(e,t,l,i,p);break e}else for(Ne=Rr(t.stateNode.containerInfo.firstChild),Zn=t,ot=!0,$n=null,i=cr(t,null,l,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if($i(),l===p){t=_n(e,t,i);break e}q(e,t,l,i)}t=t.child}return t;case 5:return Ls(t),e===null&&Rs(t),l=t.type,p=t.pendingProps,w=e!==null?e.memoizedProps:null,B=p.children,ka(l,p)?B=null:w!==null&&ka(l,w)&&(t.flags|=32),We(e,t),q(e,t,B,i),t.child;case 6:return e===null&&Rs(t),null;case 13:return me(e,t,i);case 4:return Si(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=es(t,null,l,i):q(e,t,l,i),t.child;case 11:return l=t.type,p=t.pendingProps,p=t.elementType===l?p:dn(l,p),le(e,t,l,p,i);case 7:return q(e,t,t.pendingProps,i),t.child;case 8:return q(e,t,t.pendingProps.children,i),t.child;case 12:return q(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(l=t.type._context,p=t.pendingProps,w=t.memoizedProps,B=p.value,ct(Eo,l._currentValue),l._currentValue=B,w!==null)if(Un(w.value,B)){if(w.children===p.children&&!mn.current){t=_n(e,t,i);break e}}else for(w=t.child,w!==null&&(w.return=t);w!==null;){var ee=w.dependencies;if(ee!==null){B=w.child;for(var ne=ee.firstContext;ne!==null;){if(ne.context===l){if(w.tag===1){ne=zr(-1,i&-i),ne.tag=2;var fe=w.updateQueue;if(fe!==null){fe=fe.shared;var Se=fe.pending;Se===null?ne.next=ne:(ne.next=Se.next,Se.next=ne),fe.pending=ne}}w.lanes|=i,ne=w.alternate,ne!==null&&(ne.lanes|=i),Nl(w.return,i,t),ee.lanes|=i;break}ne=ne.next}}else if(w.tag===10)B=w.type===t.type?null:w.child;else if(w.tag===18){if(B=w.return,B===null)throw Error(v(341));B.lanes|=i,ee=B.alternate,ee!==null&&(ee.lanes|=i),Nl(B,i,t),B=w.sibling}else B=w.child;if(B!==null)B.return=w;else for(B=w;B!==null;){if(B===t){B=null;break}if(w=B.sibling,w!==null){w.return=B.return,B=w;break}B=B.return}w=B}q(e,t,p.children,i),t=t.child}return t;case 9:return p=t.type,l=t.pendingProps.children,Qr(t,i),p=Mn(p),l=l(p),t.flags|=1,q(e,t,l,i),t.child;case 14:return l=t.type,p=dn(l,t.pendingProps),p=dn(l.type,p),ge(e,t,l,p,i);case 15:return ke(e,t,t.type,t.pendingProps,i);case 17:return l=t.type,p=t.pendingProps,p=t.elementType===l?p:dn(l,p),Ze(e,t),t.tag=1,vn(l)?(e=!0,Xi(t)):e=!1,Qr(t,i),Rc(t,l,p),zl(t,l,p,i),lt(null,t,l,!0,e,i);case 19:return Yt(e,t,i);case 22:return be(e,t,i)}throw Error(v(156,t.tag))};function Vh(e,t){return qu(e,t)}function h0(e,t,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(e,t,i,l){return new h0(e,t,i,l)}function zd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function f0(e){if(typeof e=="function")return zd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Z)return 11;if(e===Q)return 14}return 2}function Qs(e,t){var i=e.alternate;return i===null?(i=Ur(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Wc(e,t,i,l,p,w){var B=2;if(l=e,typeof e=="function")zd(e)&&(B=1);else if(typeof e=="string")B=5;else e:switch(e){case W:return Ao(i.children,p,w,t);case z:B=8,p|=8;break;case R:return e=Ur(12,i,t,p|2),e.elementType=R,e.lanes=w,e;case Y:return e=Ur(13,i,t,p),e.elementType=Y,e.lanes=w,e;case $:return e=Ur(19,i,t,p),e.elementType=$,e.lanes=w,e;case L:return Bc(i,p,w,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:B=10;break e;case K:B=9;break e;case Z:B=11;break e;case Q:B=14;break e;case re:B=16,l=null;break e}throw Error(v(130,e==null?e:typeof e,""))}return t=Ur(B,i,t,p),t.elementType=e,t.type=l,t.lanes=w,t}function Ao(e,t,i,l){return e=Ur(7,e,l,t),e.lanes=i,e}function Bc(e,t,i,l){return e=Ur(22,e,l,t),e.elementType=L,e.lanes=i,e.stateNode={isHidden:!1},e}function Ad(e,t,i){return e=Ur(6,e,null,t),e.lanes=i,e}function Dd(e,t,i){return t=Ur(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function p0(e,t,i,l,p){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vn(0),this.expirationTimes=Vn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vn(0),this.identifierPrefix=l,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Od(e,t,i,l,p,w,B,ee,ne){return e=new p0(e,t,i,ee,ne),t===1?(t=1,w===!0&&(t|=8)):t=0,w=Ur(3,null,null,t),e.current=w,w.stateNode=e,w.memoizedState={element:l,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},To(w),e}function g0(e,t,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:l==null?null:""+l,children:e,containerInfo:t,implementation:i}}function qh(e){if(!e)return br;e=e._reactInternals;e:{if(Ri(e)!==e||e.tag!==1)throw Error(v(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(v(171))}if(e.tag===1){var i=e.type;if(vn(i))return xl(e,i,t)}return t}function Kh(e,t,i,l,p,w,B,ee,ne){return e=Od(i,l,!0,e,p,w,B,ee,ne),e.context=qh(null),i=e.current,l=rr(),p=Ys(i),w=zr(l,p),w.callback=t??null,Ar(i,w,p),e.current.lanes=p,oo(e,p,l),fr(e,l),e}function Hc(e,t,i,l){var p=t.current,w=rr(),B=Ys(p);return i=qh(i),t.context===null?t.context=i:t.pendingContext=i,t=zr(w,B),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=Ar(p,t,B),e!==null&&(ni(e,p,B,w),Pl(e,p,B)),B}function Vc(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function Yh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Ud(e,t){Yh(e,t),(e=e.alternate)&&Yh(e,t)}function m0(){return null}var Xh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gd(e){this._internalRoot=e}qc.prototype.render=Gd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(v(409));Hc(e,t,null,null)},qc.prototype.unmount=Gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lo(function(){Hc(null,e,null,null)}),t[Mr]=null}};function qc(e){this._internalRoot=e}qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ju();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Tr.length&&t!==0&&t<Tr[i].priority;i++);Tr.splice(i,0,e),i===0&&Yo(e)}};function Wd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qh(){}function v0(e,t,i,l,p){if(p){if(typeof l=="function"){var w=l;l=function(){var fe=Vc(B);w.call(fe)}}var B=Kh(t,l,e,0,null,!1,!1,"",Qh);return e._reactRootContainer=B,e[Mr]=B.current,Bi(e.nodeType===8?e.parentNode:e),Lo(),B}for(;p=e.lastChild;)e.removeChild(p);if(typeof l=="function"){var ee=l;l=function(){var fe=Vc(ne);ee.call(fe)}}var ne=Od(e,0,!1,null,null,!1,!1,"",Qh);return e._reactRootContainer=ne,e[Mr]=ne.current,Bi(e.nodeType===8?e.parentNode:e),Lo(function(){Hc(t,ne,i,l)}),ne}function Yc(e,t,i,l,p){var w=i._reactRootContainer;if(w){var B=w;if(typeof p=="function"){var ee=p;p=function(){var ne=Vc(B);ee.call(ne)}}Hc(t,B,e,p)}else B=v0(i,t,e,p,l);return Vc(B)}hs=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Jt(t.pendingLanes);i!==0&&(ta(t,i|1),fr(t,bt()),(it&6)===0&&(Ul=bt()+500,mi()))}break;case 13:Lo(function(){var l=tr(e,1);if(l!==null){var p=rr();ni(l,e,1,p)}}),Ud(e,1)}},fs=function(e){if(e.tag===13){var t=tr(e,134217728);if(t!==null){var i=rr();ni(t,e,134217728,i)}Ud(e,134217728)}},Qu=function(e){if(e.tag===13){var t=Ys(e),i=tr(e,t);if(i!==null){var l=rr();ni(i,e,t,l)}Ud(e,t)}},Ju=function(){return nt},qo=function(e,t){var i=nt;try{return nt=e,t()}finally{nt=i}},Yl=function(e,t,i){switch(t){case"input":if(rt(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var l=i[t];if(l!==e&&l.form===e.form){var p=en(l);if(!p)throw Error(v(90));Te(l),rt(l,p)}}}break;case"textarea":rn(e,i);break;case"select":t=i.value,t!=null&&ir(e,!!i.multiple,t,!1)}},Uu=Id,Uo=Lo;var y0={usingClientEntryPoint:!1,Events:[Co,Vt,en,Xl,Ql,Id]},Ha={findFiberByHostInstance:pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x0={bundleType:Ha.bundleType,version:Ha.version,rendererPackageName:Ha.rendererPackageName,rendererConfig:Ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hu(e),e===null?null:e.stateNode},findFiberByHostInstance:Ha.findFiberByHostInstance||m0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{Gr=Xc.inject(x0),on=Xc}catch{}}return pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y0,pr.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wd(t))throw Error(v(200));return g0(e,t,null,i)},pr.createRoot=function(e,t){if(!Wd(e))throw Error(v(299));var i=!1,l="",p=Xh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=Od(e,1,!1,null,null,i,!1,l,p),e[Mr]=t.current,Bi(e.nodeType===8?e.parentNode:e),new Gd(t)},pr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(v(188)):(e=Object.keys(e).join(","),Error(v(268,e)));return e=Hu(t),e=e===null?null:e.stateNode,e},pr.flushSync=function(e){return Lo(e)},pr.hydrate=function(e,t,i){if(!Kc(t))throw Error(v(200));return Yc(null,e,t,!0,i)},pr.hydrateRoot=function(e,t,i){if(!Wd(e))throw Error(v(405));var l=i!=null&&i.hydratedSources||null,p=!1,w="",B=Xh;if(i!=null&&(i.unstable_strictMode===!0&&(p=!0),i.identifierPrefix!==void 0&&(w=i.identifierPrefix),i.onRecoverableError!==void 0&&(B=i.onRecoverableError)),t=Kh(t,null,e,1,i??null,p,!1,w,B),e[Mr]=t.current,Bi(e),l)for(e=0;e<l.length;e++)i=l[e],p=i._getVersion,p=p(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,p]:t.mutableSourceEagerHydrationData.push(i,p);return new qc(t)},pr.render=function(e,t,i){if(!Kc(t))throw Error(v(200));return Yc(null,e,t,!1,i)},pr.unmountComponentAtNode=function(e){if(!Kc(e))throw Error(v(40));return e._reactRootContainer?(Lo(function(){Yc(null,null,e,!1,function(){e._reactRootContainer=null,e[Mr]=null})}),!0):!1},pr.unstable_batchedUpdates=Id,pr.unstable_renderSubtreeIntoContainer=function(e,t,i,l){if(!Kc(i))throw Error(v(200));if(e==null||e._reactInternals===void 0)throw Error(v(38));return Yc(e,t,i,!1,l)},pr.version="18.3.1-next-f1338f8080-20240426",pr}var of;function N0(){if(of)return Vd.exports;of=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(d){console.error(d)}}return a(),Vd.exports=j0(),Vd.exports}var lf;function E0(){if(lf)return Qc;lf=1;var a=N0();return Qc.createRoot=a.createRoot,Qc.hydrateRoot=a.hydrateRoot,Qc}var P0=E0();const T0=Du(P0),R0={},af=a=>{let d;const v=new Set,f=(k,b)=>{const j=typeof k=="function"?k(d):k;if(!Object.is(j,d)){const C=d;d=b??(typeof j!="object"||j===null)?j:Object.assign({},d,j),v.forEach(N=>N(d,C))}},E=()=>d,m={setState:f,getState:E,getInitialState:()=>S,subscribe:k=>(v.add(k),()=>v.delete(k)),destroy:()=>{(R0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),v.clear()}},S=d=a(f,E,m);return m},M0=a=>a?af(a):af;var Yd={exports:{}},Xd={},Qd={exports:{}},Jd={};var uf;function b0(){if(uf)return Jd;uf=1;var a=Hl();function d(b,j){return b===j&&(b!==0||1/b===1/j)||b!==b&&j!==j}var v=typeof Object.is=="function"?Object.is:d,f=a.useState,E=a.useEffect,g=a.useLayoutEffect,u=a.useDebugValue;function y(b,j){var C=j(),N=f({inst:{value:C,getSnapshot:j}}),P=N[0].inst,I=N[1];return g(function(){P.value=C,P.getSnapshot=j,m(P)&&I({inst:P})},[b,C,j]),E(function(){return m(P)&&I({inst:P}),b(function(){m(P)&&I({inst:P})})},[b]),u(C),C}function m(b){var j=b.getSnapshot;b=b.value;try{var C=j();return!v(b,C)}catch{return!0}}function S(b,j){return j()}var k=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?S:y;return Jd.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:k,Jd}var cf;function I0(){return cf||(cf=1,Qd.exports=b0()),Qd.exports}var df;function L0(){if(df)return Xd;df=1;var a=Hl(),d=I0();function v(S,k){return S===k&&(S!==0||1/S===1/k)||S!==S&&k!==k}var f=typeof Object.is=="function"?Object.is:v,E=d.useSyncExternalStore,g=a.useRef,u=a.useEffect,y=a.useMemo,m=a.useDebugValue;return Xd.useSyncExternalStoreWithSelector=function(S,k,b,j,C){var N=g(null);if(N.current===null){var P={hasValue:!1,value:null};N.current=P}else P=N.current;N=y(function(){function G(O){if(!_){if(_=!0,h=O,O=j(O),C!==void 0&&P.hasValue){var W=P.value;if(C(W,O))return T=W}return T=O}if(W=T,f(h,O))return W;var z=j(O);return C!==void 0&&C(W,z)?(h=O,W):(h=O,T=z)}var _=!1,h,T,A=b===void 0?null:b;return[function(){return G(k())},A===null?void 0:function(){return G(A())}]},[k,b,j,C]);var I=E(S,N[0],N[1]);return u(function(){P.hasValue=!0,P.value=I},[I]),m(I),I},Xd}var hf;function F0(){return hf||(hf=1,Yd.exports=L0()),Yd.exports}var z0=F0();const A0=Du(z0),Fp={},{useDebugValue:D0}=Mt,{useSyncExternalStoreWithSelector:O0}=A0;let ff=!1;const U0=a=>a;function G0(a,d=U0,v){(Fp?"production":void 0)!=="production"&&v&&!ff&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ff=!0);const f=O0(a.subscribe,a.getState,a.getServerState||a.getInitialState,d,v);return D0(f),f}const pf=a=>{(Fp?"production":void 0)!=="production"&&typeof a!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const d=typeof a=="function"?M0(a):a,v=(f,E)=>G0(d,f,E);return Object.assign(v,d),v},zp=a=>a?pf(a):pf,W0=(a,d)=>({version:"1.0.0",name:a,canvas:{width:d.width,height:d.height,backgroundColor:"#ffffff"},widgets:[],metadata:{createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}),fn=zp((a,d)=>({project:null,selectedWidgetIds:[],clipboard:[],history:{past:[],future:[]},zoom:1,gridEnabled:!0,snapToGrid:!0,gridSize:20,gridLineWidth:1,gridColor:"#333333",pendingWidget:null,createProject:(v,f)=>{const E=W0(v,f);a({project:E,selectedWidgetIds:[],history:{past:[],future:[]}})},loadProject:v=>{a({project:v,selectedWidgetIds:[],history:{past:[],future:[]}})},updateProject:v=>{const{project:f}=d();f&&a({project:{...f,...v,metadata:{...f.metadata,updatedAt:new Date().toISOString()}}})},addWidget:v=>{const{project:f}=d();f&&(d().saveToHistory(),a({project:{...f,widgets:[...f.widgets,v],metadata:{...f.metadata,updatedAt:new Date().toISOString()}}}))},setPendingWidget:(v,f)=>{a({pendingWidget:{type:v,defaultProps:f}})},clearPendingWidget:()=>{a({pendingWidget:null})},addWidgetAtPosition:(v,f)=>{const{pendingWidget:E,project:g,snapToGrid:u,gridSize:y}=d();if(!E||!g)return;let m=v,S=f;u&&(m=Math.round(v/y)*y,S=Math.round(f/y)*y);const b={shape:{width:200,height:200},button:{width:200,height:60},text:{width:300,height:100},image:{width:300,height:200},video:{width:640,height:360},menu:{width:600,height:40}}[E.type]||{width:200,height:100},j=E.defaultProps.width||b.width,C=E.defaultProps.height||b.height;m=m-j/2,S=S-C/2;const{width:N,height:P,...I}=E.defaultProps,G={id:`widget-${Date.now()}-${Math.random()}`,type:E.type,x:Math.max(0,m),y:Math.max(0,S),width:j,height:C,zIndex:0,properties:I};d().addWidget(G),d().clearPendingWidget()},updateWidget:(v,f)=>{const{project:E}=d();E&&a({project:{...E,widgets:E.widgets.map(g=>g.id===v?{...g,...f}:g),metadata:{...E.metadata,updatedAt:new Date().toISOString()}}})},deleteWidget:v=>{const{project:f}=d();f&&(d().saveToHistory(),a({project:{...f,widgets:f.widgets.filter(E=>E.id!==v),metadata:{...f.metadata,updatedAt:new Date().toISOString()}},selectedWidgetIds:d().selectedWidgetIds.filter(E=>E!==v)}))},duplicateWidget:v=>{const{project:f}=d();if(!f)return;const E=f.widgets.find(u=>u.id===v);if(!E)return;const g={...E,id:`widget-${Date.now()}`,x:E.x+20,y:E.y+20};d().addWidget(g)},selectWidget:(v,f=!1)=>{const{selectedWidgetIds:E}=d();f?E.includes(v)?a({selectedWidgetIds:E.filter(g=>g!==v)}):a({selectedWidgetIds:[...E,v]}):a({selectedWidgetIds:[v]})},clearSelection:()=>{a({selectedWidgetIds:[]})},saveToHistory:()=>{const{project:v,history:f}=d();v&&a({history:{past:[...f.past,v],future:[]}})},undo:()=>{const{history:v,project:f}=d();if(v.past.length===0||!f)return;const E=v.past[v.past.length-1],g=v.past.slice(0,-1);a({project:E,history:{past:g,future:[f,...v.future]}})},redo:()=>{const{history:v,project:f}=d();if(v.future.length===0||!f)return;const E=v.future[0],g=v.future.slice(1);a({project:E,history:{past:[...v.past,f],future:g}})},copy:()=>{const{project:v,selectedWidgetIds:f}=d();if(!v)return;const E=v.widgets.filter(g=>f.includes(g.id));a({clipboard:E})},paste:()=>{const{clipboard:v,project:f}=d();if(!f||v.length===0)return;const E=v.map(g=>({...g,id:`widget-${Date.now()}-${Math.random()}`,x:g.x+20,y:g.y+20}));d().saveToHistory(),a({project:{...f,widgets:[...f.widgets,...E]},selectedWidgetIds:E.map(g=>g.id)})},cut:()=>{const{selectedWidgetIds:v}=d();d().copy(),v.forEach(f=>d().deleteWidget(f))},setZoom:v=>a({zoom:v}),toggleGrid:()=>a(v=>({gridEnabled:!v.gridEnabled})),toggleSnapToGrid:()=>a(v=>({snapToGrid:!v.snapToGrid})),setGridSize:v=>a({gridSize:v}),setGridLineWidth:v=>a({gridLineWidth:v}),setGridColor:v=>a({gridColor:v}),lockWidget:v=>{const{project:f}=d();f&&d().updateWidget(v,{locked:!0})},unlockWidget:v=>{const{project:f}=d();f&&d().updateWidget(v,{locked:!1})},toggleLockWidget:v=>{const{project:f}=d();if(!f)return;const E=f.widgets.find(g=>g.id===v);E&&d().updateWidget(v,{locked:!E.locked})},bringToFront:v=>{const{project:f}=d();if(!f)return;const E=Math.max(...f.widgets.map(g=>g.zIndex||0),0);d().updateWidget(v,{zIndex:E+1})},sendToBack:v=>{const{project:f}=d();if(!f)return;d().updateWidget(v,{zIndex:0});const E=f.widgets.map(g=>g.id===v?{...g,zIndex:0}:{...g,zIndex:(g.zIndex||0)+1});a({project:{...f,widgets:E,metadata:{...f.metadata,updatedAt:new Date().toISOString()}}})},bringForward:v=>{const{project:f}=d();if(!f)return;const E=f.widgets.find(g=>g.id===v);if(E){const g=E.zIndex||0;d().updateWidget(v,{zIndex:g+1})}},sendBackward:v=>{const{project:f}=d();if(!f)return;const E=f.widgets.find(g=>g.id===v);if(E){const g=E.zIndex||0;d().updateWidget(v,{zIndex:Math.max(0,g-1)})}}})),B0=a=>{const d=JSON.stringify(a,null,2),v=new Blob([d],{type:"application/json"}),f=URL.createObjectURL(v),E=document.createElement("a");E.href=f,E.download=`${a.name}.kiosk.json`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(f)},H0=()=>new Promise((a,d)=>{const v=document.createElement("input");v.type="file",v.accept=".kiosk.json,.json",v.onchange=async f=>{const E=f.target.files?.[0];if(!E){d(new Error("No file selected"));return}try{const g=await E.text(),u=JSON.parse(g);if(!u.version||!u.canvas||!Array.isArray(u.widgets))throw new Error("Invalid project format");a(u)}catch(g){d(g)}},v.click()});var V0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const q0=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),K0=(a,d)=>{const v=ye.forwardRef(({color:f="currentColor",size:E=24,strokeWidth:g=2,absoluteStrokeWidth:u,children:y,...m},S)=>ye.createElement("svg",{ref:S,...V0,width:E,height:E,stroke:f,strokeWidth:u?Number(g)*24/Number(E):g,className:`lucide lucide-${q0(a)}`,...m},[...d.map(([k,b])=>ye.createElement(k,b)),...(Array.isArray(y)?y:[y])||[]]));return v.displayName=`${a}`,v};var Nt=K0;const Ap=Nt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Y0=Nt("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),X0=Nt("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),Dp=Nt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Q0=Nt("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]),J0=Nt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Z0=Nt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),$0=Nt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),e1=Nt("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Op=Nt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),t1=Nt("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]),n1=Nt("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),r1=Nt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),i1=Nt("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]),s1=Nt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),o1=Nt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),l1=Nt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),a1=Nt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),u1=Nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),c1=Nt("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),d1=Nt("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]),h1=Nt("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),f1=Nt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),ed=Nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),p1=Nt("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),g1=Nt("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),m1=()=>{const[a,d]=ye.useState(!1),{gridSize:v,gridLineWidth:f,gridColor:E,setGridSize:g,setGridLineWidth:u,setGridColor:y}=fn();return s.jsxs("div",{className:"grid-settings",children:[s.jsx("button",{className:"btn-icon",onClick:()=>d(!a),title:" ",children:s.jsx(o1,{size:18})}),a&&s.jsxs("div",{className:"grid-settings-modal",children:[s.jsxs("div",{className:"grid-settings-header",children:[s.jsx("h3",{children:" "}),s.jsx("button",{className:"btn-icon",onClick:()=>d(!1),children:s.jsx(ed,{size:18})})]}),s.jsxs("div",{className:"grid-settings-content",children:[s.jsxs("div",{className:"setting-field",children:[s.jsx("label",{children:"  (px)"}),s.jsx("input",{type:"number",value:v,onChange:m=>g(Math.max(5,parseInt(m.target.value)||10)),min:5,max:100})]}),s.jsxs("div",{className:"setting-field",children:[s.jsx("label",{children:"  (px)"}),s.jsx("input",{type:"number",value:f,onChange:m=>u(Math.max(1,parseInt(m.target.value)||1)),min:1,max:5})]}),s.jsxs("div",{className:"setting-field",children:[s.jsx("label",{children:" "}),s.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[s.jsx("input",{type:"color",value:E,onChange:m=>y(m.target.value),style:{width:"60px",height:"32px"}}),s.jsx("input",{type:"text",value:E,onChange:m=>y(m.target.value),placeholder:"#333333",style:{flex:1}})]})]}),s.jsxs("div",{className:"setting-presets",children:[s.jsx("label",{children:" :"}),s.jsxs("div",{className:"preset-buttons",children:[s.jsx("button",{className:"btn-secondary",onClick:()=>{g(10),u(1),y("#333333")},children:""}),s.jsx("button",{className:"btn-secondary",onClick:()=>{g(20),u(1),y("#444444")},children:""}),s.jsx("button",{className:"btn-secondary",onClick:()=>{g(50),u(2),y("#555555")},children:""})]})]})]})]})]})},Zd=[{name:"HD (1280720)",width:1280,height:720,ratio:"16:9",category:""},{name:"Full HD (19201080)",width:1920,height:1080,ratio:"16:9",category:""},{name:"WUXGA (19201200)",width:1920,height:1200,ratio:"16:10",category:""},{name:"2K QHD (25601440)",width:2560,height:1440,ratio:"16:9",category:""},{name:"4K UHD (38402160)",width:3840,height:2160,ratio:"16:9",category:""},{name:"Ultrawide (25601080)",width:2560,height:1080,ratio:"21:9",category:""},{name:"Super Ultrawide (34401440)",width:3440,height:1440,ratio:"21:9",category:""},{name:"iPad (20481536)",width:2048,height:1536,ratio:"4:3",category:""},{name:'iPad Pro 11" (23881668)',width:2388,height:1668,ratio:"~4:3",category:""},{name:'iPad Pro 12.9" (27322048)',width:2732,height:2048,ratio:"4:3",category:""},{name:"Samsung Tab (25601600)",width:2560,height:1600,ratio:"16:10",category:""},{name:"iPhone (11702532)",width:1170,height:2532,ratio:"19.5:9",category:""},{name:"Samsung (10802400)",width:1080,height:2400,ratio:"20:9",category:""},{name:"Pixel (10802340)",width:1080,height:2340,ratio:"19.5:9",category:""},{name:"  (10801920)",width:1080,height:1920,ratio:"9:16",category:"Digital Signage"},{name:"  (19201080)",width:1920,height:1080,ratio:"16:9",category:"Digital Signage"},{name:"  (10801080)",width:1080,height:1080,ratio:"1:1",category:"Digital Signage"}],v1=({onClose:a})=>{const{project:d,updateProject:v}=fn(),[f,E]=ye.useState(d?.canvas.width||1920),[g,u]=ye.useState(d?.canvas.height||1080),[y,m]=ye.useState("");if(!d)return null;const S=window.screen.width,k=window.screen.height,b=(T,A)=>A===0?T:b(A,T%A),j=b(S,k),C=`${S/j}:${k/j}`,N={name:`  (${S}${k})`,width:S,height:k,ratio:C,category:" "},P=[N,...Zd],I=[""," ",...Array.from(new Set(Zd.map(T=>T.category)))],G=y===""?P:y===" "?[N]:Zd.filter(T=>T.category===y),_=T=>{v({canvas:{...d.canvas,width:T.width,height:T.height}})},h=()=>{if(f<100||g<100){alert("  : 100100");return}if(f>1e4||g>1e4){alert("  : 1000010000");return}v({canvas:{...d.canvas,width:f,height:g}})};return s.jsx("div",{className:"canvas-settings-overlay",onClick:a,children:s.jsxs("div",{className:"canvas-settings-modal",onClick:T=>T.stopPropagation(),children:[s.jsxs("div",{className:"canvas-settings-header",children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx(Op,{size:20}),s.jsx("h3",{children:" "})]}),s.jsx("button",{className:"close-button",onClick:a,children:s.jsx(ed,{size:20})})]}),s.jsxs("div",{className:"canvas-settings-content",children:[s.jsxs("div",{className:"current-size",children:[s.jsx("div",{className:"size-label",children:" :"}),s.jsxs("div",{className:"size-value",children:[d.canvas.width,"  ",d.canvas.height," px"]})]}),s.jsx("div",{className:"categories",children:I.map(T=>s.jsx("button",{className:`category-button ${y===T?"active":""}`,onClick:()=>m(T),children:T},T))}),s.jsx("div",{className:"presets-grid",children:G.map((T,A)=>s.jsxs("button",{className:`preset-button ${d.canvas.width===T.width&&d.canvas.height===T.height?"active":""}`,onClick:()=>_(T),children:[s.jsx("div",{className:"preset-name",children:T.name}),s.jsx("div",{className:"preset-info",children:s.jsx("span",{className:"preset-ratio",children:T.ratio})})]},A))}),s.jsxs("div",{className:"custom-size",children:[s.jsx("h4",{children:" "}),s.jsxs("div",{className:"custom-size-inputs",children:[s.jsxs("div",{className:"input-group",children:[s.jsx("label",{children:" (px)"}),s.jsx("input",{type:"number",value:f,onChange:T=>E(parseInt(T.target.value)||0),min:100,max:1e4})]}),s.jsx("div",{className:"multiply",children:""}),s.jsxs("div",{className:"input-group",children:[s.jsx("label",{children:" (px)"}),s.jsx("input",{type:"number",value:g,onChange:T=>u(parseInt(T.target.value)||0),min:100,max:1e4})]}),s.jsx("button",{className:"btn-primary",onClick:h,children:""})]})]})]})]})})},y1=({sources:a,autoSwitch:d,switchInterval:v,transition:f,transitionDuration:E,showControls:g,showIndicators:u,loop:y,clipShape:m="rectangle",cornerRadius:S=20,objectFit:k="contain",style:b})=>{const[j,C]=ye.useState(0),[N,P]=ye.useState(!1),I=ye.useRef();ye.useEffect(()=>{if(!d||a.length<=1){I.current&&clearInterval(I.current);return}return I.current=setInterval(()=>{C(R=>{const F=R+1;return F>=a.length?y?0:R:F})},v*1e3),()=>{I.current&&clearInterval(I.current)}},[d,v,a.length,y]);const G=()=>{C(R=>R===0?y?a.length-1:0:R-1)},_=()=>{C(R=>R===a.length-1?y?0:a.length-1:R+1)},h=R=>{C(R)},A=(()=>{switch(m){case"circle":return"circle(50% at 50% 50%)";case"ellipse":return"ellipse(50% 50% at 50% 50%)";case"triangle":return"polygon(50% 0%, 100% 100%, 0% 100%)";case"diamond":return"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)";case"pentagon":{const R=[];for(let F=0;F<5;F++){const K=F*2*Math.PI/5-Math.PI/2,Z=50+50*Math.cos(K),Y=50+50*Math.sin(K);R.push(`${Z}% ${Y}%`)}return`polygon(${R.join(", ")})`}case"hexagon":{const R=[];for(let F=0;F<6;F++){const K=F*2*Math.PI/6-Math.PI/2,Z=50+50*Math.cos(K),Y=50+50*Math.sin(K);R.push(`${Z}% ${Y}%`)}return`polygon(${R.join(", ")})`}case"octagon":{const R=[];for(let F=0;F<8;F++){const K=F*2*Math.PI/8-Math.PI/2,Z=50+50*Math.cos(K),Y=50+50*Math.sin(K);R.push(`${Z}% ${Y}%`)}return`polygon(${R.join(", ")})`}case"rounded-rectangle":return"";default:return""}})(),O={...b,position:"relative",overflow:"hidden",clipPath:A||void 0,WebkitClipPath:A||void 0,borderRadius:m==="rounded-rectangle"?`${S}px`:void 0},W={width:"100%",height:"100%",objectFit:k,position:"absolute",top:0,left:0,transition:f==="fade"?`opacity ${E}ms ease-in-out`:"none",opacity:1},z=a[j];return s.jsxs("div",{style:O,children:[z&&s.jsx("img",{src:z.value,alt:"",style:W},z.id),g&&a.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:G,disabled:!y&&j===0,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(0, 0, 0, 0.5)",color:"#fff",border:"none",borderRadius:"50%",width:"40px",height:"40px",fontSize:"20px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",opacity:!y&&j===0?.3:1,zIndex:10},children:""}),s.jsx("button",{onClick:_,disabled:!y&&j===a.length-1,style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"rgba(0, 0, 0, 0.5)",color:"#fff",border:"none",borderRadius:"50%",width:"40px",height:"40px",fontSize:"20px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",opacity:!y&&j===a.length-1?.3:1,zIndex:10},children:""})]}),u&&a.length>1&&s.jsx("div",{style:{position:"absolute",bottom:"10px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"8px",zIndex:10},children:a.map((R,F)=>s.jsx("button",{onClick:()=>h(F),style:{width:"10px",height:"10px",borderRadius:"50%",border:"none",background:F===j?"#fff":"rgba(255, 255, 255, 0.5)",cursor:"pointer",padding:0,transition:"background 0.3s"}},F))}),a.length>1&&s.jsxs("div",{style:{position:"absolute",top:"10px",right:"10px",background:"rgba(0, 0, 0, 0.6)",color:"#fff",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",zIndex:10},children:[j+1," / ",a.length]})]})},x1=({sources:a,autoplay:d,autoNext:v,loop:f,controls:E,muted:g,showPlaylist:u,playlistPosition:y,clipShape:m="rectangle",cornerRadius:S=20,objectFit:k="contain",style:b})=>{const[j,C]=ye.useState(0),N=ye.useRef(null);ye.useEffect(()=>{const R=N.current;if(!R||!v)return;const F=()=>{const K=j+1;K>=a.length?f&&C(0):C(K)};return R.addEventListener("ended",F),()=>R.removeEventListener("ended",F)},[j,a.length,v,f]);const P=R=>{C(R),N.current&&(N.current.load(),d&&N.current.play().catch(F=>console.log("Play prevented:",F)))},I=()=>{j>0?P(j-1):f&&P(a.length-1)},G=()=>{j<a.length-1?P(j+1):f&&P(0)},h=(()=>{switch(m){case"circle":return"circle(50% at 50% 50%)";case"ellipse":return"ellipse(50% 50% at 50% 50%)";case"triangle":return"polygon(50% 0%, 100% 100%, 0% 100%)";case"diamond":return"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)";case"pentagon":{const R=[];for(let F=0;F<5;F++){const K=F*2*Math.PI/5-Math.PI/2,Z=50+50*Math.cos(K),Y=50+50*Math.sin(K);R.push(`${Z}% ${Y}%`)}return`polygon(${R.join(", ")})`}case"hexagon":{const R=[];for(let F=0;F<6;F++){const K=F*2*Math.PI/6-Math.PI/2,Z=50+50*Math.cos(K),Y=50+50*Math.sin(K);R.push(`${Z}% ${Y}%`)}return`polygon(${R.join(", ")})`}case"octagon":{const R=[];for(let F=0;F<8;F++){const K=F*2*Math.PI/8-Math.PI/2,Z=50+50*Math.cos(K),Y=50+50*Math.sin(K);R.push(`${Z}% ${Y}%`)}return`polygon(${R.join(", ")})`}case"rounded-rectangle":return"";default:return""}})(),T=a[j],A=y==="bottom",O={flex:A?"1":u?"0 0 70%":"1",position:"relative",overflow:"hidden",clipPath:h||void 0,WebkitClipPath:h||void 0,borderRadius:m==="rounded-rectangle"?`${S}px`:void 0,backgroundColor:"#000"},W={flex:A?"0 0 120px":"0 0 30%",backgroundColor:"#1a1a1a",overflowY:"auto",padding:"8px"},z={...b,display:"flex",flexDirection:A?"column":"row",overflow:"hidden"};return s.jsxs("div",{style:z,children:[s.jsxs("div",{style:O,children:[T&&s.jsx("video",{ref:N,autoPlay:d,loop:!1,muted:g,controls:E,style:{width:"100%",height:"100%",objectFit:k},children:s.jsx("source",{src:T.value})},T.id),a.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:I,disabled:!f&&j===0,style:{position:"absolute",left:"10px",bottom:"60px",background:"rgba(0, 0, 0, 0.7)",color:"#fff",border:"none",borderRadius:"4px",padding:"8px 12px",fontSize:"14px",cursor:"pointer",opacity:!f&&j===0?.3:1,zIndex:10},children:" "}),s.jsx("button",{onClick:G,disabled:!f&&j===a.length-1,style:{position:"absolute",right:"10px",bottom:"60px",background:"rgba(0, 0, 0, 0.7)",color:"#fff",border:"none",borderRadius:"4px",padding:"8px 12px",fontSize:"14px",cursor:"pointer",opacity:!f&&j===a.length-1?.3:1,zIndex:10},children:" "}),s.jsxs("div",{style:{position:"absolute",top:"10px",right:"10px",background:"rgba(0, 0, 0, 0.7)",color:"#fff",padding:"6px 10px",borderRadius:"4px",fontSize:"12px",zIndex:10},children:[j+1," / ",a.length]})]})]}),u&&a.length>1&&s.jsxs("div",{style:W,children:[s.jsxs("div",{style:{color:"#fff",fontSize:"12px",marginBottom:"8px",fontWeight:"bold"},children:[" (",a.length,")"]}),a.map((R,F)=>s.jsxs("div",{onClick:()=>P(F),style:{padding:"8px",marginBottom:"4px",backgroundColor:F===j?"#007acc":"#2a2a2a",borderRadius:"4px",cursor:"pointer",color:"#fff",fontSize:"11px",transition:"background 0.2s",display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("span",{style:{fontSize:"14px"},children:F===j?"":""}),s.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[s.jsx("div",{style:{fontWeight:F===j?"bold":"normal"},children:R.title||` ${F+1}`}),s.jsxs("div",{style:{fontSize:"9px",color:"#999",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[R.type==="url"?"":""," ",R.value.substring(0,40),"..."]})]})]},R.id))]})]})},S1=({project:a,onClose:d})=>{const[v,f]=ye.useState(!1),[E,g]=ye.useState(null),[u,y]=ye.useState(null),[m,S]=ye.useState(new Set),[k,b]=ye.useState(!1),[j,C]=ye.useState(null),N=ye.useRef(null),P=ye.useRef(new Map),I=R=>{!R||R.length===0||R.forEach(F=>{switch(F.type){case"url":F.url&&(F.openInNewTab?window.open(F.url,"_blank"):window.location.href=F.url);break;case"page":console.log("Navigate to page:",F.pageId);break;case"popup":C({title:F.popupTitle||"",content:F.popupContent||"",width:F.popupWidth||400,height:F.popupHeight||300}),b(!0);break;case"widget_show":F.targetWidgetId&&S(K=>{const Z=new Set(K);return Z.delete(F.targetWidgetId),Z});break;case"widget_hide":F.targetWidgetId&&S(K=>new Set(K).add(F.targetWidgetId));break;case"video_play":if(F.targetWidgetId){const K=P.current.get(F.targetWidgetId);K&&K.play()}break;case"video_stop":if(F.targetWidgetId){const K=P.current.get(F.targetWidgetId);K&&K.pause()}break}})};ye.useEffect(()=>{const R=F=>{F.key==="Escape"&&(v?f(!1):d())};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[v,d]);const G=()=>{f(!v)},_=R=>{if(m.has(R.id))return null;const F={position:"absolute",left:R.x,top:R.y,width:R.width,height:R.height,transform:R.rotation?`rotate(${R.rotation}deg)`:void 0,zIndex:R.zIndex||0,boxSizing:"border-box"};switch(R.type){case"shape":case"rectangle":return h(R,F);case"text":return T(R,F);case"button":return A(R,F);case"image":return O(R,F);case"video":return W(R,F);case"menu":return z(R,F);default:return null}},h=(R,F)=>{const{shapeType:K="rectangle",fillColor:Z="#4a90e2",strokeColor:Y="#2c3e50",strokeWidth:$=0,cornerRadius:Q=0,opacity:re=1}=R.properties,L={...F,backgroundColor:Z,opacity:re,border:$>0?`${$}px solid ${Y}`:"none",borderRadius:K==="rectangle"&&Q?`${Q}px`:void 0};return(K==="circle"||K==="ellipse")&&(L.borderRadius="50%"),s.jsx("div",{style:L},R.id)},T=(R,F)=>{const{text:K="Text",fontSize:Z=16,fontFamily:Y="Arial",fontWeight:$="normal",fontStyle:Q="normal",textAlign:re="left",verticalAlign:L="top",textColor:U="#000000",backgroundColor:V="#ffffff",lineHeight:H=1.2,padding:D=8,textDecoration:J="none"}=R.properties,te={...F,backgroundColor:V,color:U,fontSize:Z,fontFamily:Y,fontWeight:$,fontStyle:Q,textAlign:re,lineHeight:H,padding:D,textDecoration:J,display:"flex",alignItems:L==="middle"?"center":L==="bottom"?"flex-end":"flex-start",overflow:"auto",whiteSpace:"pre-wrap",wordWrap:"break-word"};return s.jsx("div",{style:te,children:K},R.id)},A=(R,F)=>{const{text:K="Button",backgroundColor:Z="#4a90e2",textColor:Y="#ffffff",fontSize:$=16,fontFamily:Q="Arial",fontWeight:re="normal",textAlign:L="center",borderRadius:U=4,borderWidth:V=0,borderColor:H="#000000",borderStyle:D="solid",paddingX:J=16,paddingY:te=8,shadowEnabled:ce=!1,shadowColor:pe="#000000",shadowBlur:ie=10,shadowOffsetX:X=0,shadowOffsetY:oe=4,shadowOpacity:ve=.3,actions:we=[]}=R.properties,Ce={...F,backgroundColor:Z,color:Y,fontSize:$,fontFamily:Q,fontWeight:re,textAlign:L,borderRadius:U,border:V>0?`${V}px ${D} ${H}`:"none",padding:`${te}px ${J}px`,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:ce?`${X}px ${oe}px ${ie}px ${pe}${Math.round(ve*255).toString(16).padStart(2,"0")}`:void 0,transition:"transform 0.1s, box-shadow 0.1s"},Te=()=>{I(we)},Me=Ae=>{const St=R.rotation?`rotate(${R.rotation}deg) `:"";Ae.currentTarget.style.transform=`${St}scale(0.95)`},Ve=Ae=>{const St=R.rotation?`rotate(${R.rotation}deg) `:"";Ae.currentTarget.style.transform=`${St}scale(1)`};return s.jsx("button",{style:Ce,onClick:Te,onMouseDown:Me,onMouseUp:Ve,children:K},R.id)},O=(R,F)=>{const{src:K="",objectFit:Z="contain",borderEnabled:Y=!1,borderWidth:$=2,borderColor:Q="#000000",clipShape:re="rectangle",cornerRadius:L=20,galleryMode:U=!1,sources:V=[],autoSwitch:H=!1,switchInterval:D=3,transition:J="fade",transitionDuration:te=500,showControls:ce=!0,showIndicators:pe=!0,loop:ie=!0}=R.properties;if(U&&V.length>0){const Ce={...F,border:Y?`${$}px solid ${Q}`:void 0};return s.jsx(y1,{sources:V,autoSwitch:H,switchInterval:D,transition:J,transitionDuration:te,showControls:ce,showIndicators:pe,loop:ie,clipShape:re,cornerRadius:L,objectFit:Z,style:Ce},R.id)}const oe=(()=>{switch(R.width,R.height,re){case"circle":return"circle(50% at 50% 50%)";case"ellipse":return"ellipse(50% 50% at 50% 50%)";case"triangle":return"polygon(50% 0%, 100% 100%, 0% 100%)";case"diamond":return"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)";case"pentagon":{const Ce=[];for(let Te=0;Te<5;Te++){const Me=Te*2*Math.PI/5-Math.PI/2,Ve=50+50*Math.cos(Me),Ae=50+50*Math.sin(Me);Ce.push(`${Ve}% ${Ae}%`)}return`polygon(${Ce.join(", ")})`}case"hexagon":{const Ce=[];for(let Te=0;Te<6;Te++){const Me=Te*2*Math.PI/6-Math.PI/2,Ve=50+50*Math.cos(Me),Ae=50+50*Math.sin(Me);Ce.push(`${Ve}% ${Ae}%`)}return`polygon(${Ce.join(", ")})`}case"octagon":{const Ce=[];for(let Te=0;Te<8;Te++){const Me=Te*2*Math.PI/8-Math.PI/2,Ve=50+50*Math.cos(Me),Ae=50+50*Math.sin(Me);Ce.push(`${Ve}% ${Ae}%`)}return`polygon(${Ce.join(", ")})`}case"rounded-rectangle":return"";default:return""}})(),ve={...F,border:Y?`${$}px solid ${Q}`:void 0,overflow:"hidden",clipPath:oe||void 0,WebkitClipPath:oe||void 0,borderRadius:re==="rounded-rectangle"?`${L}px`:void 0},we={width:"100%",height:"100%",objectFit:Z==="adaptive"?"contain":Z};return s.jsx("div",{style:ve,children:K&&s.jsx("img",{src:K,alt:"",style:we})},R.id)},W=(R,F)=>{const{sourceType:K="url",src:Z="",rtspUrl:Y="",objectFit:$="contain",autoplay:Q=!1,loop:re=!1,muted:L=!0,controls:U=!0,borderEnabled:V=!1,borderWidth:H=2,borderColor:D="#000000",playlistMode:J=!1,sources:te=[],autoNext:ce=!0,showPlaylist:pe=!0,playlistPosition:ie="right",clipShape:X="rectangle",cornerRadius:oe=20}=R.properties;if(J&&te.length>0){const Te={...F,border:V?`${H}px solid ${D}`:void 0};return s.jsx(x1,{sources:te,autoplay:Q,autoNext:ce,loop:re,controls:U,muted:L,showPlaylist:pe,playlistPosition:ie,clipShape:X,cornerRadius:oe,objectFit:$,style:Te},R.id)}const ve={...F,border:V?`${H}px solid ${D}`:void 0,overflow:"hidden"},we={width:"100%",height:"100%",objectFit:$==="adaptive"?"contain":$},Ce=K==="rtsp"?Y:Z;return s.jsx("div",{style:ve,children:Ce&&s.jsx("video",{ref:Te=>{Te&&P.current.set(R.id,Te)},src:Ce,style:we,autoPlay:Q,loop:re,muted:L,controls:U})},R.id)},z=(R,F)=>{const{orientation:K="horizontal",items:Z=[],backgroundColor:Y="#2c3e50",textColor:$="#ffffff",hoverColor:Q="#34495e",fontSize:re=16,fontFamily:L="Arial",itemPadding:U=16,submenuBackgroundColor:V="#34495e",submenuTextColor:H="#ffffff",borderWidth:D=0,borderColor:J="#000000",itemHeight:te=40}=R.properties,ce={...F,backgroundColor:Y,display:"flex",flexDirection:K==="vertical"?"column":"row",border:D>0?`${D}px solid ${J}`:void 0,overflow:"visible"};return s.jsx("div",{style:ce,children:Z.map(pe=>s.jsxs("div",{style:{position:"relative"},children:[s.jsxs("div",{style:{height:te,padding:`0 ${U}px`,display:"flex",alignItems:"center",justifyContent:K==="vertical"?"flex-start":"center",backgroundColor:E===pe.id?Q:"transparent",color:$,fontSize:re,fontFamily:L,cursor:"pointer",whiteSpace:"nowrap",userSelect:"none"},onMouseEnter:()=>g(pe.id),onMouseLeave:()=>g(null),onClick:()=>{pe.actions&&pe.actions.length>0&&I(pe.actions),pe.children&&pe.children.length>0&&y(u===pe.id?null:pe.id)},children:[pe.label,pe.children&&pe.children.length>0&&s.jsx("span",{style:{marginLeft:"8px",fontSize:"10px"},children:K==="horizontal"||u===pe.id?"":""})]}),u===pe.id&&pe.children&&pe.children.length>0&&s.jsx("div",{style:{position:"absolute",[K==="horizontal"?"top":"left"]:te,[K==="horizontal"?"left":"top"]:0,backgroundColor:V,minWidth:K==="horizontal"?"200px":"100%",boxShadow:"0 4px 8px rgba(0,0,0,0.2)",zIndex:1e3},children:pe.children.map(ie=>s.jsx("div",{style:{height:te,padding:`0 ${U}px`,display:"flex",alignItems:"center",backgroundColor:E===ie.id?Q:"transparent",color:H,fontSize:re-2,fontFamily:L,cursor:"pointer",userSelect:"none"},onMouseEnter:()=>g(ie.id),onMouseLeave:()=>g(null),onClick:()=>{ie.actions&&ie.actions.length>0&&I(ie.actions)},children:ie.label},ie.id))})]},pe.id))},R.id)};return s.jsxs("div",{className:`preview-overlay ${v?"fullscreen":""}`,children:[s.jsxs("div",{className:"preview-container",ref:N,children:[s.jsxs("div",{className:"preview-header",children:[s.jsxs("div",{className:"preview-title",children:[s.jsxs("span",{children:[": ",a.name]}),s.jsxs("span",{className:"preview-resolution",children:[a.canvas.width,"  ",a.canvas.height]})]}),s.jsxs("div",{className:"preview-controls",children:[s.jsx("button",{className:"preview-btn",onClick:G,title:v?"   ":" ",children:v?s.jsx(e1,{size:18}):s.jsx(Z0,{size:18})}),s.jsx("button",{className:"preview-btn",onClick:d,title:" (Escape)",children:s.jsx(ed,{size:18})})]})]}),s.jsx("div",{className:"preview-content",children:s.jsx("div",{className:"preview-canvas",style:{width:a.canvas.width,height:a.canvas.height,backgroundColor:a.canvas.backgroundColor||"#ffffff",position:"relative",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:a.widgets.slice().sort((R,F)=>(R.zIndex||0)-(F.zIndex||0)).map(R=>_(R))})}),s.jsxs("div",{className:"preview-hints",children:[s.jsx("span",{children:"ESC - "}),!v&&s.jsx("span",{children:"F11   -  "})]})]}),k&&j&&s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e4},onClick:()=>b(!1),children:s.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"24px",width:j.width,maxHeight:j.height,overflow:"auto",boxShadow:"0 10px 40px rgba(0,0,0,0.3)",position:"relative"},onClick:R=>R.stopPropagation(),children:[s.jsx("button",{style:{position:"absolute",top:"12px",right:"12px",background:"#e0e0e0",border:"none",borderRadius:"50%",width:"32px",height:"32px",cursor:"pointer",fontSize:"18px",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>b(!1),children:""}),s.jsx("h3",{style:{margin:"0 0 16px 0",color:"#333",fontSize:"20px"},children:j.title}),s.jsx("div",{style:{color:"#555",fontSize:"15px",lineHeight:"1.6",whiteSpace:"pre-wrap"},children:j.content})]})})]})},_1=({onClose:a})=>{const{project:d}=fn(),[v,f]=ye.useState("json"),[E,g]=ye.useState(!1);if(!d)return null;const u=()=>{const m=JSON.stringify(d,null,2),S=new Blob([m],{type:"application/json"}),k=URL.createObjectURL(S),b=document.createElement("a");b.href=k,b.download=`${d.name||"project"}.json`,b.click(),URL.revokeObjectURL(k),a()},y=async()=>{g(!0),setTimeout(()=>{alert(`     desktop  .

:
npm run build:player

  packages/player`),g(!1),a()},1e3)};return s.jsx("div",{className:"export-overlay",children:s.jsxs("div",{className:"export-dialog",children:[s.jsxs("div",{className:"export-header",children:[s.jsx("h2",{children:" "}),s.jsx("button",{className:"btn-close",onClick:a,children:s.jsx(ed,{size:20})})]}),s.jsxs("div",{className:"export-body",children:[s.jsxs("div",{className:"export-option-group",children:[s.jsxs("label",{className:`export-option ${v==="json"?"selected":""}`,children:[s.jsx("input",{type:"radio",name:"exportType",value:"json",checked:v==="json",onChange:()=>f("json")}),s.jsxs("div",{className:"export-option-content",children:[s.jsx("div",{className:"export-option-icon",children:s.jsx(Ap,{size:32})}),s.jsxs("div",{className:"export-option-info",children:[s.jsx("h3",{children:"  (.json)"}),s.jsx("p",{children:"   JSON       "}),s.jsxs("ul",{children:[s.jsx("li",{children:" "}),s.jsx("li",{children:" "}),s.jsx("li",{children:"   "})]})]})]})]}),s.jsxs("label",{className:`export-option ${v==="player"?"selected":""}`,children:[s.jsx("input",{type:"radio",name:"exportType",value:"player",checked:v==="player",onChange:()=>f("player")}),s.jsxs("div",{className:"export-option-content",children:[s.jsx("div",{className:"export-option-icon",children:s.jsx(n1,{size:32})}),s.jsxs("div",{className:"export-option-info",children:[s.jsx("h3",{children:" Windows (.exe)"}),s.jsx("p",{children:" standalone   "}),s.jsxs("ul",{children:[s.jsx("li",{children:" "}),s.jsx("li",{children:"   "}),s.jsx("li",{children:"   ()"})]}),s.jsx("div",{className:"export-badge",children:" desktop "})]})]})]})]}),s.jsxs("div",{className:"export-info",children:[s.jsx("h4",{children:"   "}),s.jsxs("div",{className:"export-info-grid",children:[s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",d.name]}),s.jsxs("div",{children:[s.jsx("strong",{children:" :"})," ",d.canvas.width,"",d.canvas.height]}),s.jsxs("div",{children:[s.jsx("strong",{children:":"})," ",d.widgets.length]})]})]})]}),s.jsxs("div",{className:"export-footer",children:[s.jsx("button",{className:"btn-secondary",onClick:a,children:""}),s.jsx("button",{className:"btn-primary",onClick:v==="json"?u:y,disabled:E,children:E?"...":v==="json"?"  JSON":"  "})]})]})})},w1={};function C1(a,d){let v;try{v=a()}catch{return}return{getItem:E=>{var g;const u=m=>m===null?null:JSON.parse(m,void 0),y=(g=v.getItem(E))!=null?g:null;return y instanceof Promise?y.then(u):u(y)},setItem:(E,g)=>v.setItem(E,JSON.stringify(g,void 0)),removeItem:E=>v.removeItem(E)}}const Fu=a=>d=>{try{const v=a(d);return v instanceof Promise?v:{then(f){return Fu(f)(v)},catch(f){return this}}}catch(v){return{then(f){return this},catch(f){return Fu(f)(v)}}}},k1=(a,d)=>(v,f,E)=>{let g={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:I=>I,version:0,merge:(I,G)=>({...G,...I}),...d},u=!1;const y=new Set,m=new Set;let S;try{S=g.getStorage()}catch{}if(!S)return a((...I)=>{console.warn(`[zustand persist middleware] Unable to update item '${g.name}', the given storage is currently unavailable.`),v(...I)},f,E);const k=Fu(g.serialize),b=()=>{const I=g.partialize({...f()});let G;const _=k({state:I,version:g.version}).then(h=>S.setItem(g.name,h)).catch(h=>{G=h});if(G)throw G;return _},j=E.setState;E.setState=(I,G)=>{j(I,G),b()};const C=a((...I)=>{v(...I),b()},f,E);let N;const P=()=>{var I;if(!S)return;u=!1,y.forEach(_=>_(f()));const G=((I=g.onRehydrateStorage)==null?void 0:I.call(g,f()))||void 0;return Fu(S.getItem.bind(S))(g.name).then(_=>{if(_)return g.deserialize(_)}).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==g.version){if(g.migrate)return g.migrate(_.state,_.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return _.state}).then(_=>{var h;return N=g.merge(_,(h=f())!=null?h:C),v(N,!0),b()}).then(()=>{G?.(N,void 0),u=!0,m.forEach(_=>_(N))}).catch(_=>{G?.(void 0,_)})};return E.persist={setOptions:I=>{g={...g,...I},I.getStorage&&(S=I.getStorage())},clearStorage:()=>{S?.removeItem(g.name)},getOptions:()=>g,rehydrate:()=>P(),hasHydrated:()=>u,onHydrate:I=>(y.add(I),()=>{y.delete(I)}),onFinishHydration:I=>(m.add(I),()=>{m.delete(I)})},P(),N||C},j1=(a,d)=>(v,f,E)=>{let g={storage:C1(()=>localStorage),partialize:P=>P,version:0,merge:(P,I)=>({...I,...P}),...d},u=!1;const y=new Set,m=new Set;let S=g.storage;if(!S)return a((...P)=>{console.warn(`[zustand persist middleware] Unable to update item '${g.name}', the given storage is currently unavailable.`),v(...P)},f,E);const k=()=>{const P=g.partialize({...f()});return S.setItem(g.name,{state:P,version:g.version})},b=E.setState;E.setState=(P,I)=>{b(P,I),k()};const j=a((...P)=>{v(...P),k()},f,E);E.getInitialState=()=>j;let C;const N=()=>{var P,I;if(!S)return;u=!1,y.forEach(_=>{var h;return _((h=f())!=null?h:j)});const G=((I=g.onRehydrateStorage)==null?void 0:I.call(g,(P=f())!=null?P:j))||void 0;return Fu(S.getItem.bind(S))(g.name).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==g.version){if(g.migrate)return[!0,g.migrate(_.state,_.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,_.state];return[!1,void 0]}).then(_=>{var h;const[T,A]=_;if(C=g.merge(A,(h=f())!=null?h:j),v(C,!0),T)return k()}).then(()=>{G?.(C,void 0),C=f(),u=!0,m.forEach(_=>_(C))}).catch(_=>{G?.(void 0,_)})};return E.persist={setOptions:P=>{g={...g,...P},P.storage&&(S=P.storage)},clearStorage:()=>{S?.removeItem(g.name)},getOptions:()=>g,rehydrate:()=>N(),hasHydrated:()=>u,onHydrate:P=>(y.add(P),()=>{y.delete(P)}),onFinishHydration:P=>(m.add(P),()=>{m.delete(P)})},g.skipHydration||N(),C||j},N1=(a,d)=>"getStorage"in d||"serialize"in d||"deserialize"in d?((w1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),k1(a,d)):j1(a,d),E1=N1;class P1{baseUrl="http://localhost:3001";enabled=!1;init(d){this.baseUrl=d.url.replace(/\/$/,""),this.enabled=d.enabled}isEnabled(){return this.enabled}getServerUrl(){return this.baseUrl}async request(d,v={}){if(!this.enabled)return{success:!1,error:"Server integration is disabled"};try{const f=`${this.baseUrl}${d}`;console.log(`[API] ${v.method||"GET"} ${f}`);const E=await fetch(f,{...v,headers:{"Content-Type":"application/json",...v.headers}});console.log(`[API] Response status: ${E.status}`);const g=E.headers.get("content-type");if(!g||!g.includes("application/json")){console.error("[API] Response is not JSON:",g);const y=await E.text();return console.error("[API] Response body:",y),{success:!1,error:"Server returned non-JSON response"}}const u=await E.json();return console.log("[API] Response data:",u),E.ok?u:{success:!1,error:u.error||`HTTP ${E.status}`}}catch(f){return console.error("[API] Request failed:",f),{success:!1,error:f.message||"Network error"}}}async checkHealth(){try{const d=`${this.baseUrl}/api/health`;console.log("[API] GET",d);const v=await fetch(d);if(console.log("[API] Health response status:",v.status),!v.ok)return{success:!1,error:`HTTP ${v.status}`};const f=await v.json();return console.log("[API] Health data:",f),{success:!0,data:f}}catch(d){return console.error("[API] Health check failed:",d),{success:!1,error:d.message||"Network error"}}}async getTemplates(d){const v=new URLSearchParams(d).toString();return this.request(`/api/templates${v?`?${v}`:""}`)}async getTemplate(d){return this.request(`/api/templates/${d}`)}async createTemplate(d){return this.request("/api/templates",{method:"POST",body:JSON.stringify(d)})}async updateTemplate(d,v){return this.request(`/api/templates/${d}`,{method:"PUT",body:JSON.stringify(v)})}async deleteTemplate(d){return this.request(`/api/templates/${d}`,{method:"DELETE"})}async getMedia(d){const v=new URLSearchParams(d).toString();return this.request(`/api/media${v?`?${v}`:""}`)}async getMediaById(d){return this.request(`/api/media/${d}`)}async uploadMedia(d,v,f){if(!this.enabled)return{success:!1,error:"Server integration is disabled"};try{const E=new FormData;E.append("file",d),v&&E.append("name",v),f&&E.append("tags",JSON.stringify(f));const g=`${this.baseUrl}/api/media/upload`,u=await fetch(g,{method:"POST",body:E}),y=await u.json();return u.ok?y:{success:!1,error:y.error||`HTTP ${u.status}`}}catch(E){return console.error("Media upload failed:",E),{success:!1,error:E.message||"Upload error"}}}async deleteMedia(d){return this.request(`/api/media/${d}`,{method:"DELETE"})}getMediaUrl(d){return`${this.baseUrl}${d.url}`}async getDevices(d){const v=new URLSearchParams(d).toString();return this.request(`/api/devices${v?`?${v}`:""}`)}async getDevice(d){return this.request(`/api/devices/${d}`)}async updateDevice(d,v){return this.request(`/api/devices/${d}`,{method:"PUT",body:JSON.stringify(v)})}async deleteDevice(d){return this.request(`/api/devices/${d}`,{method:"DELETE"})}async getDeviceLogs(d,v){const f=new URLSearchParams(v).toString();return this.request(`/api/devices/${d}/logs${f?`?${f}`:""}`)}async deployProject(d,v){return this.request(`/api/devices/${d}/deploy`,{method:"POST",body:JSON.stringify(v)})}async getDeploymentStatus(d,v){return this.request(`/api/devices/${d}/deploy/${v}`)}}const kn=new P1;class T1{ws=null;url="";enabled=!1;reconnectTimeout=5e3;reconnectTimer=null;listeners=new Map;isConnecting=!1;init(d,v=!0){this.url=d.replace(/^http/,"ws").replace(/\/$/,""),this.enabled=v,this.enabled&&this.connect()}connect(){if(!(this.isConnecting||this.ws?.readyState===WebSocket.OPEN)){this.isConnecting=!0;try{console.log(`[WebSocket] Connecting to ${this.url}`),this.ws=new WebSocket(this.url),this.ws.onopen=()=>{console.log("[WebSocket] Connected"),this.isConnecting=!1,this.emit("connected",{})},this.ws.onmessage=d=>{try{const v=JSON.parse(d.data);console.log("[WebSocket] Message:",v),this.emit(v.type,v),this.emit("all",v)}catch(v){console.error("[WebSocket] Failed to parse message:",v)}},this.ws.onerror=d=>{console.error("[WebSocket] Error:",d),this.isConnecting=!1},this.ws.onclose=()=>{console.log("[WebSocket] Disconnected"),this.isConnecting=!1,this.emit("disconnected",{}),this.scheduleReconnect()}}catch(d){console.error("[WebSocket] Connection failed:",d),this.isConnecting=!1,this.scheduleReconnect()}}}scheduleReconnect(){!this.enabled||this.reconnectTimer||(console.log(`[WebSocket] Reconnecting in ${this.reconnectTimeout/1e3}s`),this.reconnectTimer=setTimeout(()=>{this.reconnectTimer=null,this.connect()},this.reconnectTimeout))}disconnect(){this.enabled=!1,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.ws&&(this.ws.close(),this.ws=null)}isConnected(){return this.ws?.readyState===WebSocket.OPEN}send(d){if(!this.isConnected())return console.warn("[WebSocket] Not connected, cannot send message"),!1;try{return this.ws.send(JSON.stringify(d)),!0}catch(v){return console.error("[WebSocket] Failed to send message:",v),!1}}on(d,v){this.listeners.has(d)||this.listeners.set(d,[]),this.listeners.get(d).push(v)}off(d,v){const f=this.listeners.get(d);if(f){const E=f.indexOf(v);E>-1&&f.splice(E,1)}}emit(d,v){const f=this.listeners.get(d);f&&f.forEach(E=>{try{E({type:d,...v})}catch(g){console.error("[WebSocket] Callback error:",g)}})}}const Ni=new T1,td=zp()(E1((a,d)=>({config:{url:"http://localhost:3001",enabled:!1},isConnected:!1,isConnecting:!1,lastError:null,serverVersion:null,serverUptime:null,setConfig:v=>{const f={...d().config,...v};a({config:f}),kn.init(f),f.enabled?Ni.init(f.url,!0):Ni.disconnect()},connect:async()=>{const{config:v}=d();if(!v.enabled){a({lastError:"Server integration is disabled"});return}a({isConnecting:!0,lastError:null});try{kn.init(v);const f=await kn.checkHealth();if(f.success&&f.data){a({isConnected:!0,isConnecting:!1,serverVersion:f.data.version,serverUptime:f.data.uptime,lastError:null});const E=v.url.replace(/^http/,"ws");Ni.init(E,!0),console.log(" Connected to server:",v.url),console.log(" WebSocket URL:",E)}else throw new Error(f.error||"Connection failed")}catch(f){console.error(" Server connection failed:",f),a({isConnected:!1,isConnecting:!1,lastError:f.message||"Connection failed"})}},disconnect:()=>{Ni.disconnect(),a({isConnected:!1,serverVersion:null,serverUptime:null})},checkConnection:async()=>{const{config:v}=d();if(!v.enabled)return!1;try{const f=await kn.checkHealth();return f.success?(a({isConnected:!0,serverVersion:f.data?.version||null,serverUptime:f.data?.uptime||null}),!0):(a({isConnected:!1}),!1)}catch{return a({isConnected:!1}),!1}}}),{name:"kiosk-server-settings",partialize:a=>({config:a.config})})),R1=()=>{const{config:a,isConnected:d,isConnecting:v,lastError:f,serverVersion:E,serverUptime:g,setConfig:u,connect:y,disconnect:m,checkConnection:S}=td(),[k,b]=ye.useState(a.url),[j,C]=ye.useState(!1);ye.useEffect(()=>{a.enabled&&S()},[]);const N=async()=>{u({url:k}),a.enabled&&await y(),C(!1)},P=async()=>{const G=!a.enabled;u({enabled:G}),G?await y():m()},I=G=>{const _=Math.floor(G/3600),h=Math.floor(G%3600/60),T=Math.floor(G%60);return`${_}h ${h}m ${T}s`};return s.jsxs("div",{className:"server-settings",children:[s.jsx("div",{className:"server-status",children:s.jsxs("button",{className:`status-button ${d?"connected":"disconnected"}`,onClick:()=>C(!j),title:d?"Server connected":"Server disconnected",children:[s.jsx("span",{className:`status-dot ${d?"online":"offline"}`}),s.jsx("span",{children:"Server"})]})}),j&&s.jsxs("div",{className:"server-settings-panel",children:[s.jsxs("div",{className:"settings-header",children:[s.jsx("h3",{children:"Server Settings"}),s.jsx("button",{className:"close-button",onClick:()=>C(!1),children:""})]}),s.jsxs("div",{className:"settings-content",children:[s.jsxs("div",{className:"setting-group",children:[s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:a.enabled,onChange:P,disabled:v}),s.jsx("span",{children:"Enable Server Integration"})]}),s.jsx("p",{className:"setting-description",children:"Connect to backend server for templates, media library, and device management"})]}),s.jsxs("div",{className:"setting-group",children:[s.jsx("label",{htmlFor:"server-url",children:"Server URL"}),s.jsx("input",{id:"server-url",type:"text",value:k,onChange:G=>b(G.target.value),placeholder:"http://localhost:3001",disabled:!a.enabled||v}),s.jsx("p",{className:"setting-description",children:"Backend server address (e.g., http://192.168.1.100 or https://server.example.com)"})]}),a.enabled&&s.jsxs("div",{className:"connection-status",children:[v&&s.jsxs("div",{className:"status-message connecting",children:[s.jsx("span",{className:"spinner"}),"Connecting..."]}),!v&&d&&s.jsxs("div",{className:"status-message success",children:[s.jsx("span",{className:"icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Connected"}),E&&s.jsxs("p",{children:["Server v",E]}),g!==null&&s.jsxs("p",{children:["Uptime: ",I(g)]})]})]}),!v&&!d&&f&&s.jsxs("div",{className:"status-message error",children:[s.jsx("span",{className:"icon",children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Connection Failed"}),s.jsx("p",{children:f})]})]})]}),s.jsxs("div",{className:"settings-actions",children:[s.jsx("button",{className:"button-secondary",onClick:()=>{b(a.url),C(!1)},children:"Cancel"}),s.jsx("button",{className:"button-primary",onClick:N,disabled:v||k===a.url,children:v?"Connecting...":"Save & Connect"})]}),s.jsxs("div",{className:"settings-help",children:[s.jsx("h4",{children:"Need Help?"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Make sure the server is running on the specified URL"}),s.jsx("li",{children:"Check that port 3001 (or your custom port) is accessible"}),s.jsx("li",{children:"Verify firewall settings allow connections"}),s.jsx("li",{children:"For remote servers, use the external IP or domain name"})]})]})]})]})]})},M1=({onClose:a,onLoad:d})=>{const{isConnected:v}=td(),{project:f}=fn(),[E,g]=ye.useState([]),[u,y]=ye.useState(!0),[m,S]=ye.useState(null),[k,b]=ye.useState(""),[j,C]=ye.useState("all"),[N,P]=ye.useState(!1);ye.useEffect(()=>{v&&I()},[v]);const I=async()=>{y(!0),S(null);try{const O=await kn.getTemplates();O.success&&O.data?g(O.data):S(O.error||"Failed to load templates")}catch(O){S(O.message||"Network error")}finally{y(!1)}},G=async()=>{if(!f)return;const O=prompt("Template name:",f.name||"Untitled Template");if(!O)return;const W=prompt("Template description (optional):");P(!0);try{const z=await kn.createTemplate({name:O,description:W||void 0,category:"custom",tags:[],data:f});z.success?(alert(" Template saved successfully!"),I()):alert(` Failed to save template: ${z.error}`)}catch(z){alert(` Error: ${z.message}`)}finally{P(!1)}},_=O=>{confirm(`Load template "${O.name}"?

This will replace your current project.`)&&(d(O),a())},h=async(O,W)=>{if(W.stopPropagation(),!!confirm(`Delete template "${O.name}"?

This action cannot be undone.`))try{const z=await kn.deleteTemplate(O.id);z.success?I():alert(` Failed to delete: ${z.error}`)}catch(z){alert(` Error: ${z.message}`)}},T=E.filter(O=>{const W=k===""||O.name.toLowerCase().includes(k.toLowerCase())||O.description?.toLowerCase().includes(k.toLowerCase()),z=j==="all"||O.category===j;return W&&z}),A=["all",...new Set(E.map(O=>O.category||"general"))];return v?s.jsxs("div",{className:"templates-library",children:[s.jsxs("div",{className:"library-header",children:[s.jsx("h2",{children:"Templates Library"}),s.jsx("button",{className:"close-button",onClick:a,children:""})]}),s.jsxs("div",{className:"library-toolbar",children:[s.jsx("input",{type:"text",placeholder:"Search templates...",value:k,onChange:O=>b(O.target.value),className:"search-input"}),s.jsx("select",{value:j,onChange:O=>C(O.target.value),className:"category-select",children:A.map(O=>s.jsx("option",{value:O,children:O==="all"?"All Categories":O},O))}),s.jsx("button",{className:"save-template-button",onClick:G,disabled:N||!f,children:N?"Saving...":" Save Current as Template"})]}),s.jsxs("div",{className:"library-content",children:[u&&s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:"Loading templates..."})]}),m&&s.jsxs("div",{className:"error-state",children:[s.jsxs("p",{children:[" ",m]}),s.jsx("button",{onClick:I,children:"Retry"})]}),!u&&!m&&T.length===0&&s.jsxs("div",{className:"empty-state",children:[s.jsx("p",{children:" No templates found"}),k&&s.jsx("p",{children:"Try a different search term"}),!k&&s.jsx("p",{children:"Save your current project as a template to get started!"})]}),!u&&!m&&T.length>0&&s.jsx("div",{className:"templates-grid",children:T.map(O=>s.jsxs("div",{className:"template-card",onClick:()=>_(O),children:[s.jsx("div",{className:"template-thumbnail",children:O.thumbnail?s.jsx("img",{src:O.thumbnail,alt:O.name}):s.jsx("div",{className:"placeholder-thumbnail",children:""})}),s.jsxs("div",{className:"template-info",children:[s.jsx("h3",{children:O.name}),O.description&&s.jsx("p",{children:O.description}),s.jsxs("div",{className:"template-meta",children:[O.category&&s.jsx("span",{className:"category-badge",children:O.category}),O.tags&&O.tags.length>0&&s.jsx("div",{className:"tags",children:O.tags.slice(0,3).map((W,z)=>s.jsx("span",{className:"tag",children:W},z))})]}),s.jsx("div",{className:"template-actions",children:s.jsx("button",{className:"delete-button",onClick:W=>h(O,W),title:"Delete template",children:""})})]})]},O.id))})]}),s.jsx("div",{className:"library-footer",children:s.jsxs("p",{children:[T.length," template(s) found"]})})]}):s.jsxs("div",{className:"templates-library",children:[s.jsxs("div",{className:"library-header",children:[s.jsx("h2",{children:"Templates Library"}),s.jsx("button",{className:"close-button",onClick:a,children:""})]}),s.jsx("div",{className:"library-content",children:s.jsxs("div",{className:"empty-state",children:[s.jsx("p",{children:" Not connected to server"}),s.jsx("p",{children:"Enable server integration in settings to use templates library."})]})})]})},b1=({onClose:a,onSelect:d,type:v="all"})=>{const{isConnected:f}=td(),{addWidget:E,project:g}=fn(),[u,y]=ye.useState([]),[m,S]=ye.useState(!0),[k,b]=ye.useState(null),[j,C]=ye.useState(""),[N,P]=ye.useState(v),[I,G]=ye.useState(!1),[_,h]=ye.useState(null),T=ye.useRef(null);ye.useEffect(()=>{f&&A()},[f,N]);const A=async()=>{S(!0),b(null);try{const Y=N!=="all"?{type:N}:void 0,$=await kn.getMedia(Y);if(console.log("[MediaLibrary] Media loaded:",$),$.success&&$.data){if($.data.length>0){const Q=$.data[0],re=kn.getMediaUrl(Q);console.log("[MediaLibrary] First media:",Q),console.log("[MediaLibrary] Full URL:",re)}y($.data)}else b($.error||"Failed to load media")}catch(Y){console.error("[MediaLibrary] Load error:",Y),b(Y.message||"Network error")}finally{S(!1)}},O=async Y=>{if(!(!Y||Y.length===0)){G(!0);try{const $=Array.from(Y).map(async U=>{const V=await kn.uploadMedia(U);return V.success||console.error(`Failed to upload ${U.name}:`,V.error),V}),Q=await Promise.all($),re=Q.filter(U=>U.success).length;re>0&&(alert(` ${re} file(s) uploaded successfully!`),A());const L=Q.length-re;L>0&&alert(` ${L} file(s) failed to upload`)}catch($){alert(` Upload error: ${$.message}`)}finally{G(!1),T.current&&(T.current.value="")}}},W=async(Y,$)=>{if($.stopPropagation(),!!confirm(`Delete "${Y.name}"?

This action cannot be undone.`))try{const Q=await kn.deleteMedia(Y.id);Q.success?(A(),_?.id===Y.id&&h(null)):alert(` Failed to delete: ${Q.error}`)}catch(Q){alert(` Error: ${Q.message}`)}},z=Y=>{h(Y),d&&d(Y)},R=()=>{if(console.log("[MediaLibrary] Insert clicked"),console.log("[MediaLibrary] Selected media:",_),console.log("[MediaLibrary] Project:",g),!_||!g){console.warn("[MediaLibrary] Missing selectedMedia or project");return}const Y=kn.getMediaUrl(_);console.log("[MediaLibrary] Media URL:",Y);let $="image",Q={};if(_.type==="image")$="image",Q={src:Y,objectFit:"contain",borderEnabled:!1,clipShape:"rectangle"};else if(_.type==="video")$="video",Q={src:Y,sourceType:"url",autoplay:!1,loop:!1,muted:!0,controls:!0,objectFit:"contain",borderEnabled:!1};else{alert(" Only images and videos can be inserted into project");return}let re=400,L=300;if(_.width&&_.height){const D=_.width/_.height,J=600,te=400;_.width>J||_.height>te?D>1?(re=J,L=J/D):(L=te,re=te*D):(re=_.width,L=_.height)}const U=(g.canvas.width-re)/2,V=(g.canvas.height-L)/2,H={id:`widget-${Date.now()}-${Math.random()}`,type:$,x:U,y:V,width:re,height:L,zIndex:0,properties:Q};E(H),alert(` ${_.type==="image"?"Image":"Video"} widget added to project!`),a()},F=Y=>Y<1024?`${Y} B`:Y<1024*1024?`${(Y/1024).toFixed(1)} KB`:`${(Y/(1024*1024)).toFixed(1)} MB`,K=Y=>{if(!Y)return"";const $=Math.floor(Y/60),Q=Math.floor(Y%60);return`${$}:${Q.toString().padStart(2,"0")}`},Z=u.filter(Y=>j===""||Y.name.toLowerCase().includes(j.toLowerCase()));return f?s.jsxs("div",{className:"media-library",children:[s.jsxs("div",{className:"library-header",children:[s.jsx("h2",{children:"Media Library"}),s.jsx("button",{className:"close-button",onClick:a,children:""})]}),s.jsxs("div",{className:"library-toolbar",children:[s.jsx("input",{type:"text",placeholder:"Search media...",value:j,onChange:Y=>C(Y.target.value),className:"search-input"}),s.jsxs("select",{value:N,onChange:Y=>P(Y.target.value),className:"type-select",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"image",children:"Images"}),s.jsx("option",{value:"video",children:"Videos"}),s.jsx("option",{value:"audio",children:"Audio"})]}),s.jsx("input",{ref:T,type:"file",multiple:!0,accept:"image/*,video/*,audio/*",onChange:Y=>O(Y.target.files),style:{display:"none"}}),s.jsx("button",{className:"upload-button",onClick:()=>T.current?.click(),disabled:I,children:I?" Uploading...":" Upload Files"})]}),s.jsxs("div",{className:"library-content",children:[m&&s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:"Loading media..."})]}),k&&s.jsxs("div",{className:"error-state",children:[s.jsxs("p",{children:[" ",k]}),s.jsx("button",{onClick:A,children:"Retry"})]}),!m&&!k&&Z.length===0&&s.jsxs("div",{className:"empty-state",children:[s.jsx("p",{children:" No media files found"}),j&&s.jsx("p",{children:"Try a different search term"}),!j&&s.jsx("p",{children:"Upload your first file to get started!"})]}),!m&&!k&&Z.length>0&&s.jsx("div",{className:"media-grid",children:Z.map(Y=>s.jsxs("div",{className:`media-card ${_?.id===Y.id?"selected":""}`,onClick:()=>z(Y),children:[s.jsxs("div",{className:"media-preview",children:[Y.type==="image"&&s.jsx("img",{src:kn.getMediaUrl(Y),alt:Y.name,onError:$=>{console.error("[MediaLibrary] Image load error:",Y.name,kn.getMediaUrl(Y)),$.currentTarget.style.display="none"},onLoad:()=>{console.log("[MediaLibrary] Image loaded:",Y.name)}}),Y.type==="video"&&s.jsxs("div",{className:"video-preview",children:["",Y.duration&&s.jsx("span",{className:"duration",children:K(Y.duration)})]}),Y.type==="audio"&&s.jsxs("div",{className:"audio-preview",children:["",Y.duration&&s.jsx("span",{className:"duration",children:K(Y.duration)})]})]}),s.jsxs("div",{className:"media-info",children:[s.jsx("h4",{title:Y.name,children:Y.name}),s.jsxs("div",{className:"media-details",children:[s.jsx("span",{className:"file-size",children:F(Y.file_size)}),Y.width&&Y.height&&s.jsxs("span",{className:"dimensions",children:[Y.width,"",Y.height]})]}),s.jsx("button",{className:"delete-button",onClick:$=>W(Y,$),title:"Delete file",children:""})]})]},Y.id))})]}),s.jsxs("div",{className:"library-footer",children:[s.jsxs("p",{children:[Z.length," file(s)  ",(u.reduce((Y,$)=>Y+$.file_size,0)/(1024*1024)).toFixed(1)," MB total"]}),(console.log("[MediaLibrary] Render footer - selectedMedia:",_),console.log("[MediaLibrary] Render footer - project:",g),_&&s.jsx("button",{className:"insert-button",onClick:R,disabled:!g,title:g?`Insert ${_.name} into project`:"No project loaded",children:" Insert into Project"}))]})]}):s.jsxs("div",{className:"media-library",children:[s.jsxs("div",{className:"library-header",children:[s.jsx("h2",{children:"Media Library"}),s.jsx("button",{className:"close-button",onClick:a,children:""})]}),s.jsx("div",{className:"library-content",children:s.jsxs("div",{className:"empty-state",children:[s.jsx("p",{children:" Not connected to server"}),s.jsx("p",{children:"Enable server integration in settings to use media library."})]})})]})},I1=({onClose:a})=>{const{isConnected:d}=td(),{project:v}=fn(),[f,E]=ye.useState([]),[g,u]=ye.useState(!0),[y,m]=ye.useState(null),[S,k]=ye.useState(null),[b,j]=ye.useState(null);ye.useEffect(()=>{if(d){C();const h=()=>{C()};return Ni.on("device:connected",h),Ni.on("device:disconnected",h),Ni.on("device:status",h),()=>{Ni.off("device:connected",h),Ni.off("device:disconnected",h),Ni.off("device:status",h)}}},[d]);const C=async()=>{u(!0),m(null);try{const h=await kn.getDevices();h.success&&h.data?E(h.data):m(h.error||"Failed to load devices")}catch(h){m(h.message||"Network error")}finally{u(!1)}},N=async h=>{if(!v){alert(" No project to deploy");return}if(h.status!=="online"){alert(" Device is offline. Cannot deploy.");return}if(confirm(`Deploy current project to "${h.name}"?`)){j(h.id);try{const T=await kn.deployProject(h.id,{projectName:v.name||"Untitled Project",projectData:v});T.success?alert(` Project deployed to "${h.name}"!`):alert(` Deployment failed: ${T.error}`)}catch(T){alert(` Error: ${T.message}`)}finally{j(null)}}},P=async(h,T)=>{if(T.stopPropagation(),!!confirm(`Remove device "${h.name}"?

This will unregister the device from the server.`))try{const A=await kn.deleteDevice(h.id);A.success?(C(),S?.id===h.id&&k(null)):alert(` Failed to delete: ${A.error}`)}catch(A){alert(` Error: ${A.message}`)}},I=async h=>{k(h);try{const T=await kn.getDeviceLogs(h.id,{limit:50});if(T.success&&T.data){const A=T.data.map(W=>`[${W.timestamp}] ${W.level.toUpperCase()}: ${W.message}`).join(`
`),O=window.open("","Device Logs","width=800,height=600");O&&O.document.write(`
            <html>
              <head>
                <title>Logs: ${h.name}</title>
                <style>
                  body { font-family: monospace; padding: 20px; }
                  pre { background: #f5f5f5; padding: 10px; border-radius: 4px; }
                </style>
              </head>
              <body>
                <h2>Device Logs: ${h.name}</h2>
                <pre>${A||"No logs found"}</pre>
              </body>
            </html>
          `)}else alert(` Failed to load logs: ${T.error}`)}catch(T){alert(` Error: ${T.message}`)}},G=h=>{const T=new Date(h),O=new Date().getTime()-T.getTime(),W=Math.floor(O/6e4);if(W<1)return"Just now";if(W<60)return`${W}m ago`;const z=Math.floor(W/60);return z<24?`${z}h ago`:`${Math.floor(z/24)}d ago`},_={total:f.length,online:f.filter(h=>h.status==="online").length,offline:f.filter(h=>h.status==="offline").length,error:f.filter(h=>h.status==="error").length};return d?s.jsxs("div",{className:"device-manager",children:[s.jsxs("div",{className:"library-header",children:[s.jsx("h2",{children:"Device Manager"}),s.jsx("button",{className:"close-button",onClick:a,children:""})]}),s.jsxs("div",{className:"device-stats",children:[s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-value",children:_.total}),s.jsx("div",{className:"stat-label",children:"Total Devices"})]}),s.jsxs("div",{className:"stat-card online",children:[s.jsx("div",{className:"stat-value",children:_.online}),s.jsx("div",{className:"stat-label",children:"Online"})]}),s.jsxs("div",{className:"stat-card offline",children:[s.jsx("div",{className:"stat-value",children:_.offline}),s.jsx("div",{className:"stat-label",children:"Offline"})]}),_.error>0&&s.jsxs("div",{className:"stat-card error",children:[s.jsx("div",{className:"stat-value",children:_.error}),s.jsx("div",{className:"stat-label",children:"Errors"})]})]}),s.jsxs("div",{className:"library-content",children:[g&&s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:"Loading devices..."})]}),y&&s.jsxs("div",{className:"error-state",children:[s.jsxs("p",{children:[" ",y]}),s.jsx("button",{onClick:C,children:"Retry"})]}),!g&&!y&&f.length===0&&s.jsxs("div",{className:"empty-state",children:[s.jsx("p",{children:" No devices registered"}),s.jsx("p",{children:"Devices will appear here when players connect to the server."})]}),!g&&!y&&f.length>0&&s.jsx("div",{className:"devices-list",children:f.map(h=>s.jsxs("div",{className:`device-card ${h.status}`,children:[s.jsxs("div",{className:"device-header",children:[s.jsxs("div",{className:"device-title",children:[s.jsx("span",{className:`status-indicator ${h.status}`}),s.jsx("h3",{children:h.name})]}),s.jsxs("div",{className:"device-actions",children:[s.jsx("button",{className:"action-button",onClick:()=>I(h),title:"View logs",children:""}),s.jsx("button",{className:"action-button deploy",onClick:()=>N(h),disabled:h.status!=="online"||b===h.id||!v,title:"Deploy current project",children:b===h.id?"":""}),s.jsx("button",{className:"action-button delete",onClick:T=>P(h,T),title:"Remove device",children:""})]})]}),s.jsxs("div",{className:"device-info",children:[s.jsxs("div",{className:"info-row",children:[s.jsx("span",{className:"label",children:"ID:"}),s.jsxs("span",{className:"value",title:h.id,children:[h.id.substring(0,16),"..."]})]}),h.os&&s.jsxs("div",{className:"info-row",children:[s.jsx("span",{className:"label",children:"OS:"}),s.jsx("span",{className:"value",children:h.os})]}),h.version&&s.jsxs("div",{className:"info-row",children:[s.jsx("span",{className:"label",children:"Version:"}),s.jsx("span",{className:"value",children:h.version})]}),h.ip_address&&s.jsxs("div",{className:"info-row",children:[s.jsx("span",{className:"label",children:"IP:"}),s.jsx("span",{className:"value",children:h.ip_address})]}),s.jsxs("div",{className:"info-row",children:[s.jsx("span",{className:"label",children:"Last Seen:"}),s.jsx("span",{className:"value",children:G(h.last_seen)})]}),h.current_project_id&&s.jsxs("div",{className:"info-row",children:[s.jsx("span",{className:"label",children:"Current Project:"}),s.jsxs("span",{className:"value",title:h.current_project_id,children:[h.current_project_id.substring(0,16),"..."]})]})]})]},h.id))})]}),s.jsxs("div",{className:"library-footer",children:[s.jsxs("p",{children:[_.online," online  ",_.offline," offline  ",_.total," total"]}),s.jsx("button",{onClick:C,className:"refresh-button",children:" Refresh"})]})]}):s.jsxs("div",{className:"device-manager",children:[s.jsxs("div",{className:"library-header",children:[s.jsx("h2",{children:"Device Manager"}),s.jsx("button",{className:"close-button",onClick:a,children:""})]}),s.jsx("div",{className:"library-content",children:s.jsxs("div",{className:"empty-state",children:[s.jsx("p",{children:" Not connected to server"}),s.jsx("p",{children:"Enable server integration in settings to manage devices."})]})})]})},L1=()=>{const{project:a,undo:d,redo:v,history:f,zoom:E,setZoom:g,gridEnabled:u,toggleGrid:y,snapToGrid:m,toggleSnapToGrid:S,loadProject:k}=fn(),[b,j]=ye.useState(!1),[C,N]=ye.useState(!1),[P,I]=ye.useState(!1),[G,_]=ye.useState(!1),[h,T]=ye.useState(!1),[A,O]=ye.useState(!1),[W,z]=ye.useState(!1),R=()=>{a&&B0(a)},F=async()=>{try{const $=await H0();k($)}catch($){console.error("Failed to load project:",$),alert("  ")}},K=()=>{g(Math.min(E+.1,3))},Z=()=>{g(Math.max(E-.1,.1))},Y=()=>{a&&I(!0)};return s.jsxs("div",{className:"toolbar",children:[s.jsx("div",{className:"toolbar-section",children:s.jsx("div",{className:"toolbar-title",children:a?.name||" "})}),s.jsxs("div",{className:"toolbar-section",children:[s.jsx("button",{className:"btn-icon",onClick:R,title:" (Ctrl+S)",children:s.jsx(s1,{size:18})}),s.jsx("button",{className:"btn-icon",onClick:F,title:" (Ctrl+O)",children:s.jsx(Y0,{size:18})})]}),s.jsx("div",{className:"toolbar-divider"}),s.jsxs("div",{className:"toolbar-section",children:[s.jsx("button",{className:"btn-icon",onClick:d,disabled:f.past.length===0,title:" (Ctrl+Z)",children:s.jsx(d1,{size:18})}),s.jsx("button",{className:"btn-icon",onClick:v,disabled:f.future.length===0,title:" (Ctrl+Shift+Z)",children:s.jsx(i1,{size:18})})]}),s.jsx("div",{className:"toolbar-divider"}),s.jsxs("div",{className:"toolbar-section",children:[s.jsx("button",{className:"btn-icon",onClick:Z,title:"",children:s.jsx(g1,{size:18})}),s.jsxs("span",{className:"zoom-indicator",children:[Math.round(E*100),"%"]}),s.jsx("button",{className:"btn-icon",onClick:K,title:"",children:s.jsx(p1,{size:18})})]}),s.jsx("div",{className:"toolbar-divider"}),s.jsxs("div",{className:"toolbar-section",children:[s.jsx("button",{className:"btn-icon",onClick:()=>N(!0),title:" ",children:s.jsx(Op,{size:18})}),s.jsx("button",{className:`btn-icon ${u?"active":""}`,onClick:y,title:" ",children:s.jsx(X0,{size:18})}),s.jsx(m1,{}),s.jsxs("label",{className:"toolbar-checkbox",children:[s.jsx("input",{type:"checkbox",checked:m,onChange:S}),"  "]})]}),s.jsx("div",{className:"toolbar-spacer"}),s.jsxs("div",{className:"toolbar-section",children:[s.jsx(R1,{}),s.jsx("button",{className:"btn-icon",onClick:()=>T(!0),title:"Templates Library",children:s.jsx(Q0,{size:18})}),s.jsx("button",{className:"btn-icon",onClick:()=>O(!0),title:"Media Library",children:s.jsx(Dp,{size:18})}),s.jsx("button",{className:"btn-icon",onClick:()=>z(!0),title:"Device Manager",children:s.jsx(l1,{size:18})})]}),s.jsx("div",{className:"toolbar-spacer"}),s.jsxs("div",{className:"toolbar-section",children:[s.jsxs("button",{className:"btn",onClick:Y,title:"",children:[s.jsx(r1,{size:18}),s.jsx("span",{children:""})]}),s.jsxs("button",{className:"btn",onClick:()=>_(!0),title:" ",children:[s.jsx(Ap,{size:18}),s.jsx("span",{children:""})]})]}),C&&s.jsx(v1,{onClose:()=>N(!1)}),P&&a&&s.jsx(S1,{project:a,onClose:()=>I(!1)}),G&&s.jsx(_1,{onClose:()=>_(!1)}),h&&s.jsx(M1,{onClose:()=>T(!1),onLoad:$=>{k($.data)}}),A&&s.jsx(b1,{onClose:()=>O(!1)}),W&&s.jsx(I1,{onClose:()=>z(!1)})]})};var $c={exports:{}},qa={},$d={},eh={},gf;function Ye(){return gf||(gf=1,(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a._registerNode=a.Konva=a.glob=void 0;const d=Math.PI/180;function v(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}a.glob=typeof Jh<"u"?Jh:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},a.Konva={_global:a.glob,version:"9.3.22",isBrowser:v(),isUnminified:/param/.test((function(E){}).toString()),dblClickWindow:400,getAngle(E){return a.Konva.angleDeg?E*d:E},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return a.Konva.DD.isDragging},isTransforming(){var E;return(E=a.Konva.Transformer)===null||E===void 0?void 0:E.isTransforming()},isDragReady(){return!!a.Konva.DD.node},releaseCanvasOnDestroy:!0,document:a.glob.document,_injectGlobal(E){a.glob.Konva=E}};const f=E=>{a.Konva[E.prototype.getClassName()]=E};a._registerNode=f,a.Konva._injectGlobal(a.Konva)})(eh)),eh}var th={},mf;function Wt(){return mf||(mf=1,(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Util=a.Transform=void 0;const d=Ye();class v{constructor(T=[1,0,0,1,0,0]){this.dirty=!1,this.m=T&&T.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new v(this.m)}copyInto(T){T.m[0]=this.m[0],T.m[1]=this.m[1],T.m[2]=this.m[2],T.m[3]=this.m[3],T.m[4]=this.m[4],T.m[5]=this.m[5]}point(T){const A=this.m;return{x:A[0]*T.x+A[2]*T.y+A[4],y:A[1]*T.x+A[3]*T.y+A[5]}}translate(T,A){return this.m[4]+=this.m[0]*T+this.m[2]*A,this.m[5]+=this.m[1]*T+this.m[3]*A,this}scale(T,A){return this.m[0]*=T,this.m[1]*=T,this.m[2]*=A,this.m[3]*=A,this}rotate(T){const A=Math.cos(T),O=Math.sin(T),W=this.m[0]*A+this.m[2]*O,z=this.m[1]*A+this.m[3]*O,R=this.m[0]*-O+this.m[2]*A,F=this.m[1]*-O+this.m[3]*A;return this.m[0]=W,this.m[1]=z,this.m[2]=R,this.m[3]=F,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(T,A){const O=this.m[0]+this.m[2]*A,W=this.m[1]+this.m[3]*A,z=this.m[2]+this.m[0]*T,R=this.m[3]+this.m[1]*T;return this.m[0]=O,this.m[1]=W,this.m[2]=z,this.m[3]=R,this}multiply(T){const A=this.m[0]*T.m[0]+this.m[2]*T.m[1],O=this.m[1]*T.m[0]+this.m[3]*T.m[1],W=this.m[0]*T.m[2]+this.m[2]*T.m[3],z=this.m[1]*T.m[2]+this.m[3]*T.m[3],R=this.m[0]*T.m[4]+this.m[2]*T.m[5]+this.m[4],F=this.m[1]*T.m[4]+this.m[3]*T.m[5]+this.m[5];return this.m[0]=A,this.m[1]=O,this.m[2]=W,this.m[3]=z,this.m[4]=R,this.m[5]=F,this}invert(){const T=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),A=this.m[3]*T,O=-this.m[1]*T,W=-this.m[2]*T,z=this.m[0]*T,R=T*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),F=T*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=A,this.m[1]=O,this.m[2]=W,this.m[3]=z,this.m[4]=R,this.m[5]=F,this}getMatrix(){return this.m}decompose(){const T=this.m[0],A=this.m[1],O=this.m[2],W=this.m[3],z=this.m[4],R=this.m[5],F=T*W-A*O,K={x:z,y:R,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(T!=0||A!=0){const Z=Math.sqrt(T*T+A*A);K.rotation=A>0?Math.acos(T/Z):-Math.acos(T/Z),K.scaleX=Z,K.scaleY=F/Z,K.skewX=(T*O+A*W)/F,K.skewY=0}else if(O!=0||W!=0){const Z=Math.sqrt(O*O+W*W);K.rotation=Math.PI/2-(W>0?Math.acos(-O/Z):-Math.acos(O/Z)),K.scaleX=F/Z,K.scaleY=Z,K.skewX=0,K.skewY=(T*O+A*W)/F}return K.rotation=a.Util._getRotation(K.rotation),K}}a.Transform=v;const f="[object Array]",E="[object Number]",g="[object String]",u="[object Boolean]",y=Math.PI/180,m=180/Math.PI,S="#",k="",b="0",j="Konva warning: ",C="Konva error: ",N="rgb(",P={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},I=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let G=[];const _=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(h){setTimeout(h,60)};a.Util={_isElement(h){return!!(h&&h.nodeType==1)},_isFunction(h){return!!(h&&h.constructor&&h.call&&h.apply)},_isPlainObject(h){return!!h&&h.constructor===Object},_isArray(h){return Object.prototype.toString.call(h)===f},_isNumber(h){return Object.prototype.toString.call(h)===E&&!isNaN(h)&&isFinite(h)},_isString(h){return Object.prototype.toString.call(h)===g},_isBoolean(h){return Object.prototype.toString.call(h)===u},isObject(h){return h instanceof Object},isValidSelector(h){if(typeof h!="string")return!1;const T=h[0];return T==="#"||T==="."||T===T.toUpperCase()},_sign(h){return h===0||h>0?1:-1},requestAnimFrame(h){G.push(h),G.length===1&&_(function(){const T=G;G=[],T.forEach(function(A){A()})})},createCanvasElement(){const h=document.createElement("canvas");try{h.style=h.style||{}}catch{}return h},createImageElement(){return document.createElement("img")},_isInDocument(h){for(;h=h.parentNode;)if(h==document)return!0;return!1},_urlToImage(h,T){const A=a.Util.createImageElement();A.onload=function(){T(A)},A.src=h},_rgbToHex(h,T,A){return((1<<24)+(h<<16)+(T<<8)+A).toString(16).slice(1)},_hexToRgb(h){h=h.replace(S,k);const T=parseInt(h,16);return{r:T>>16&255,g:T>>8&255,b:T&255}},getRandomColor(){let h=(Math.random()*16777215<<0).toString(16);for(;h.length<6;)h=b+h;return S+h},getRGB(h){let T;return h in P?(T=P[h],{r:T[0],g:T[1],b:T[2]}):h[0]===S?this._hexToRgb(h.substring(1)):h.substr(0,4)===N?(T=I.exec(h.replace(/ /g,"")),{r:parseInt(T[1],10),g:parseInt(T[2],10),b:parseInt(T[3],10)}):{r:0,g:0,b:0}},colorToRGBA(h){return h=h||"black",a.Util._namedColorToRBA(h)||a.Util._hex3ColorToRGBA(h)||a.Util._hex4ColorToRGBA(h)||a.Util._hex6ColorToRGBA(h)||a.Util._hex8ColorToRGBA(h)||a.Util._rgbColorToRGBA(h)||a.Util._rgbaColorToRGBA(h)||a.Util._hslColorToRGBA(h)},_namedColorToRBA(h){const T=P[h.toLowerCase()];return T?{r:T[0],g:T[1],b:T[2],a:1}:null},_rgbColorToRGBA(h){if(h.indexOf("rgb(")===0){h=h.match(/rgb\(([^)]+)\)/)[1];const T=h.split(/ *, */).map(Number);return{r:T[0],g:T[1],b:T[2],a:1}}},_rgbaColorToRGBA(h){if(h.indexOf("rgba(")===0){h=h.match(/rgba\(([^)]+)\)/)[1];const T=h.split(/ *, */).map((A,O)=>A.slice(-1)==="%"?O===3?parseInt(A)/100:parseInt(A)/100*255:Number(A));return{r:T[0],g:T[1],b:T[2],a:T[3]}}},_hex8ColorToRGBA(h){if(h[0]==="#"&&h.length===9)return{r:parseInt(h.slice(1,3),16),g:parseInt(h.slice(3,5),16),b:parseInt(h.slice(5,7),16),a:parseInt(h.slice(7,9),16)/255}},_hex6ColorToRGBA(h){if(h[0]==="#"&&h.length===7)return{r:parseInt(h.slice(1,3),16),g:parseInt(h.slice(3,5),16),b:parseInt(h.slice(5,7),16),a:1}},_hex4ColorToRGBA(h){if(h[0]==="#"&&h.length===5)return{r:parseInt(h[1]+h[1],16),g:parseInt(h[2]+h[2],16),b:parseInt(h[3]+h[3],16),a:parseInt(h[4]+h[4],16)/255}},_hex3ColorToRGBA(h){if(h[0]==="#"&&h.length===4)return{r:parseInt(h[1]+h[1],16),g:parseInt(h[2]+h[2],16),b:parseInt(h[3]+h[3],16),a:1}},_hslColorToRGBA(h){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(h)){const[T,...A]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(h),O=Number(A[0])/360,W=Number(A[1])/100,z=Number(A[2])/100;let R,F,K;if(W===0)return K=z*255,{r:Math.round(K),g:Math.round(K),b:Math.round(K),a:1};z<.5?R=z*(1+W):R=z+W-z*W;const Z=2*z-R,Y=[0,0,0];for(let $=0;$<3;$++)F=O+1/3*-($-1),F<0&&F++,F>1&&F--,6*F<1?K=Z+(R-Z)*6*F:2*F<1?K=R:3*F<2?K=Z+(R-Z)*(2/3-F)*6:K=Z,Y[$]=K*255;return{r:Math.round(Y[0]),g:Math.round(Y[1]),b:Math.round(Y[2]),a:1}}},haveIntersection(h,T){return!(T.x>h.x+h.width||T.x+T.width<h.x||T.y>h.y+h.height||T.y+T.height<h.y)},cloneObject(h){const T={};for(const A in h)this._isPlainObject(h[A])?T[A]=this.cloneObject(h[A]):this._isArray(h[A])?T[A]=this.cloneArray(h[A]):T[A]=h[A];return T},cloneArray(h){return h.slice(0)},degToRad(h){return h*y},radToDeg(h){return h*m},_degToRad(h){return a.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),a.Util.degToRad(h)},_radToDeg(h){return a.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),a.Util.radToDeg(h)},_getRotation(h){return d.Konva.angleDeg?a.Util.radToDeg(h):h},_capitalize(h){return h.charAt(0).toUpperCase()+h.slice(1)},throw(h){throw new Error(C+h)},error(h){console.error(C+h)},warn(h){d.Konva.showWarnings&&console.warn(j+h)},each(h,T){for(const A in h)T(A,h[A])},_inRange(h,T,A){return T<=h&&h<A},_getProjectionToSegment(h,T,A,O,W,z){let R,F,K;const Z=(h-A)*(h-A)+(T-O)*(T-O);if(Z==0)R=h,F=T,K=(W-A)*(W-A)+(z-O)*(z-O);else{const Y=((W-h)*(A-h)+(z-T)*(O-T))/Z;Y<0?(R=h,F=T,K=(h-W)*(h-W)+(T-z)*(T-z)):Y>1?(R=A,F=O,K=(A-W)*(A-W)+(O-z)*(O-z)):(R=h+Y*(A-h),F=T+Y*(O-T),K=(R-W)*(R-W)+(F-z)*(F-z))}return[R,F,K]},_getProjectionToLine(h,T,A){const O=a.Util.cloneObject(h);let W=Number.MAX_VALUE;return T.forEach(function(z,R){if(!A&&R===T.length-1)return;const F=T[(R+1)%T.length],K=a.Util._getProjectionToSegment(z.x,z.y,F.x,F.y,h.x,h.y),Z=K[0],Y=K[1],$=K[2];$<W&&(O.x=Z,O.y=Y,W=$)}),O},_prepareArrayForTween(h,T,A){const O=[],W=[];if(h.length>T.length){const R=T;T=h,h=R}for(let R=0;R<h.length;R+=2)O.push({x:h[R],y:h[R+1]});for(let R=0;R<T.length;R+=2)W.push({x:T[R],y:T[R+1]});const z=[];return W.forEach(function(R){const F=a.Util._getProjectionToLine(R,O,A);z.push(F.x),z.push(F.y)}),z},_prepareToStringify(h){let T;h.visitedByCircularReferenceRemoval=!0;for(const A in h)if(h.hasOwnProperty(A)&&h[A]&&typeof h[A]=="object"){if(T=Object.getOwnPropertyDescriptor(h,A),h[A].visitedByCircularReferenceRemoval||a.Util._isElement(h[A]))if(T.configurable)delete h[A];else return null;else if(a.Util._prepareToStringify(h[A])===null)if(T.configurable)delete h[A];else return null}return delete h.visitedByCircularReferenceRemoval,h},_assign(h,T){for(const A in T)h[A]=T[A];return h},_getFirstPointerId(h){return h.touches?h.changedTouches[0].identifier:h.pointerId||999},releaseCanvas(...h){d.Konva.releaseCanvasOnDestroy&&h.forEach(T=>{T.width=0,T.height=0})},drawRoundedRectPath(h,T,A,O){let W=0,z=0,R=0,F=0;typeof O=="number"?W=z=R=F=Math.min(O,T/2,A/2):(W=Math.min(O[0]||0,T/2,A/2),z=Math.min(O[1]||0,T/2,A/2),F=Math.min(O[2]||0,T/2,A/2),R=Math.min(O[3]||0,T/2,A/2)),h.moveTo(W,0),h.lineTo(T-z,0),h.arc(T-z,z,z,Math.PI*3/2,0,!1),h.lineTo(T,A-F),h.arc(T-F,A-F,F,0,Math.PI/2,!1),h.lineTo(R,A),h.arc(R,A-R,R,Math.PI/2,Math.PI,!1),h.lineTo(0,W),h.arc(W,W,W,Math.PI,Math.PI*3/2,!1)}}})(th)),th}var Ka={},ss={},os={},vf;function Up(){if(vf)return os;vf=1,Object.defineProperty(os,"__esModule",{value:!0}),os.HitContext=os.SceneContext=os.Context=void 0;const a=Wt(),d=Ye();function v(G){const _=[],h=G.length,T=a.Util;for(let A=0;A<h;A++){let O=G[A];T._isNumber(O)?O=Math.round(O*1e3)/1e3:T._isString(O)||(O=O+""),_.push(O)}return _}const f=",",E="(",g=")",u="([",y="])",m=";",S="()",k="=",b=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],j=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],C=100;let N=class{constructor(_){this.canvas=_,d.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(_){_.fillEnabled()&&this._fill(_)}_fill(_){}strokeShape(_){_.hasStroke()&&this._stroke(_)}_stroke(_){}fillStrokeShape(_){_.attrs.fillAfterStrokeEnabled?(this.strokeShape(_),this.fillShape(_)):(this.fillShape(_),this.strokeShape(_))}getTrace(_,h){let T=this.traceArr,A=T.length,O="",W,z,R,F;for(W=0;W<A;W++)z=T[W],R=z.method,R?(F=z.args,O+=R,_?O+=S:a.Util._isArray(F[0])?O+=u+F.join(f)+y:(h&&(F=F.map(K=>typeof K=="number"?Math.floor(K):K)),O+=E+F.join(f)+g)):(O+=z.property,_||(O+=k+z.val)),O+=m;return O}clearTrace(){this.traceArr=[]}_trace(_){let h=this.traceArr,T;h.push(_),T=h.length,T>=C&&h.shift()}reset(){const _=this.getCanvas().getPixelRatio();this.setTransform(1*_,0,0,1*_,0,0)}getCanvas(){return this.canvas}clear(_){const h=this.getCanvas();_?this.clearRect(_.x||0,_.y||0,_.width||0,_.height||0):this.clearRect(0,0,h.getWidth()/h.pixelRatio,h.getHeight()/h.pixelRatio)}_applyLineCap(_){const h=_.attrs.lineCap;h&&this.setAttr("lineCap",h)}_applyOpacity(_){const h=_.getAbsoluteOpacity();h!==1&&this.setAttr("globalAlpha",h)}_applyLineJoin(_){const h=_.attrs.lineJoin;h&&this.setAttr("lineJoin",h)}setAttr(_,h){this._context[_]=h}arc(_,h,T,A,O,W){this._context.arc(_,h,T,A,O,W)}arcTo(_,h,T,A,O){this._context.arcTo(_,h,T,A,O)}beginPath(){this._context.beginPath()}bezierCurveTo(_,h,T,A,O,W){this._context.bezierCurveTo(_,h,T,A,O,W)}clearRect(_,h,T,A){this._context.clearRect(_,h,T,A)}clip(..._){this._context.clip.apply(this._context,_)}closePath(){this._context.closePath()}createImageData(_,h){const T=arguments;if(T.length===2)return this._context.createImageData(_,h);if(T.length===1)return this._context.createImageData(_)}createLinearGradient(_,h,T,A){return this._context.createLinearGradient(_,h,T,A)}createPattern(_,h){return this._context.createPattern(_,h)}createRadialGradient(_,h,T,A,O,W){return this._context.createRadialGradient(_,h,T,A,O,W)}drawImage(_,h,T,A,O,W,z,R,F){const K=arguments,Z=this._context;K.length===3?Z.drawImage(_,h,T):K.length===5?Z.drawImage(_,h,T,A,O):K.length===9&&Z.drawImage(_,h,T,A,O,W,z,R,F)}ellipse(_,h,T,A,O,W,z,R){this._context.ellipse(_,h,T,A,O,W,z,R)}isPointInPath(_,h,T,A){return T?this._context.isPointInPath(T,_,h,A):this._context.isPointInPath(_,h,A)}fill(..._){this._context.fill.apply(this._context,_)}fillRect(_,h,T,A){this._context.fillRect(_,h,T,A)}strokeRect(_,h,T,A){this._context.strokeRect(_,h,T,A)}fillText(_,h,T,A){A?this._context.fillText(_,h,T,A):this._context.fillText(_,h,T)}measureText(_){return this._context.measureText(_)}getImageData(_,h,T,A){return this._context.getImageData(_,h,T,A)}lineTo(_,h){this._context.lineTo(_,h)}moveTo(_,h){this._context.moveTo(_,h)}rect(_,h,T,A){this._context.rect(_,h,T,A)}roundRect(_,h,T,A,O){this._context.roundRect(_,h,T,A,O)}putImageData(_,h,T){this._context.putImageData(_,h,T)}quadraticCurveTo(_,h,T,A){this._context.quadraticCurveTo(_,h,T,A)}restore(){this._context.restore()}rotate(_){this._context.rotate(_)}save(){this._context.save()}scale(_,h){this._context.scale(_,h)}setLineDash(_){this._context.setLineDash?this._context.setLineDash(_):"mozDash"in this._context?this._context.mozDash=_:"webkitLineDash"in this._context&&(this._context.webkitLineDash=_)}getLineDash(){return this._context.getLineDash()}setTransform(_,h,T,A,O,W){this._context.setTransform(_,h,T,A,O,W)}stroke(_){_?this._context.stroke(_):this._context.stroke()}strokeText(_,h,T,A){this._context.strokeText(_,h,T,A)}transform(_,h,T,A,O,W){this._context.transform(_,h,T,A,O,W)}translate(_,h){this._context.translate(_,h)}_enableTrace(){let _=this,h=b.length,T=this.setAttr,A,O;const W=function(z){let R=_[z],F;_[z]=function(){return O=v(Array.prototype.slice.call(arguments,0)),F=R.apply(_,arguments),_._trace({method:z,args:O}),F}};for(A=0;A<h;A++)W(b[A]);_.setAttr=function(){T.apply(_,arguments);const z=arguments[0];let R=arguments[1];(z==="shadowOffsetX"||z==="shadowOffsetY"||z==="shadowBlur")&&(R=R/this.canvas.getPixelRatio()),_._trace({property:z,val:R})}}_applyGlobalCompositeOperation(_){const h=_.attrs.globalCompositeOperation;!h||h==="source-over"||this.setAttr("globalCompositeOperation",h)}};os.Context=N,j.forEach(function(G){Object.defineProperty(N.prototype,G,{get(){return this._context[G]},set(_){this._context[G]=_}})});class P extends N{constructor(_,{willReadFrequently:h=!1}={}){super(_),this._context=_._canvas.getContext("2d",{willReadFrequently:h})}_fillColor(_){const h=_.fill();this.setAttr("fillStyle",h),_._fillFunc(this)}_fillPattern(_){this.setAttr("fillStyle",_._getFillPattern()),_._fillFunc(this)}_fillLinearGradient(_){const h=_._getLinearGradient();h&&(this.setAttr("fillStyle",h),_._fillFunc(this))}_fillRadialGradient(_){const h=_._getRadialGradient();h&&(this.setAttr("fillStyle",h),_._fillFunc(this))}_fill(_){const h=_.fill(),T=_.getFillPriority();if(h&&T==="color"){this._fillColor(_);return}const A=_.getFillPatternImage();if(A&&T==="pattern"){this._fillPattern(_);return}const O=_.getFillLinearGradientColorStops();if(O&&T==="linear-gradient"){this._fillLinearGradient(_);return}const W=_.getFillRadialGradientColorStops();if(W&&T==="radial-gradient"){this._fillRadialGradient(_);return}h?this._fillColor(_):A?this._fillPattern(_):O?this._fillLinearGradient(_):W&&this._fillRadialGradient(_)}_strokeLinearGradient(_){const h=_.getStrokeLinearGradientStartPoint(),T=_.getStrokeLinearGradientEndPoint(),A=_.getStrokeLinearGradientColorStops(),O=this.createLinearGradient(h.x,h.y,T.x,T.y);if(A){for(let W=0;W<A.length;W+=2)O.addColorStop(A[W],A[W+1]);this.setAttr("strokeStyle",O)}}_stroke(_){const h=_.dash(),T=_.getStrokeScaleEnabled();if(_.hasStroke()){if(!T){this.save();const O=this.getCanvas().getPixelRatio();this.setTransform(O,0,0,O,0,0)}this._applyLineCap(_),h&&_.dashEnabled()&&(this.setLineDash(h),this.setAttr("lineDashOffset",_.dashOffset())),this.setAttr("lineWidth",_.strokeWidth()),_.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),_.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(_):this.setAttr("strokeStyle",_.stroke()),_._strokeFunc(this),T||this.restore()}}_applyShadow(_){var h,T,A;const O=(h=_.getShadowRGBA())!==null&&h!==void 0?h:"black",W=(T=_.getShadowBlur())!==null&&T!==void 0?T:5,z=(A=_.getShadowOffset())!==null&&A!==void 0?A:{x:0,y:0},R=_.getAbsoluteScale(),F=this.canvas.getPixelRatio(),K=R.x*F,Z=R.y*F;this.setAttr("shadowColor",O),this.setAttr("shadowBlur",W*Math.min(Math.abs(K),Math.abs(Z))),this.setAttr("shadowOffsetX",z.x*K),this.setAttr("shadowOffsetY",z.y*Z)}}os.SceneContext=P;class I extends N{constructor(_){super(_),this._context=_._canvas.getContext("2d",{willReadFrequently:!0})}_fill(_){this.save(),this.setAttr("fillStyle",_.colorKey),_._fillFuncHit(this),this.restore()}strokeShape(_){_.hasHitStroke()&&this._stroke(_)}_stroke(_){if(_.hasHitStroke()){const h=_.getStrokeScaleEnabled();if(!h){this.save();const O=this.getCanvas().getPixelRatio();this.setTransform(O,0,0,O,0,0)}this._applyLineCap(_);const T=_.hitStrokeWidth(),A=T==="auto"?_.strokeWidth():T;this.setAttr("lineWidth",A),this.setAttr("strokeStyle",_.colorKey),_._strokeFuncHit(this),h||this.restore()}}}return os.HitContext=I,os}var yf;function nd(){if(yf)return ss;yf=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.HitCanvas=ss.SceneCanvas=ss.Canvas=void 0;const a=Wt(),d=Up(),v=Ye();let f;function E(){if(f)return f;const m=a.Util.createCanvasElement(),S=m.getContext("2d");return f=(function(){const k=v.Konva._global.devicePixelRatio||1,b=S.webkitBackingStorePixelRatio||S.mozBackingStorePixelRatio||S.msBackingStorePixelRatio||S.oBackingStorePixelRatio||S.backingStorePixelRatio||1;return k/b})(),a.Util.releaseCanvas(m),f}class g{constructor(S){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const b=(S||{}).pixelRatio||v.Konva.pixelRatio||E();this.pixelRatio=b,this._canvas=a.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(S){const k=this.pixelRatio;this.pixelRatio=S,this.setSize(this.getWidth()/k,this.getHeight()/k)}setWidth(S){this.width=this._canvas.width=S*this.pixelRatio,this._canvas.style.width=S+"px";const k=this.pixelRatio;this.getContext()._context.scale(k,k)}setHeight(S){this.height=this._canvas.height=S*this.pixelRatio,this._canvas.style.height=S+"px";const k=this.pixelRatio;this.getContext()._context.scale(k,k)}getWidth(){return this.width}getHeight(){return this.height}setSize(S,k){this.setWidth(S||0),this.setHeight(k||0)}toDataURL(S,k){try{return this._canvas.toDataURL(S,k)}catch{try{return this._canvas.toDataURL()}catch(j){return a.Util.error("Unable to get data URL. "+j.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}ss.Canvas=g;class u extends g{constructor(S={width:0,height:0,willReadFrequently:!1}){super(S),this.context=new d.SceneContext(this,{willReadFrequently:S.willReadFrequently}),this.setSize(S.width,S.height)}}ss.SceneCanvas=u;class y extends g{constructor(S={width:0,height:0}){super(S),this.hitCanvas=!0,this.context=new d.HitContext(this),this.setSize(S.width,S.height)}}return ss.HitCanvas=y,ss}var nh={},xf;function mh(){return xf||(xf=1,(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.DD=void 0;const d=Ye(),v=Wt();a.DD={get isDragging(){let f=!1;return a.DD._dragElements.forEach(E=>{E.dragStatus==="dragging"&&(f=!0)}),f},justDragged:!1,get node(){let f;return a.DD._dragElements.forEach(E=>{f=E.node}),f},_dragElements:new Map,_drag(f){const E=[];a.DD._dragElements.forEach((g,u)=>{const{node:y}=g,m=y.getStage();m.setPointersPositions(f),g.pointerId===void 0&&(g.pointerId=v.Util._getFirstPointerId(f));const S=m._changedPointerPositions.find(k=>k.id===g.pointerId);if(S){if(g.dragStatus!=="dragging"){const k=y.dragDistance();if(Math.max(Math.abs(S.x-g.startPointerPos.x),Math.abs(S.y-g.startPointerPos.y))<k||(y.startDrag({evt:f}),!y.isDragging()))return}y._setDragPosition(f,g),E.push(y)}}),E.forEach(g=>{g.fire("dragmove",{type:"dragmove",target:g,evt:f},!0)})},_endDragBefore(f){const E=[];a.DD._dragElements.forEach(g=>{const{node:u}=g,y=u.getStage();if(f&&y.setPointersPositions(f),!y._changedPointerPositions.find(k=>k.id===g.pointerId))return;(g.dragStatus==="dragging"||g.dragStatus==="stopped")&&(a.DD.justDragged=!0,d.Konva._mouseListenClick=!1,d.Konva._touchListenClick=!1,d.Konva._pointerListenClick=!1,g.dragStatus="stopped");const S=g.node.getLayer()||g.node instanceof d.Konva.Stage&&g.node;S&&E.indexOf(S)===-1&&E.push(S)}),E.forEach(g=>{g.draw()})},_endDragAfter(f){a.DD._dragElements.forEach((E,g)=>{E.dragStatus==="stopped"&&E.node.fire("dragend",{type:"dragend",target:E.node,evt:f},!0),E.dragStatus!=="dragging"&&a.DD._dragElements.delete(g)})}},d.Konva.isBrowser&&(window.addEventListener("mouseup",a.DD._endDragBefore,!0),window.addEventListener("touchend",a.DD._endDragBefore,!0),window.addEventListener("touchcancel",a.DD._endDragBefore,!0),window.addEventListener("mousemove",a.DD._drag),window.addEventListener("touchmove",a.DD._drag),window.addEventListener("mouseup",a.DD._endDragAfter,!1),window.addEventListener("touchend",a.DD._endDragAfter,!1),window.addEventListener("touchcancel",a.DD._endDragAfter,!1))})(nh)),nh}var rh={},gr={},Sf;function tt(){if(Sf)return gr;Sf=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.RGBComponent=f,gr.alphaComponent=E,gr.getNumberValidator=g,gr.getNumberOrArrayOfNumbersValidator=u,gr.getNumberOrAutoValidator=y,gr.getStringValidator=m,gr.getStringOrGradientValidator=S,gr.getFunctionValidator=k,gr.getNumberArrayValidator=b,gr.getBooleanValidator=j,gr.getComponentValidator=C;const a=Ye(),d=Wt();function v(N){return d.Util._isString(N)?'"'+N+'"':Object.prototype.toString.call(N)==="[object Number]"||d.Util._isBoolean(N)?N:Object.prototype.toString.call(N)}function f(N){return N>255?255:N<0?0:Math.round(N)}function E(N){return N>1?1:N<1e-4?1e-4:N}function g(){if(a.Konva.isUnminified)return function(N,P){return d.Util._isNumber(N)||d.Util.warn(v(N)+' is a not valid value for "'+P+'" attribute. The value should be a number.'),N}}function u(N){if(a.Konva.isUnminified)return function(P,I){let G=d.Util._isNumber(P),_=d.Util._isArray(P)&&P.length==N;return!G&&!_&&d.Util.warn(v(P)+' is a not valid value for "'+I+'" attribute. The value should be a number or Array<number>('+N+")"),P}}function y(){if(a.Konva.isUnminified)return function(N,P){return d.Util._isNumber(N)||N==="auto"||d.Util.warn(v(N)+' is a not valid value for "'+P+'" attribute. The value should be a number or "auto".'),N}}function m(){if(a.Konva.isUnminified)return function(N,P){return d.Util._isString(N)||d.Util.warn(v(N)+' is a not valid value for "'+P+'" attribute. The value should be a string.'),N}}function S(){if(a.Konva.isUnminified)return function(N,P){const I=d.Util._isString(N),G=Object.prototype.toString.call(N)==="[object CanvasGradient]"||N&&N.addColorStop;return I||G||d.Util.warn(v(N)+' is a not valid value for "'+P+'" attribute. The value should be a string or a native gradient.'),N}}function k(){if(a.Konva.isUnminified)return function(N,P){return d.Util._isFunction(N)||d.Util.warn(v(N)+' is a not valid value for "'+P+'" attribute. The value should be a function.'),N}}function b(){if(a.Konva.isUnminified)return function(N,P){const I=Int8Array?Object.getPrototypeOf(Int8Array):null;return I&&N instanceof I||(d.Util._isArray(N)?N.forEach(function(G){d.Util._isNumber(G)||d.Util.warn('"'+P+'" attribute has non numeric element '+G+". Make sure that all elements are numbers.")}):d.Util.warn(v(N)+' is a not valid value for "'+P+'" attribute. The value should be a array of numbers.')),N}}function j(){if(a.Konva.isUnminified)return function(N,P){return N===!0||N===!1||d.Util.warn(v(N)+' is a not valid value for "'+P+'" attribute. The value should be a boolean.'),N}}function C(N){if(a.Konva.isUnminified)return function(P,I){return P==null||d.Util.isObject(P)||d.Util.warn(v(P)+' is a not valid value for "'+I+'" attribute. The value should be an object with properties '+N),P}}return gr}var _f;function $e(){return _f||(_f=1,(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Factory=void 0;const d=Wt(),v=tt(),f="get",E="set";a.Factory={addGetterSetter(g,u,y,m,S){a.Factory.addGetter(g,u,y),a.Factory.addSetter(g,u,m,S),a.Factory.addOverloadedGetterSetter(g,u)},addGetter(g,u,y){const m=f+d.Util._capitalize(u);g.prototype[m]=g.prototype[m]||function(){const S=this.attrs[u];return S===void 0?y:S}},addSetter(g,u,y,m){const S=E+d.Util._capitalize(u);g.prototype[S]||a.Factory.overWriteSetter(g,u,y,m)},overWriteSetter(g,u,y,m){const S=E+d.Util._capitalize(u);g.prototype[S]=function(k){return y&&k!==void 0&&k!==null&&(k=y.call(this,k,u)),this._setAttr(u,k),m&&m.call(this),this}},addComponentsGetterSetter(g,u,y,m,S){const k=y.length,b=d.Util._capitalize,j=f+b(u),C=E+b(u);g.prototype[j]=function(){const P={};for(let I=0;I<k;I++){const G=y[I];P[G]=this.getAttr(u+b(G))}return P};const N=(0,v.getComponentValidator)(y);g.prototype[C]=function(P){const I=this.attrs[u];m&&(P=m.call(this,P,u)),N&&N.call(this,P,u);for(const G in P)P.hasOwnProperty(G)&&this._setAttr(u+b(G),P[G]);return P||y.forEach(G=>{this._setAttr(u+b(G),void 0)}),this._fireChangeEvent(u,I,P),S&&S.call(this),this},a.Factory.addOverloadedGetterSetter(g,u)},addOverloadedGetterSetter(g,u){const y=d.Util._capitalize(u),m=E+y,S=f+y;g.prototype[u]=function(){return arguments.length?(this[m](arguments[0]),this):this[S]()}},addDeprecatedGetterSetter(g,u,y,m){d.Util.error("Adding deprecated "+u);const S=f+d.Util._capitalize(u),k=u+" property is deprecated and will be removed soon. Look at Konva change log for more information.";g.prototype[S]=function(){d.Util.error(k);const b=this.attrs[u];return b===void 0?y:b},a.Factory.addSetter(g,u,m,function(){d.Util.error(k)}),a.Factory.addOverloadedGetterSetter(g,u)},backCompat(g,u){d.Util.each(u,function(y,m){const S=g.prototype[m],k=f+d.Util._capitalize(y),b=E+d.Util._capitalize(y);function j(){S.apply(this,arguments),d.Util.error('"'+y+'" method is deprecated and will be removed soon. Use ""'+m+'" instead.')}g.prototype[y]=j,g.prototype[k]=j,g.prototype[b]=j})},afterSetFilter(){this._filterUpToDate=!1}}})(rh)),rh}var wf;function Qt(){if(wf)return Ka;wf=1,Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.Node=void 0;const a=nd(),d=mh(),v=$e(),f=Ye(),E=Wt(),g=tt(),u="absoluteOpacity",y="allEventListeners",m="absoluteTransform",S="absoluteScale",k="canvas",b="Change",j="children",C="konva",N="listening",P="mouseenter",I="mouseleave",G="pointerenter",_="pointerleave",h="touchenter",T="touchleave",A="set",O="Shape",W=" ",z="stage",R="transform",F="Stage",K="visible",Z=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(W);let Y=1,$=class fh{constructor(L){this._id=Y++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(L),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(L){(L===R||L===m)&&this._cache.get(L)?this._cache.get(L).dirty=!0:L?this._cache.delete(L):this._cache.clear()}_getCache(L,U){let V=this._cache.get(L);return(V===void 0||(L===R||L===m)&&V.dirty===!0)&&(V=U.call(this),this._cache.set(L,V)),V}_calculate(L,U,V){if(!this._attachedDepsListeners.get(L)){const H=U.map(D=>D+"Change.konva").join(W);this.on(H,()=>{this._clearCache(L)}),this._attachedDepsListeners.set(L,!0)}return this._getCache(L,V)}_getCanvasCache(){return this._cache.get(k)}_clearSelfAndDescendantCache(L){this._clearCache(L),L===m&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(k)){const{scene:L,filter:U,hit:V,buffer:H}=this._cache.get(k);E.Util.releaseCanvas(L,U,V,H),this._cache.delete(k)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(L){const U=L||{};let V={};(U.x===void 0||U.y===void 0||U.width===void 0||U.height===void 0)&&(V=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let H=Math.ceil(U.width||V.width),D=Math.ceil(U.height||V.height),J=U.pixelRatio,te=U.x===void 0?Math.floor(V.x):U.x,ce=U.y===void 0?Math.floor(V.y):U.y,pe=U.offset||0,ie=U.drawBorder||!1,X=U.hitCanvasPixelRatio||1;if(!H||!D){E.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const oe=Math.abs(Math.round(V.x)-te)>.5?1:0,ve=Math.abs(Math.round(V.y)-ce)>.5?1:0;H+=pe*2+oe,D+=pe*2+ve,te-=pe,ce-=pe;const we=new a.SceneCanvas({pixelRatio:J,width:H,height:D}),Ce=new a.SceneCanvas({pixelRatio:J,width:0,height:0,willReadFrequently:!0}),Te=new a.HitCanvas({pixelRatio:X,width:H,height:D}),Me=we.getContext(),Ve=Te.getContext(),Ae=new a.SceneCanvas({width:we.width/we.pixelRatio+Math.abs(te),height:we.height/we.pixelRatio+Math.abs(ce),pixelRatio:we.pixelRatio}),St=Ae.getContext();return Te.isCache=!0,we.isCache=!0,this._cache.delete(k),this._filterUpToDate=!1,U.imageSmoothingEnabled===!1&&(we.getContext()._context.imageSmoothingEnabled=!1,Ce.getContext()._context.imageSmoothingEnabled=!1),Me.save(),Ve.save(),St.save(),Me.translate(-te,-ce),Ve.translate(-te,-ce),St.translate(-te,-ce),Ae.x=te,Ae.y=ce,this._isUnderCache=!0,this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(S),this.drawScene(we,this,Ae),this.drawHit(Te,this),this._isUnderCache=!1,Me.restore(),Ve.restore(),ie&&(Me.save(),Me.beginPath(),Me.rect(0,0,H,D),Me.closePath(),Me.setAttr("strokeStyle","red"),Me.setAttr("lineWidth",5),Me.stroke(),Me.restore()),this._cache.set(k,{scene:we,filter:Ce,hit:Te,buffer:Ae,x:te,y:ce}),this._requestDraw(),this}isCached(){return this._cache.has(k)}getClientRect(L){throw new Error('abstract "getClientRect" method call')}_transformedRect(L,U){const V=[{x:L.x,y:L.y},{x:L.x+L.width,y:L.y},{x:L.x+L.width,y:L.y+L.height},{x:L.x,y:L.y+L.height}];let H=1/0,D=1/0,J=-1/0,te=-1/0;const ce=this.getAbsoluteTransform(U);return V.forEach(function(pe){const ie=ce.point(pe);H===void 0&&(H=J=ie.x,D=te=ie.y),H=Math.min(H,ie.x),D=Math.min(D,ie.y),J=Math.max(J,ie.x),te=Math.max(te,ie.y)}),{x:H,y:D,width:J-H,height:te-D}}_drawCachedSceneCanvas(L){L.save(),L._applyOpacity(this),L._applyGlobalCompositeOperation(this);const U=this._getCanvasCache();L.translate(U.x,U.y);const V=this._getCachedSceneCanvas(),H=V.pixelRatio;L.drawImage(V._canvas,0,0,V.width/H,V.height/H),L.restore()}_drawCachedHitCanvas(L){const U=this._getCanvasCache(),V=U.hit;L.save(),L.translate(U.x,U.y),L.drawImage(V._canvas,0,0,V.width/V.pixelRatio,V.height/V.pixelRatio),L.restore()}_getCachedSceneCanvas(){let L=this.filters(),U=this._getCanvasCache(),V=U.scene,H=U.filter,D=H.getContext(),J,te,ce,pe;if(L){if(!this._filterUpToDate){const ie=V.pixelRatio;H.setSize(V.width/V.pixelRatio,V.height/V.pixelRatio);try{for(J=L.length,D.clear(),D.drawImage(V._canvas,0,0,V.getWidth()/ie,V.getHeight()/ie),te=D.getImageData(0,0,H.getWidth(),H.getHeight()),ce=0;ce<J;ce++){if(pe=L[ce],typeof pe!="function"){E.Util.error("Filter should be type of function, but got "+typeof pe+" instead. Please check correct filters");continue}pe.call(this,te),D.putImageData(te,0,0)}}catch(X){E.Util.error("Unable to apply filter. "+X.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return H}return V}on(L,U){if(this._cache&&this._cache.delete(y),arguments.length===3)return this._delegate.apply(this,arguments);const V=L.split(W);for(let H=0;H<V.length;H++){const J=V[H].split("."),te=J[0],ce=J[1]||"";this.eventListeners[te]||(this.eventListeners[te]=[]),this.eventListeners[te].push({name:ce,handler:U})}return this}off(L,U){let V=(L||"").split(W),H=V.length,D,J,te,ce,pe,ie;if(this._cache&&this._cache.delete(y),!L)for(J in this.eventListeners)this._off(J);for(D=0;D<H;D++)if(te=V[D],ce=te.split("."),pe=ce[0],ie=ce[1],pe)this.eventListeners[pe]&&this._off(pe,ie,U);else for(J in this.eventListeners)this._off(J,ie,U);return this}dispatchEvent(L){const U={target:this,type:L.type,evt:L};return this.fire(L.type,U),this}addEventListener(L,U){return this.on(L,function(V){U.call(this,V.evt)}),this}removeEventListener(L){return this.off(L),this}_delegate(L,U,V){const H=this;this.on(L,function(D){const J=D.target.findAncestors(U,!0,H);for(let te=0;te<J.length;te++)D=E.Util.cloneObject(D),D.currentTarget=J[te],V.call(J[te],D)})}remove(){return this.isDragging()&&this.stopDrag(),d.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(m),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(S),this._clearSelfAndDescendantCache(z),this._clearSelfAndDescendantCache(K),this._clearSelfAndDescendantCache(N)}_remove(){this._clearCaches();const L=this.getParent();L&&L.children&&(L.children.splice(this.index,1),L._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(L){const U="get"+E.Util._capitalize(L);return E.Util._isFunction(this[U])?this[U]():this.attrs[L]}getAncestors(){let L=this.getParent(),U=[];for(;L;)U.push(L),L=L.getParent();return U}getAttrs(){return this.attrs||{}}setAttrs(L){return this._batchTransformChanges(()=>{let U,V;if(!L)return this;for(U in L)U!==j&&(V=A+E.Util._capitalize(U),E.Util._isFunction(this[V])?this[V](L[U]):this._setAttr(U,L[U]))}),this}isListening(){return this._getCache(N,this._isListening)}_isListening(L){if(!this.listening())return!1;const V=this.getParent();return V&&V!==L&&this!==L?V._isListening(L):!0}isVisible(){return this._getCache(K,this._isVisible)}_isVisible(L){if(!this.visible())return!1;const V=this.getParent();return V&&V!==L&&this!==L?V._isVisible(L):!0}shouldDrawHit(L,U=!1){if(L)return this._isVisible(L)&&this._isListening(L);const V=this.getLayer();let H=!1;d.DD._dragElements.forEach(J=>{J.dragStatus==="dragging"&&(J.node.nodeType==="Stage"||J.node.getLayer()===V)&&(H=!0)});const D=!U&&!f.Konva.hitOnDragEnabled&&(H||f.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!D}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let L=this.getDepth(),U=this,V=0,H,D,J,te;function ce(ie){for(H=[],D=ie.length,J=0;J<D;J++)te=ie[J],V++,te.nodeType!==O&&(H=H.concat(te.getChildren().slice())),te._id===U._id&&(J=D);H.length>0&&H[0].getDepth()<=L&&ce(H)}const pe=this.getStage();return U.nodeType!==F&&pe&&ce(pe.getChildren()),V}getDepth(){let L=0,U=this.parent;for(;U;)L++,U=U.parent;return L}_batchTransformChanges(L){this._batchingTransformChange=!0,L(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(R),this._clearSelfAndDescendantCache(m)),this._needClearTransformCache=!1}setPosition(L){return this._batchTransformChanges(()=>{this.x(L.x),this.y(L.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const L=this.getStage();if(!L)return null;const U=L.getPointerPosition();if(!U)return null;const V=this.getAbsoluteTransform().copy();return V.invert(),V.point(U)}getAbsolutePosition(L){let U=!1,V=this.parent;for(;V;){if(V.isCached()){U=!0;break}V=V.parent}U&&!L&&(L=!0);const H=this.getAbsoluteTransform(L).getMatrix(),D=new E.Transform,J=this.offset();return D.m=H.slice(),D.translate(J.x,J.y),D.getTranslation()}setAbsolutePosition(L){const{x:U,y:V,...H}=this._clearTransform();this.attrs.x=U,this.attrs.y=V,this._clearCache(R);const D=this._getAbsoluteTransform().copy();return D.invert(),D.translate(L.x,L.y),L={x:this.attrs.x+D.getTranslation().x,y:this.attrs.y+D.getTranslation().y},this._setTransform(H),this.setPosition({x:L.x,y:L.y}),this._clearCache(R),this._clearSelfAndDescendantCache(m),this}_setTransform(L){let U;for(U in L)this.attrs[U]=L[U]}_clearTransform(){const L={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,L}move(L){let U=L.x,V=L.y,H=this.x(),D=this.y();return U!==void 0&&(H+=U),V!==void 0&&(D+=V),this.setPosition({x:H,y:D}),this}_eachAncestorReverse(L,U){let V=[],H=this.getParent(),D,J;if(!(U&&U._id===this._id)){for(V.unshift(this);H&&(!U||H._id!==U._id);)V.unshift(H),H=H.parent;for(D=V.length,J=0;J<D;J++)L(V[J])}}rotate(L){return this.rotation(this.rotation()+L),this}moveToTop(){if(!this.parent)return E.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const L=this.index,U=this.parent.getChildren().length;return L<U-1?(this.parent.children.splice(L,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return E.Util.warn("Node has no parent. moveUp function is ignored."),!1;const L=this.index,U=this.parent.getChildren().length;return L<U-1?(this.parent.children.splice(L,1),this.parent.children.splice(L+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return E.Util.warn("Node has no parent. moveDown function is ignored."),!1;const L=this.index;return L>0?(this.parent.children.splice(L,1),this.parent.children.splice(L-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return E.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const L=this.index;return L>0?(this.parent.children.splice(L,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(L){if(!this.parent)return E.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(L<0||L>=this.parent.children.length)&&E.Util.warn("Unexpected value "+L+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const U=this.index;return this.parent.children.splice(U,1),this.parent.children.splice(L,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(u,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let L=this.opacity();const U=this.getParent();return U&&!U._isUnderCache&&(L*=U.getAbsoluteOpacity()),L}moveTo(L){return this.getParent()!==L&&(this._remove(),L.add(this)),this}toObject(){let L=this.getAttrs(),U,V,H,D,J;const te={attrs:{},className:this.getClassName()};for(U in L)V=L[U],J=E.Util.isObject(V)&&!E.Util._isPlainObject(V)&&!E.Util._isArray(V),!J&&(H=typeof this[U]=="function"&&this[U],delete L[U],D=H?H.call(this):null,L[U]=V,D!==V&&(te.attrs[U]=V));return E.Util._prepareToStringify(te)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(L,U,V){const H=[];U&&this._isMatch(L)&&H.push(this);let D=this.parent;for(;D;){if(D===V)return H;D._isMatch(L)&&H.push(D),D=D.parent}return H}isAncestorOf(L){return!1}findAncestor(L,U,V){return this.findAncestors(L,U,V)[0]}_isMatch(L){if(!L)return!1;if(typeof L=="function")return L(this);let U=L.replace(/ /g,"").split(","),V=U.length,H,D;for(H=0;H<V;H++)if(D=U[H],E.Util.isValidSelector(D)||(E.Util.warn('Selector "'+D+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),E.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),E.Util.warn("Konva is awesome, right?")),D.charAt(0)==="#"){if(this.id()===D.slice(1))return!0}else if(D.charAt(0)==="."){if(this.hasName(D.slice(1)))return!0}else if(this.className===D||this.nodeType===D)return!0;return!1}getLayer(){const L=this.getParent();return L?L.getLayer():null}getStage(){return this._getCache(z,this._getStage)}_getStage(){const L=this.getParent();return L?L.getStage():null}fire(L,U={},V){return U.target=U.target||this,V?this._fireAndBubble(L,U):this._fire(L,U),this}getAbsoluteTransform(L){return L?this._getAbsoluteTransform(L):this._getCache(m,this._getAbsoluteTransform)}_getAbsoluteTransform(L){let U;if(L)return U=new E.Transform,this._eachAncestorReverse(function(V){const H=V.transformsEnabled();H==="all"?U.multiply(V.getTransform()):H==="position"&&U.translate(V.x()-V.offsetX(),V.y()-V.offsetY())},L),U;{U=this._cache.get(m)||new E.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(U):U.reset();const V=this.transformsEnabled();if(V==="all")U.multiply(this.getTransform());else if(V==="position"){const H=this.attrs.x||0,D=this.attrs.y||0,J=this.attrs.offsetX||0,te=this.attrs.offsetY||0;U.translate(H-J,D-te)}return U.dirty=!1,U}}getAbsoluteScale(L){let U=this;for(;U;)U._isUnderCache&&(L=U),U=U.getParent();const H=this.getAbsoluteTransform(L).decompose();return{x:H.scaleX,y:H.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(R,this._getTransform)}_getTransform(){var L,U;const V=this._cache.get(R)||new E.Transform;V.reset();const H=this.x(),D=this.y(),J=f.Konva.getAngle(this.rotation()),te=(L=this.attrs.scaleX)!==null&&L!==void 0?L:1,ce=(U=this.attrs.scaleY)!==null&&U!==void 0?U:1,pe=this.attrs.skewX||0,ie=this.attrs.skewY||0,X=this.attrs.offsetX||0,oe=this.attrs.offsetY||0;return(H!==0||D!==0)&&V.translate(H,D),J!==0&&V.rotate(J),(pe!==0||ie!==0)&&V.skew(pe,ie),(te!==1||ce!==1)&&V.scale(te,ce),(X!==0||oe!==0)&&V.translate(-1*X,-1*oe),V.dirty=!1,V}clone(L){let U=E.Util.cloneObject(this.attrs),V,H,D,J,te;for(V in L)U[V]=L[V];const ce=new this.constructor(U);for(V in this.eventListeners)for(H=this.eventListeners[V],D=H.length,J=0;J<D;J++)te=H[J],te.name.indexOf(C)<0&&(ce.eventListeners[V]||(ce.eventListeners[V]=[]),ce.eventListeners[V].push(te));return ce}_toKonvaCanvas(L){L=L||{};const U=this.getClientRect(),V=this.getStage(),H=L.x!==void 0?L.x:Math.floor(U.x),D=L.y!==void 0?L.y:Math.floor(U.y),J=L.pixelRatio||1,te=new a.SceneCanvas({width:L.width||Math.ceil(U.width)||(V?V.width():0),height:L.height||Math.ceil(U.height)||(V?V.height():0),pixelRatio:J}),ce=te.getContext(),pe=new a.SceneCanvas({width:te.width/te.pixelRatio+Math.abs(H),height:te.height/te.pixelRatio+Math.abs(D),pixelRatio:te.pixelRatio});return L.imageSmoothingEnabled===!1&&(ce._context.imageSmoothingEnabled=!1),ce.save(),(H||D)&&ce.translate(-1*H,-1*D),this.drawScene(te,void 0,pe),ce.restore(),te}toCanvas(L){return this._toKonvaCanvas(L)._canvas}toDataURL(L){L=L||{};const U=L.mimeType||null,V=L.quality||null,H=this._toKonvaCanvas(L).toDataURL(U,V);return L.callback&&L.callback(H),H}toImage(L){return new Promise((U,V)=>{try{const H=L?.callback;H&&delete L.callback,E.Util._urlToImage(this.toDataURL(L),function(D){U(D),H?.(D)})}catch(H){V(H)}})}toBlob(L){return new Promise((U,V)=>{try{const H=L?.callback;H&&delete L.callback,this.toCanvas(L).toBlob(D=>{U(D),H?.(D)},L?.mimeType,L?.quality)}catch(H){V(H)}})}setSize(L){return this.width(L.width),this.height(L.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():f.Konva.dragDistance}_off(L,U,V){let H=this.eventListeners[L],D,J,te;for(D=0;D<H.length;D++)if(J=H[D].name,te=H[D].handler,(J!=="konva"||U==="konva")&&(!U||J===U)&&(!V||V===te)){if(H.splice(D,1),H.length===0){delete this.eventListeners[L];break}D--}}_fireChangeEvent(L,U,V){this._fire(L+b,{oldVal:U,newVal:V})}addName(L){if(!this.hasName(L)){const U=this.name(),V=U?U+" "+L:L;this.name(V)}return this}hasName(L){if(!L)return!1;const U=this.name();return U?(U||"").split(/\s/g).indexOf(L)!==-1:!1}removeName(L){const U=(this.name()||"").split(/\s/g),V=U.indexOf(L);return V!==-1&&(U.splice(V,1),this.name(U.join(" "))),this}setAttr(L,U){const V=this[A+E.Util._capitalize(L)];return E.Util._isFunction(V)?V.call(this,U):this._setAttr(L,U),this}_requestDraw(){if(f.Konva.autoDrawEnabled){const L=this.getLayer()||this.getStage();L?.batchDraw()}}_setAttr(L,U){const V=this.attrs[L];V===U&&!E.Util.isObject(U)||(U==null?delete this.attrs[L]:this.attrs[L]=U,this._shouldFireChangeEvents&&this._fireChangeEvent(L,V,U),this._requestDraw())}_setComponentAttr(L,U,V){let H;V!==void 0&&(H=this.attrs[L],H||(this.attrs[L]=this.getAttr(L)),this.attrs[L][U]=V,this._fireChangeEvent(L,H,V))}_fireAndBubble(L,U,V){U&&this.nodeType===O&&(U.target=this);const H=[P,I,G,_,h,T];if(!(H.indexOf(L)!==-1&&(V&&(this===V||this.isAncestorOf&&this.isAncestorOf(V))||this.nodeType==="Stage"&&!V))){this._fire(L,U);const J=H.indexOf(L)!==-1&&V&&V.isAncestorOf&&V.isAncestorOf(this)&&!V.isAncestorOf(this.parent);(U&&!U.cancelBubble||!U)&&this.parent&&this.parent.isListening()&&!J&&(V&&V.parent?this._fireAndBubble.call(this.parent,L,U,V):this._fireAndBubble.call(this.parent,L,U))}}_getProtoListeners(L){var U,V,H;const D=(U=this._cache.get(y))!==null&&U!==void 0?U:{};let J=D?.[L];if(J===void 0){J=[];let te=Object.getPrototypeOf(this);for(;te;){const ce=(H=(V=te.eventListeners)===null||V===void 0?void 0:V[L])!==null&&H!==void 0?H:[];J.push(...ce),te=Object.getPrototypeOf(te)}D[L]=J,this._cache.set(y,D)}return J}_fire(L,U){U=U||{},U.currentTarget=this,U.type=L;const V=this._getProtoListeners(L);if(V)for(let D=0;D<V.length;D++)V[D].handler.call(this,U);const H=this.eventListeners[L];if(H)for(let D=0;D<H.length;D++)H[D].handler.call(this,U)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(L){const U=L?L.pointerId:void 0,V=this.getStage(),H=this.getAbsolutePosition();if(!V)return;const D=V._getPointerById(U)||V._changedPointerPositions[0]||H;d.DD._dragElements.set(this._id,{node:this,startPointerPos:D,offset:{x:D.x-H.x,y:D.y-H.y},dragStatus:"ready",pointerId:U})}startDrag(L,U=!0){d.DD._dragElements.has(this._id)||this._createDragElement(L);const V=d.DD._dragElements.get(this._id);V.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:L&&L.evt},U)}_setDragPosition(L,U){const V=this.getStage()._getPointerById(U.pointerId);if(!V)return;let H={x:V.x-U.offset.x,y:V.y-U.offset.y};const D=this.dragBoundFunc();if(D!==void 0){const J=D.call(this,H,L);J?H=J:E.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==H.x||this._lastPos.y!==H.y)&&(this.setAbsolutePosition(H),this._requestDraw()),this._lastPos=H}stopDrag(L){const U=d.DD._dragElements.get(this._id);U&&(U.dragStatus="stopped"),d.DD._endDragBefore(L),d.DD._endDragAfter(L)}setDraggable(L){this._setAttr("draggable",L),this._dragChange()}isDragging(){const L=d.DD._dragElements.get(this._id);return L?L.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(L){if(!(!(L.evt.button!==void 0)||f.Konva.dragButtons.indexOf(L.evt.button)>=0)||this.isDragging())return;let H=!1;d.DD._dragElements.forEach(D=>{this.isAncestorOf(D.node)&&(H=!0)}),H||this._createDragElement(L)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const U=d.DD._dragElements.get(this._id),V=U&&U.dragStatus==="dragging",H=U&&U.dragStatus==="ready";V?this.stopDrag():H&&d.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(L={x:0,y:0}){const U=this.getStage();if(!U)return!1;const V={x:-L.x,y:-L.y,width:U.width()+2*L.x,height:U.height()+2*L.y};return E.Util.haveIntersection(V,this.getClientRect())}static create(L,U){return E.Util._isString(L)&&(L=JSON.parse(L)),this._createNode(L,U)}static _createNode(L,U){let V=fh.prototype.getClassName.call(L),H=L.children,D,J,te;U&&(L.attrs.container=U),f.Konva[V]||(E.Util.warn('Can not find a node with class name "'+V+'". Fallback to "Shape".'),V="Shape");const ce=f.Konva[V];if(D=new ce(L.attrs),H)for(J=H.length,te=0;te<J;te++)D.add(fh._createNode(H[te]));return D}};Ka.Node=$,$.prototype.nodeType="Node",$.prototype._attrsAffectingSize=[],$.prototype.eventListeners={},$.prototype.on.call($.prototype,Z,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(R),this._clearSelfAndDescendantCache(m)}),$.prototype.on.call($.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(K)}),$.prototype.on.call($.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(N)}),$.prototype.on.call($.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(u)});const Q=v.Factory.addGetterSetter;return Q($,"zIndex"),Q($,"absolutePosition"),Q($,"position"),Q($,"x",0,(0,g.getNumberValidator)()),Q($,"y",0,(0,g.getNumberValidator)()),Q($,"globalCompositeOperation","source-over",(0,g.getStringValidator)()),Q($,"opacity",1,(0,g.getNumberValidator)()),Q($,"name","",(0,g.getStringValidator)()),Q($,"id","",(0,g.getStringValidator)()),Q($,"rotation",0,(0,g.getNumberValidator)()),v.Factory.addComponentsGetterSetter($,"scale",["x","y"]),Q($,"scaleX",1,(0,g.getNumberValidator)()),Q($,"scaleY",1,(0,g.getNumberValidator)()),v.Factory.addComponentsGetterSetter($,"skew",["x","y"]),Q($,"skewX",0,(0,g.getNumberValidator)()),Q($,"skewY",0,(0,g.getNumberValidator)()),v.Factory.addComponentsGetterSetter($,"offset",["x","y"]),Q($,"offsetX",0,(0,g.getNumberValidator)()),Q($,"offsetY",0,(0,g.getNumberValidator)()),Q($,"dragDistance",void 0,(0,g.getNumberValidator)()),Q($,"width",0,(0,g.getNumberValidator)()),Q($,"height",0,(0,g.getNumberValidator)()),Q($,"listening",!0,(0,g.getBooleanValidator)()),Q($,"preventDefault",!0,(0,g.getBooleanValidator)()),Q($,"filters",void 0,function(re){return this._filterUpToDate=!1,re}),Q($,"visible",!0,(0,g.getBooleanValidator)()),Q($,"transformsEnabled","all",(0,g.getStringValidator)()),Q($,"size"),Q($,"dragBoundFunc"),Q($,"draggable",!1,(0,g.getBooleanValidator)()),v.Factory.backCompat($,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Ka}var Ya={},Cf;function rd(){if(Cf)return Ya;Cf=1,Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.Container=void 0;const a=$e(),d=Qt(),v=tt();let f=class extends d.Node{constructor(){super(...arguments),this.children=[]}getChildren(g){const u=this.children||[];return g?u.filter(g):u}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(g=>{g.parent=null,g.index=0,g.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(g=>{g.parent=null,g.index=0,g.destroy()}),this.children=[],this._requestDraw(),this}add(...g){if(g.length===0)return this;if(g.length>1){for(let y=0;y<g.length;y++)this.add(g[y]);return this}const u=g[0];return u.getParent()?(u.moveTo(this),this):(this._validateAdd(u),u.index=this.getChildren().length,u.parent=this,u._clearCaches(),this.getChildren().push(u),this._fire("add",{child:u}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(g){return this._generalFind(g,!1)}findOne(g){const u=this._generalFind(g,!0);return u.length>0?u[0]:void 0}_generalFind(g,u){const y=[];return this._descendants(m=>{const S=m._isMatch(g);return S&&y.push(m),!!(S&&u)}),y}_descendants(g){let u=!1;const y=this.getChildren();for(const m of y){if(u=g(m),u)return!0;if(m.hasChildren()&&(u=m._descendants(g),u))return!0}return!1}toObject(){const g=d.Node.prototype.toObject.call(this);return g.children=[],this.getChildren().forEach(u=>{g.children.push(u.toObject())}),g}isAncestorOf(g){let u=g.getParent();for(;u;){if(u._id===this._id)return!0;u=u.getParent()}return!1}clone(g){const u=d.Node.prototype.clone.call(this,g);return this.getChildren().forEach(function(y){u.add(y.clone())}),u}getAllIntersections(g){const u=[];return this.find("Shape").forEach(y=>{y.isVisible()&&y.intersects(g)&&u.push(y)}),u}_clearSelfAndDescendantCache(g){var u;super._clearSelfAndDescendantCache(g),!this.isCached()&&((u=this.children)===null||u===void 0||u.forEach(function(y){y._clearSelfAndDescendantCache(g)}))}_setChildrenIndices(){var g;(g=this.children)===null||g===void 0||g.forEach(function(u,y){u.index=y}),this._requestDraw()}drawScene(g,u,y){const m=this.getLayer(),S=g||m&&m.getCanvas(),k=S&&S.getContext(),b=this._getCanvasCache(),j=b&&b.scene,C=S&&S.isCache;if(!this.isVisible()&&!C)return this;if(j){k.save();const N=this.getAbsoluteTransform(u).getMatrix();k.transform(N[0],N[1],N[2],N[3],N[4],N[5]),this._drawCachedSceneCanvas(k),k.restore()}else this._drawChildren("drawScene",S,u,y);return this}drawHit(g,u){if(!this.shouldDrawHit(u))return this;const y=this.getLayer(),m=g||y&&y.hitCanvas,S=m&&m.getContext(),k=this._getCanvasCache();if(k&&k.hit){S.save();const j=this.getAbsoluteTransform(u).getMatrix();S.transform(j[0],j[1],j[2],j[3],j[4],j[5]),this._drawCachedHitCanvas(S),S.restore()}else this._drawChildren("drawHit",m,u);return this}_drawChildren(g,u,y,m){var S;const k=u&&u.getContext(),b=this.clipWidth(),j=this.clipHeight(),C=this.clipFunc(),N=typeof b=="number"&&typeof j=="number"||C,P=y===this;if(N){k.save();const G=this.getAbsoluteTransform(y);let _=G.getMatrix();k.transform(_[0],_[1],_[2],_[3],_[4],_[5]),k.beginPath();let h;if(C)h=C.call(this,k,this);else{const T=this.clipX(),A=this.clipY();k.rect(T||0,A||0,b,j)}k.clip.apply(k,h),_=G.copy().invert().getMatrix(),k.transform(_[0],_[1],_[2],_[3],_[4],_[5])}const I=!P&&this.globalCompositeOperation()!=="source-over"&&g==="drawScene";I&&(k.save(),k._applyGlobalCompositeOperation(this)),(S=this.children)===null||S===void 0||S.forEach(function(G){G[g](u,y,m)}),I&&k.restore(),N&&k.restore()}getClientRect(g={}){var u;const y=g.skipTransform,m=g.relativeTo;let S,k,b,j,C={x:1/0,y:1/0,width:0,height:0};const N=this;(u=this.children)===null||u===void 0||u.forEach(function(G){if(!G.visible())return;const _=G.getClientRect({relativeTo:N,skipShadow:g.skipShadow,skipStroke:g.skipStroke});_.width===0&&_.height===0||(S===void 0?(S=_.x,k=_.y,b=_.x+_.width,j=_.y+_.height):(S=Math.min(S,_.x),k=Math.min(k,_.y),b=Math.max(b,_.x+_.width),j=Math.max(j,_.y+_.height)))});const P=this.find("Shape");let I=!1;for(let G=0;G<P.length;G++)if(P[G]._isVisible(this)){I=!0;break}return I&&S!==void 0?C={x:S,y:k,width:b-S,height:j-k}:C={x:0,y:0,width:0,height:0},y?C:this._transformedRect(C,m)}};return Ya.Container=f,a.Factory.addComponentsGetterSetter(f,"clip",["x","y","width","height"]),a.Factory.addGetterSetter(f,"clipX",void 0,(0,v.getNumberValidator)()),a.Factory.addGetterSetter(f,"clipY",void 0,(0,v.getNumberValidator)()),a.Factory.addGetterSetter(f,"clipWidth",void 0,(0,v.getNumberValidator)()),a.Factory.addGetterSetter(f,"clipHeight",void 0,(0,v.getNumberValidator)()),a.Factory.addGetterSetter(f,"clipFunc"),Ya}var ih={},Zs={},kf;function Gp(){if(kf)return Zs;kf=1,Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.getCapturedShape=f,Zs.createEvent=E,Zs.hasPointerCapture=g,Zs.setPointerCapture=u,Zs.releaseCapture=y;const a=Ye(),d=new Map,v=a.Konva._global.PointerEvent!==void 0;function f(m){return d.get(m)}function E(m){return{evt:m,pointerId:m.pointerId}}function g(m,S){return d.get(m)===S}function u(m,S){y(m),S.getStage()&&(d.set(m,S),v&&S._fire("gotpointercapture",E(new PointerEvent("gotpointercapture"))))}function y(m,S){const k=d.get(m);if(!k)return;const b=k.getStage();b&&b.content,d.delete(m),v&&k._fire("lostpointercapture",E(new PointerEvent("lostpointercapture")))}return Zs}var jf;function F1(){return jf||(jf=1,(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Stage=a.stages=void 0;const d=Wt(),v=$e(),f=rd(),E=Ye(),g=nd(),u=mh(),y=Ye(),m=Gp(),S="Stage",k="string",b="px",j="mouseout",C="mouseleave",N="mouseover",P="mouseenter",I="mousemove",G="mousedown",_="mouseup",h="pointermove",T="pointerdown",A="pointerup",O="pointercancel",W="lostpointercapture",z="pointerout",R="pointerleave",F="pointerover",K="pointerenter",Z="contextmenu",Y="touchstart",$="touchend",Q="touchmove",re="touchcancel",L="wheel",U=5,V=[[P,"_pointerenter"],[G,"_pointerdown"],[I,"_pointermove"],[_,"_pointerup"],[C,"_pointerleave"],[Y,"_pointerdown"],[Q,"_pointermove"],[$,"_pointerup"],[re,"_pointercancel"],[N,"_pointerover"],[L,"_wheel"],[Z,"_contextmenu"],[T,"_pointerdown"],[h,"_pointermove"],[A,"_pointerup"],[O,"_pointercancel"],[R,"_pointerleave"],[W,"_lostpointercapture"]],H={mouse:{[z]:j,[R]:C,[F]:N,[K]:P,[h]:I,[T]:G,[A]:_,[O]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[z]:"touchout",[R]:"touchleave",[F]:"touchover",[K]:"touchenter",[h]:Q,[T]:Y,[A]:$,[O]:re,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[z]:z,[R]:R,[F]:F,[K]:K,[h]:h,[T]:T,[A]:A,[O]:O,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},D=ie=>ie.indexOf("pointer")>=0?"pointer":ie.indexOf("touch")>=0?"touch":"mouse",J=ie=>{const X=D(ie);if(X==="pointer")return E.Konva.pointerEventsEnabled&&H.pointer;if(X==="touch")return H.touch;if(X==="mouse")return H.mouse};function te(ie={}){return(ie.clipFunc||ie.clipWidth||ie.clipHeight)&&d.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),ie}const ce="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";a.stages=[];class pe extends f.Container{constructor(X){super(te(X)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),a.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{te(this.attrs)}),this._checkVisibility()}_validateAdd(X){const oe=X.getType()==="Layer",ve=X.getType()==="FastLayer";oe||ve||d.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const X=this.visible()?"":"none";this.content.style.display=X}setContainer(X){if(typeof X===k){let oe;if(X.charAt(0)==="."){const ve=X.slice(1);X=document.getElementsByClassName(ve)[0]}else X.charAt(0)!=="#"?oe=X:oe=X.slice(1),X=document.getElementById(oe);if(!X)throw"Can not find container in document with id "+oe}return this._setAttr("container",X),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),X.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const X=this.children,oe=X.length;for(let ve=0;ve<oe;ve++)X[ve].clear();return this}clone(X){return X||(X={}),X.container=typeof document<"u"&&document.createElement("div"),f.Container.prototype.clone.call(this,X)}destroy(){super.destroy();const X=this.content;X&&d.Util._isInDocument(X)&&this.container().removeChild(X);const oe=a.stages.indexOf(this);return oe>-1&&a.stages.splice(oe,1),d.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const X=this._pointerPositions[0]||this._changedPointerPositions[0];return X?{x:X.x,y:X.y}:(d.Util.warn(ce),null)}_getPointerById(X){return this._pointerPositions.find(oe=>oe.id===X)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(X){X=X||{},X.x=X.x||0,X.y=X.y||0,X.width=X.width||this.width(),X.height=X.height||this.height();const oe=new g.SceneCanvas({width:X.width,height:X.height,pixelRatio:X.pixelRatio||1}),ve=oe.getContext()._context,we=this.children;return(X.x||X.y)&&ve.translate(-1*X.x,-1*X.y),we.forEach(function(Ce){if(!Ce.isVisible())return;const Te=Ce._toKonvaCanvas(X);ve.drawImage(Te._canvas,X.x,X.y,Te.getWidth()/Te.getPixelRatio(),Te.getHeight()/Te.getPixelRatio())}),oe}getIntersection(X){if(!X)return null;const oe=this.children,ve=oe.length,we=ve-1;for(let Ce=we;Ce>=0;Ce--){const Te=oe[Ce].getIntersection(X);if(Te)return Te}return null}_resizeDOM(){const X=this.width(),oe=this.height();this.content&&(this.content.style.width=X+b,this.content.style.height=oe+b),this.bufferCanvas.setSize(X,oe),this.bufferHitCanvas.setSize(X,oe),this.children.forEach(ve=>{ve.setSize({width:X,height:oe}),ve.draw()})}add(X,...oe){if(arguments.length>1){for(let we=0;we<arguments.length;we++)this.add(arguments[we]);return this}super.add(X);const ve=this.children.length;return ve>U&&d.Util.warn("The stage has "+ve+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),X.setSize({width:this.width(),height:this.height()}),X.draw(),E.Konva.isBrowser&&this.content.appendChild(X.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(X){return m.hasPointerCapture(X,this)}setPointerCapture(X){m.setPointerCapture(X,this)}releaseCapture(X){m.releaseCapture(X,this)}getLayers(){return this.children}_bindContentEvents(){E.Konva.isBrowser&&V.forEach(([X,oe])=>{this.content.addEventListener(X,ve=>{this[oe](ve)},{passive:!1})})}_pointerenter(X){this.setPointersPositions(X);const oe=J(X.type);oe&&this._fire(oe.pointerenter,{evt:X,target:this,currentTarget:this})}_pointerover(X){this.setPointersPositions(X);const oe=J(X.type);oe&&this._fire(oe.pointerover,{evt:X,target:this,currentTarget:this})}_getTargetShape(X){let oe=this[X+"targetShape"];return oe&&!oe.getStage()&&(oe=null),oe}_pointerleave(X){const oe=J(X.type),ve=D(X.type);if(!oe)return;this.setPointersPositions(X);const we=this._getTargetShape(ve),Ce=!(E.Konva.isDragging()||E.Konva.isTransforming())||E.Konva.hitOnDragEnabled;we&&Ce?(we._fireAndBubble(oe.pointerout,{evt:X}),we._fireAndBubble(oe.pointerleave,{evt:X}),this._fire(oe.pointerleave,{evt:X,target:this,currentTarget:this}),this[ve+"targetShape"]=null):Ce&&(this._fire(oe.pointerleave,{evt:X,target:this,currentTarget:this}),this._fire(oe.pointerout,{evt:X,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(X){const oe=J(X.type),ve=D(X.type);if(!oe)return;this.setPointersPositions(X);let we=!1;this._changedPointerPositions.forEach(Ce=>{const Te=this.getIntersection(Ce);if(u.DD.justDragged=!1,E.Konva["_"+ve+"ListenClick"]=!0,!Te||!Te.isListening()){this[ve+"ClickStartShape"]=void 0;return}E.Konva.capturePointerEventsEnabled&&Te.setPointerCapture(Ce.id),this[ve+"ClickStartShape"]=Te,Te._fireAndBubble(oe.pointerdown,{evt:X,pointerId:Ce.id}),we=!0;const Me=X.type.indexOf("touch")>=0;Te.preventDefault()&&X.cancelable&&Me&&X.preventDefault()}),we||this._fire(oe.pointerdown,{evt:X,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(X){const oe=J(X.type),ve=D(X.type);if(!oe||(E.Konva.isDragging()&&u.DD.node.preventDefault()&&X.cancelable&&X.preventDefault(),this.setPointersPositions(X),!(!(E.Konva.isDragging()||E.Konva.isTransforming())||E.Konva.hitOnDragEnabled)))return;const Ce={};let Te=!1;const Me=this._getTargetShape(ve);this._changedPointerPositions.forEach(Ve=>{const Ae=m.getCapturedShape(Ve.id)||this.getIntersection(Ve),St=Ve.id,rt={evt:X,pointerId:St},_t=Me!==Ae;if(_t&&Me&&(Me._fireAndBubble(oe.pointerout,{...rt},Ae),Me._fireAndBubble(oe.pointerleave,{...rt},Ae)),Ae){if(Ce[Ae._id])return;Ce[Ae._id]=!0}Ae&&Ae.isListening()?(Te=!0,_t&&(Ae._fireAndBubble(oe.pointerover,{...rt},Me),Ae._fireAndBubble(oe.pointerenter,{...rt},Me),this[ve+"targetShape"]=Ae),Ae._fireAndBubble(oe.pointermove,{...rt})):Me&&(this._fire(oe.pointerover,{evt:X,target:this,currentTarget:this,pointerId:St}),this[ve+"targetShape"]=null)}),Te||this._fire(oe.pointermove,{evt:X,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(X){const oe=J(X.type),ve=D(X.type);if(!oe)return;this.setPointersPositions(X);const we=this[ve+"ClickStartShape"],Ce=this[ve+"ClickEndShape"],Te={};let Me=!1;this._changedPointerPositions.forEach(Ve=>{const Ae=m.getCapturedShape(Ve.id)||this.getIntersection(Ve);if(Ae){if(Ae.releaseCapture(Ve.id),Te[Ae._id])return;Te[Ae._id]=!0}const St=Ve.id,rt={evt:X,pointerId:St};let _t=!1;E.Konva["_"+ve+"InDblClickWindow"]?(_t=!0,clearTimeout(this[ve+"DblTimeout"])):u.DD.justDragged||(E.Konva["_"+ve+"InDblClickWindow"]=!0,clearTimeout(this[ve+"DblTimeout"])),this[ve+"DblTimeout"]=setTimeout(function(){E.Konva["_"+ve+"InDblClickWindow"]=!1},E.Konva.dblClickWindow),Ae&&Ae.isListening()?(Me=!0,this[ve+"ClickEndShape"]=Ae,Ae._fireAndBubble(oe.pointerup,{...rt}),E.Konva["_"+ve+"ListenClick"]&&we&&we===Ae&&(Ae._fireAndBubble(oe.pointerclick,{...rt}),_t&&Ce&&Ce===Ae&&Ae._fireAndBubble(oe.pointerdblclick,{...rt}))):(this[ve+"ClickEndShape"]=null,E.Konva["_"+ve+"ListenClick"]&&this._fire(oe.pointerclick,{evt:X,target:this,currentTarget:this,pointerId:St}),_t&&this._fire(oe.pointerdblclick,{evt:X,target:this,currentTarget:this,pointerId:St}))}),Me||this._fire(oe.pointerup,{evt:X,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),E.Konva["_"+ve+"ListenClick"]=!1,X.cancelable&&ve!=="touch"&&ve!=="pointer"&&X.preventDefault()}_contextmenu(X){this.setPointersPositions(X);const oe=this.getIntersection(this.getPointerPosition());oe&&oe.isListening()?oe._fireAndBubble(Z,{evt:X}):this._fire(Z,{evt:X,target:this,currentTarget:this})}_wheel(X){this.setPointersPositions(X);const oe=this.getIntersection(this.getPointerPosition());oe&&oe.isListening()?oe._fireAndBubble(L,{evt:X}):this._fire(L,{evt:X,target:this,currentTarget:this})}_pointercancel(X){this.setPointersPositions(X);const oe=m.getCapturedShape(X.pointerId)||this.getIntersection(this.getPointerPosition());oe&&oe._fireAndBubble(A,m.createEvent(X)),m.releaseCapture(X.pointerId)}_lostpointercapture(X){m.releaseCapture(X.pointerId)}setPointersPositions(X){const oe=this._getContentPosition();let ve=null,we=null;X=X||window.event,X.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(X.touches,Ce=>{this._pointerPositions.push({id:Ce.identifier,x:(Ce.clientX-oe.left)/oe.scaleX,y:(Ce.clientY-oe.top)/oe.scaleY})}),Array.prototype.forEach.call(X.changedTouches||X.touches,Ce=>{this._changedPointerPositions.push({id:Ce.identifier,x:(Ce.clientX-oe.left)/oe.scaleX,y:(Ce.clientY-oe.top)/oe.scaleY})})):(ve=(X.clientX-oe.left)/oe.scaleX,we=(X.clientY-oe.top)/oe.scaleY,this.pointerPos={x:ve,y:we},this._pointerPositions=[{x:ve,y:we,id:d.Util._getFirstPointerId(X)}],this._changedPointerPositions=[{x:ve,y:we,id:d.Util._getFirstPointerId(X)}])}_setPointerPosition(X){d.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(X)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const X=this.content.getBoundingClientRect();return{top:X.top,left:X.left,scaleX:X.width/this.content.clientWidth||1,scaleY:X.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new g.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new g.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!E.Konva.isBrowser)return;const X=this.container();if(!X)throw"Stage has no container. A container is required.";X.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),X.appendChild(this.content),this._resizeDOM()}cache(){return d.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(X){X.batchDraw()}),this}}a.Stage=pe,pe.prototype.nodeType=S,(0,y._registerNode)(pe),v.Factory.addGetterSetter(pe,"container"),E.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{a.stages.forEach(ie=>{ie.batchDraw()})})})(ih)),ih}var Xa={},sh={},Nf;function jn(){return Nf||(Nf=1,(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Shape=a.shapes=void 0;const d=Ye(),v=Wt(),f=$e(),E=Qt(),g=tt(),u=Ye(),y=Gp(),m="hasShadow",S="shadowRGBA",k="patternImage",b="linearGradient",j="radialGradient";let C;function N(){return C||(C=v.Util.createCanvasElement().getContext("2d"),C)}a.shapes={};function P(R){const F=this.attrs.fillRule;F?R.fill(F):R.fill()}function I(R){R.stroke()}function G(R){const F=this.attrs.fillRule;F?R.fill(F):R.fill()}function _(R){R.stroke()}function h(){this._clearCache(m)}function T(){this._clearCache(S)}function A(){this._clearCache(k)}function O(){this._clearCache(b)}function W(){this._clearCache(j)}class z extends E.Node{constructor(F){super(F);let K;for(;K=v.Util.getRandomColor(),!(K&&!(K in a.shapes)););this.colorKey=K,a.shapes[K]=this}getContext(){return v.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return v.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(m,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(k,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const K=N().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(K&&K.setTransform){const Z=new v.Transform;Z.translate(this.fillPatternX(),this.fillPatternY()),Z.rotate(d.Konva.getAngle(this.fillPatternRotation())),Z.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),Z.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const Y=Z.getMatrix(),$=typeof DOMMatrix>"u"?{a:Y[0],b:Y[1],c:Y[2],d:Y[3],e:Y[4],f:Y[5]}:new DOMMatrix(Y);K.setTransform($)}return K}}_getLinearGradient(){return this._getCache(b,this.__getLinearGradient)}__getLinearGradient(){const F=this.fillLinearGradientColorStops();if(F){const K=N(),Z=this.fillLinearGradientStartPoint(),Y=this.fillLinearGradientEndPoint(),$=K.createLinearGradient(Z.x,Z.y,Y.x,Y.y);for(let Q=0;Q<F.length;Q+=2)$.addColorStop(F[Q],F[Q+1]);return $}}_getRadialGradient(){return this._getCache(j,this.__getRadialGradient)}__getRadialGradient(){const F=this.fillRadialGradientColorStops();if(F){const K=N(),Z=this.fillRadialGradientStartPoint(),Y=this.fillRadialGradientEndPoint(),$=K.createRadialGradient(Z.x,Z.y,this.fillRadialGradientStartRadius(),Y.x,Y.y,this.fillRadialGradientEndRadius());for(let Q=0;Q<F.length;Q+=2)$.addColorStop(F[Q],F[Q+1]);return $}}getShadowRGBA(){return this._getCache(S,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const F=v.Util.colorToRGBA(this.shadowColor());if(F)return"rgba("+F.r+","+F.g+","+F.b+","+F.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const F=this.hitStrokeWidth();return F==="auto"?this.hasStroke():this.strokeEnabled()&&!!F}intersects(F){const K=this.getStage();if(!K)return!1;const Z=K.bufferHitCanvas;return Z.getContext().clear(),this.drawHit(Z,void 0,!0),Z.context.getImageData(Math.round(F.x),Math.round(F.y),1,1).data[3]>0}destroy(){return E.Node.prototype.destroy.call(this),delete a.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(F){var K;if(!((K=this.attrs.perfectDrawEnabled)!==null&&K!==void 0?K:!0))return!1;const Y=F||this.hasFill(),$=this.hasStroke(),Q=this.getAbsoluteOpacity()!==1;if(Y&&$&&Q)return!0;const re=this.hasShadow(),L=this.shadowForStrokeEnabled();return!!(Y&&$&&re&&L)}setStrokeHitEnabled(F){v.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),F?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const F=this.size();return{x:this._centroid?-F.width/2:0,y:this._centroid?-F.height/2:0,width:F.width,height:F.height}}getClientRect(F={}){let K=!1,Z=this.getParent();for(;Z;){if(Z.isCached()){K=!0;break}Z=Z.getParent()}const Y=F.skipTransform,$=F.relativeTo||K&&this.getStage()||void 0,Q=this.getSelfRect(),L=!F.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,U=Q.width+L,V=Q.height+L,H=!F.skipShadow&&this.hasShadow(),D=H?this.shadowOffsetX():0,J=H?this.shadowOffsetY():0,te=U+Math.abs(D),ce=V+Math.abs(J),pe=H&&this.shadowBlur()||0,ie=te+pe*2,X=ce+pe*2,oe={width:ie,height:X,x:-(L/2+pe)+Math.min(D,0)+Q.x,y:-(L/2+pe)+Math.min(J,0)+Q.y};return Y?oe:this._transformedRect(oe,$)}drawScene(F,K,Z){const Y=this.getLayer(),$=F||Y.getCanvas(),Q=$.getContext(),re=this._getCanvasCache(),L=this.getSceneFunc(),U=this.hasShadow();let V;const H=K===this;if(!this.isVisible()&&!H)return this;if(re){Q.save();const D=this.getAbsoluteTransform(K).getMatrix();return Q.transform(D[0],D[1],D[2],D[3],D[4],D[5]),this._drawCachedSceneCanvas(Q),Q.restore(),this}if(!L)return this;if(Q.save(),this._useBufferCanvas()){V=this.getStage();const D=Z||V.bufferCanvas,J=D.getContext();J.clear(),J.save(),J._applyLineJoin(this);const te=this.getAbsoluteTransform(K).getMatrix();J.transform(te[0],te[1],te[2],te[3],te[4],te[5]),L.call(this,J,this),J.restore();const ce=D.pixelRatio;U&&Q._applyShadow(this),Q._applyOpacity(this),Q._applyGlobalCompositeOperation(this),Q.drawImage(D._canvas,D.x||0,D.y||0,D.width/ce,D.height/ce)}else{if(Q._applyLineJoin(this),!H){const D=this.getAbsoluteTransform(K).getMatrix();Q.transform(D[0],D[1],D[2],D[3],D[4],D[5]),Q._applyOpacity(this),Q._applyGlobalCompositeOperation(this)}U&&Q._applyShadow(this),L.call(this,Q,this)}return Q.restore(),this}drawHit(F,K,Z=!1){if(!this.shouldDrawHit(K,Z))return this;const Y=this.getLayer(),$=F||Y.hitCanvas,Q=$&&$.getContext(),re=this.hitFunc()||this.sceneFunc(),L=this._getCanvasCache(),U=L&&L.hit;if(this.colorKey||v.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),U){Q.save();const H=this.getAbsoluteTransform(K).getMatrix();return Q.transform(H[0],H[1],H[2],H[3],H[4],H[5]),this._drawCachedHitCanvas(Q),Q.restore(),this}if(!re)return this;if(Q.save(),Q._applyLineJoin(this),!(this===K)){const H=this.getAbsoluteTransform(K).getMatrix();Q.transform(H[0],H[1],H[2],H[3],H[4],H[5])}return re.call(this,Q,this),Q.restore(),this}drawHitFromCache(F=0){const K=this._getCanvasCache(),Z=this._getCachedSceneCanvas(),Y=K.hit,$=Y.getContext(),Q=Y.getWidth(),re=Y.getHeight();$.clear(),$.drawImage(Z._canvas,0,0,Q,re);try{const L=$.getImageData(0,0,Q,re),U=L.data,V=U.length,H=v.Util._hexToRgb(this.colorKey);for(let D=0;D<V;D+=4)U[D+3]>F?(U[D]=H.r,U[D+1]=H.g,U[D+2]=H.b,U[D+3]=255):U[D+3]=0;$.putImageData(L,0,0)}catch(L){v.Util.error("Unable to draw hit graph from cached scene canvas. "+L.message)}return this}hasPointerCapture(F){return y.hasPointerCapture(F,this)}setPointerCapture(F){y.setPointerCapture(F,this)}releaseCapture(F){y.releaseCapture(F,this)}}a.Shape=z,z.prototype._fillFunc=P,z.prototype._strokeFunc=I,z.prototype._fillFuncHit=G,z.prototype._strokeFuncHit=_,z.prototype._centroid=!1,z.prototype.nodeType="Shape",(0,u._registerNode)(z),z.prototype.eventListeners={},z.prototype.on.call(z.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",h),z.prototype.on.call(z.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",T),z.prototype.on.call(z.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",A),z.prototype.on.call(z.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",O),z.prototype.on.call(z.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",W),f.Factory.addGetterSetter(z,"stroke",void 0,(0,g.getStringOrGradientValidator)()),f.Factory.addGetterSetter(z,"strokeWidth",2,(0,g.getNumberValidator)()),f.Factory.addGetterSetter(z,"fillAfterStrokeEnabled",!1),f.Factory.addGetterSetter(z,"hitStrokeWidth","auto",(0,g.getNumberOrAutoValidator)()),f.Factory.addGetterSetter(z,"strokeHitEnabled",!0,(0,g.getBooleanValidator)()),f.Factory.addGetterSetter(z,"perfectDrawEnabled",!0,(0,g.getBooleanValidator)()),f.Factory.addGetterSetter(z,"shadowForStrokeEnabled",!0,(0,g.getBooleanValidator)()),f.Factory.addGetterSetter(z,"lineJoin"),f.Factory.addGetterSetter(z,"lineCap"),f.Factory.addGetterSetter(z,"sceneFunc"),f.Factory.addGetterSetter(z,"hitFunc"),f.Factory.addGetterSetter(z,"dash"),f.Factory.addGetterSetter(z,"dashOffset",0,(0,g.getNumberValidator)()),f.Factory.addGetterSetter(z,"shadowColor",void 0,(0,g.getStringValidator)()),f.Factory.addGetterSetter(z,"shadowBlur",0,(0,g.getNumberValidator)()),f.Factory.addGetterSetter(z,"shadowOpacity",1,(0,g.getNumberValidator)()),f.Factory.addComponentsGetterSetter(z,"shadowOffset",["x","y"]),f.Factory.addGetterSetter(z,"shadowOffsetX",0,(0,g.getNumberValidator)()),f.Factory.addGetterSetter(z,"shadowOffsetY",0,(0,g.getNumberValidator)()),f.Factory.addGetterSetter(z,"fillPatternImage"),f.Factory.addGetterSetter(z,"fill",void 0,(0,g.getStringOrGradientValidator)()),f.Factory.addGetterSetter(z,"fillPatternX",0,(0,g.getNumberValidator)()),f.Factory.addGetterSetter(z,"fillPatternY",0,(0,g.getNumberValidator)()),f.Factory.addGetterSetter(z,"fillLinearGradientColorStops"),f.Factory.addGetterSetter(z,"strokeLinearGradientColorStops"),f.Factory.addGetterSetter(z,"fillRadialGradientStartRadius",0),f.Factory.addGetterSetter(z,"fillRadialGradientEndRadius",0),f.Factory.addGetterSetter(z,"fillRadialGradientColorStops"),f.Factory.addGetterSetter(z,"fillPatternRepeat","repeat"),f.Factory.addGetterSetter(z,"fillEnabled",!0),f.Factory.addGetterSetter(z,"strokeEnabled",!0),f.Factory.addGetterSetter(z,"shadowEnabled",!0),f.Factory.addGetterSetter(z,"dashEnabled",!0),f.Factory.addGetterSetter(z,"strokeScaleEnabled",!0),f.Factory.addGetterSetter(z,"fillPriority","color"),f.Factory.addComponentsGetterSetter(z,"fillPatternOffset",["x","y"]),f.Factory.addGetterSetter(z,"fillPatternOffsetX",0,(0,g.getNumberValidator)()),f.Factory.addGetterSetter(z,"fillPatternOffsetY",0,(0,g.getNumberValidator)()),f.Factory.addComponentsGetterSetter(z,"fillPatternScale",["x","y"]),f.Factory.addGetterSetter(z,"fillPatternScaleX",1,(0,g.getNumberValidator)()),f.Factory.addGetterSetter(z,"fillPatternScaleY",1,(0,g.getNumberValidator)()),f.Factory.addComponentsGetterSetter(z,"fillLinearGradientStartPoint",["x","y"]),f.Factory.addComponentsGetterSetter(z,"strokeLinearGradientStartPoint",["x","y"]),f.Factory.addGetterSetter(z,"fillLinearGradientStartPointX",0),f.Factory.addGetterSetter(z,"strokeLinearGradientStartPointX",0),f.Factory.addGetterSetter(z,"fillLinearGradientStartPointY",0),f.Factory.addGetterSetter(z,"strokeLinearGradientStartPointY",0),f.Factory.addComponentsGetterSetter(z,"fillLinearGradientEndPoint",["x","y"]),f.Factory.addComponentsGetterSetter(z,"strokeLinearGradientEndPoint",["x","y"]),f.Factory.addGetterSetter(z,"fillLinearGradientEndPointX",0),f.Factory.addGetterSetter(z,"strokeLinearGradientEndPointX",0),f.Factory.addGetterSetter(z,"fillLinearGradientEndPointY",0),f.Factory.addGetterSetter(z,"strokeLinearGradientEndPointY",0),f.Factory.addComponentsGetterSetter(z,"fillRadialGradientStartPoint",["x","y"]),f.Factory.addGetterSetter(z,"fillRadialGradientStartPointX",0),f.Factory.addGetterSetter(z,"fillRadialGradientStartPointY",0),f.Factory.addComponentsGetterSetter(z,"fillRadialGradientEndPoint",["x","y"]),f.Factory.addGetterSetter(z,"fillRadialGradientEndPointX",0),f.Factory.addGetterSetter(z,"fillRadialGradientEndPointY",0),f.Factory.addGetterSetter(z,"fillPatternRotation",0),f.Factory.addGetterSetter(z,"fillRule",void 0,(0,g.getStringValidator)()),f.Factory.backCompat(z,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(sh)),sh}var Ef;function Wp(){if(Ef)return Xa;Ef=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.Layer=void 0;const a=Wt(),d=rd(),v=Qt(),f=$e(),E=nd(),g=tt(),u=jn(),y=Ye(),m="#",S="beforeDraw",k="draw",b=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],j=b.length;class C extends d.Container{constructor(P){super(P),this.canvas=new E.SceneCanvas,this.hitCanvas=new E.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(P){return this.getContext().clear(P),this.getHitCanvas().getContext().clear(P),this}setZIndex(P){super.setZIndex(P);const I=this.getStage();return I&&I.content&&(I.content.removeChild(this.getNativeCanvasElement()),P<I.children.length-1?I.content.insertBefore(this.getNativeCanvasElement(),I.children[P+1].getCanvas()._canvas):I.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){v.Node.prototype.moveToTop.call(this);const P=this.getStage();return P&&P.content&&(P.content.removeChild(this.getNativeCanvasElement()),P.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!v.Node.prototype.moveUp.call(this))return!1;const I=this.getStage();return!I||!I.content?!1:(I.content.removeChild(this.getNativeCanvasElement()),this.index<I.children.length-1?I.content.insertBefore(this.getNativeCanvasElement(),I.children[this.index+1].getCanvas()._canvas):I.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(v.Node.prototype.moveDown.call(this)){const P=this.getStage();if(P){const I=P.children;P.content&&(P.content.removeChild(this.getNativeCanvasElement()),P.content.insertBefore(this.getNativeCanvasElement(),I[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(v.Node.prototype.moveToBottom.call(this)){const P=this.getStage();if(P){const I=P.children;P.content&&(P.content.removeChild(this.getNativeCanvasElement()),P.content.insertBefore(this.getNativeCanvasElement(),I[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const P=this.getNativeCanvasElement();return v.Node.prototype.remove.call(this),P&&P.parentNode&&a.Util._isInDocument(P)&&P.parentNode.removeChild(P),this}getStage(){return this.parent}setSize({width:P,height:I}){return this.canvas.setSize(P,I),this.hitCanvas.setSize(P,I),this._setSmoothEnabled(),this}_validateAdd(P){const I=P.getType();I!=="Group"&&I!=="Shape"&&a.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(P){return P=P||{},P.width=P.width||this.getWidth(),P.height=P.height||this.getHeight(),P.x=P.x!==void 0?P.x:this.x(),P.y=P.y!==void 0?P.y:this.y(),v.Node.prototype._toKonvaCanvas.call(this,P)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){a.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){a.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,a.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(P){if(!this.isListening()||!this.isVisible())return null;let I=1,G=!1;for(;;){for(let _=0;_<j;_++){const h=b[_],T=this._getIntersection({x:P.x+h.x*I,y:P.y+h.y*I}),A=T.shape;if(A)return A;if(G=!!T.antialiased,!T.antialiased)break}if(G)I+=1;else return null}}_getIntersection(P){const I=this.hitCanvas.pixelRatio,G=this.hitCanvas.context.getImageData(Math.round(P.x*I),Math.round(P.y*I),1,1).data,_=G[3];if(_===255){const h=a.Util._rgbToHex(G[0],G[1],G[2]),T=u.shapes[m+h];return T?{shape:T}:{antialiased:!0}}else if(_>0)return{antialiased:!0};return{}}drawScene(P,I,G){const _=this.getLayer(),h=P||_&&_.getCanvas();return this._fire(S,{node:this}),this.clearBeforeDraw()&&h.getContext().clear(),d.Container.prototype.drawScene.call(this,h,I,G),this._fire(k,{node:this}),this}drawHit(P,I){const G=this.getLayer(),_=P||G&&G.hitCanvas;return G&&G.clearBeforeDraw()&&G.getHitCanvas().getContext().clear(),d.Container.prototype.drawHit.call(this,_,I),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(P){a.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(P)}getHitGraphEnabled(P){return a.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const P=this.parent;!!this.hitCanvas._canvas.parentNode?P.content.removeChild(this.hitCanvas._canvas):P.content.appendChild(this.hitCanvas._canvas)}destroy(){return a.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return Xa.Layer=C,C.prototype.nodeType="Layer",(0,y._registerNode)(C),f.Factory.addGetterSetter(C,"imageSmoothingEnabled",!0),f.Factory.addGetterSetter(C,"clearBeforeDraw",!0),f.Factory.addGetterSetter(C,"hitGraphEnabled",!0,(0,g.getBooleanValidator)()),Xa}var Qa={},Pf;function z1(){if(Pf)return Qa;Pf=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.FastLayer=void 0;const a=Wt(),d=Wp(),v=Ye();let f=class extends d.Layer{constructor(g){super(g),this.listening(!1),a.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Qa.FastLayer=f,f.prototype.nodeType="FastLayer",(0,v._registerNode)(f),Qa}var Ja={},Tf;function vh(){if(Tf)return Ja;Tf=1,Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.Group=void 0;const a=Wt(),d=rd(),v=Ye();class f extends d.Container{_validateAdd(g){const u=g.getType();u!=="Group"&&u!=="Shape"&&a.Util.throw("You may only add groups and shapes to groups.")}}return Ja.Group=f,f.prototype.nodeType="Group",(0,v._registerNode)(f),Ja}var Za={},Rf;function yh(){if(Rf)return Za;Rf=1,Object.defineProperty(Za,"__esModule",{value:!0}),Za.Animation=void 0;const a=Ye(),d=Wt(),v=(function(){return a.glob.performance&&a.glob.performance.now?function(){return a.glob.performance.now()}:function(){return new Date().getTime()}})();let f=class Bl{constructor(g,u){this.id=Bl.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:v(),frameRate:0},this.func=g,this.setLayers(u)}setLayers(g){let u=[];return g&&(u=Array.isArray(g)?g:[g]),this.layers=u,this}getLayers(){return this.layers}addLayer(g){const u=this.layers,y=u.length;for(let m=0;m<y;m++)if(u[m]._id===g._id)return!1;return this.layers.push(g),!0}isRunning(){const u=Bl.animations,y=u.length;for(let m=0;m<y;m++)if(u[m].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=v(),Bl._addAnimation(this),this}stop(){return Bl._removeAnimation(this),this}_updateFrameObject(g){this.frame.timeDiff=g-this.frame.lastTime,this.frame.lastTime=g,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(g){this.animations.push(g),this._handleAnimation()}static _removeAnimation(g){const u=g.id,y=this.animations,m=y.length;for(let S=0;S<m;S++)if(y[S].id===u){this.animations.splice(S,1);break}}static _runFrames(){const g={},u=this.animations;for(let y=0;y<u.length;y++){const m=u[y],S=m.layers,k=m.func;m._updateFrameObject(v());const b=S.length;let j;if(k?j=k.call(m,m.frame)!==!1:j=!0,!!j)for(let C=0;C<b;C++){const N=S[C];N._id!==void 0&&(g[N._id]=N)}}for(const y in g)g.hasOwnProperty(y)&&g[y].batchDraw()}static _animationLoop(){const g=Bl;g.animations.length?(g._runFrames(),d.Util.requestAnimFrame(g._animationLoop)):g.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,d.Util.requestAnimFrame(this._animationLoop))}};return Za.Animation=f,f.animations=[],f.animIdCounter=0,f.animRunning=!1,Za}var oh={},Mf;function A1(){return Mf||(Mf=1,(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Easings=a.Tween=void 0;const d=Wt(),v=yh(),f=Qt(),E=Ye(),g={node:1,duration:1,easing:1,onFinish:1,yoyo:1},u=1,y=2,m=3,S=["fill","stroke","shadowColor"];let k=0;class b{constructor(N,P,I,G,_,h,T){this.prop=N,this.propFunc=P,this.begin=G,this._pos=G,this.duration=h,this._change=0,this.prevPos=0,this.yoyo=T,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=I,this._change=_-this.begin,this.pause()}fire(N){const P=this[N];P&&P()}setTime(N){N>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():N<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=N,this.update())}getTime(){return this._time}setPosition(N){this.prevPos=this._pos,this.propFunc(N),this._pos=N}getPosition(N){return N===void 0&&(N=this._time),this.func(N,this.begin,this._change,this.duration)}play(){this.state=y,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=m,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(N){this.pause(),this._time=N,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const N=this.getTimer()-this._startTime;this.state===y?this.setTime(N):this.state===m&&this.setTime(this.duration-N)}pause(){this.state=u,this.fire("onPause")}getTimer(){return new Date().getTime()}}class j{constructor(N){const P=this,I=N.node,G=I._id,_=N.easing||a.Easings.Linear,h=!!N.yoyo;let T,A;typeof N.duration>"u"?T=.3:N.duration===0?T=.001:T=N.duration,this.node=I,this._id=k++;const O=I.getLayer()||(I instanceof E.Konva.Stage?I.getLayers():null);O||d.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new v.Animation(function(){P.tween.onEnterFrame()},O),this.tween=new b(A,function(W){P._tweenFunc(W)},_,0,1,T*1e3,h),this._addListeners(),j.attrs[G]||(j.attrs[G]={}),j.attrs[G][this._id]||(j.attrs[G][this._id]={}),j.tweens[G]||(j.tweens[G]={});for(A in N)g[A]===void 0&&this._addAttr(A,N[A]);this.reset(),this.onFinish=N.onFinish,this.onReset=N.onReset,this.onUpdate=N.onUpdate}_addAttr(N,P){const I=this.node,G=I._id;let _,h,T,A,O;const W=j.tweens[G][N];W&&delete j.attrs[G][W][N];let z=I.getAttr(N);if(d.Util._isArray(P))if(_=[],h=Math.max(P.length,z.length),N==="points"&&P.length!==z.length&&(P.length>z.length?(A=z,z=d.Util._prepareArrayForTween(z,P,I.closed())):(T=P,P=d.Util._prepareArrayForTween(P,z,I.closed()))),N.indexOf("fill")===0)for(let R=0;R<h;R++)if(R%2===0)_.push(P[R]-z[R]);else{const F=d.Util.colorToRGBA(z[R]);O=d.Util.colorToRGBA(P[R]),z[R]=F,_.push({r:O.r-F.r,g:O.g-F.g,b:O.b-F.b,a:O.a-F.a})}else for(let R=0;R<h;R++)_.push(P[R]-z[R]);else S.indexOf(N)!==-1?(z=d.Util.colorToRGBA(z),O=d.Util.colorToRGBA(P),_={r:O.r-z.r,g:O.g-z.g,b:O.b-z.b,a:O.a-z.a}):_=P-z;j.attrs[G][this._id][N]={start:z,diff:_,end:P,trueEnd:T,trueStart:A},j.tweens[G][N]=this._id}_tweenFunc(N){const P=this.node,I=j.attrs[P._id][this._id];let G,_,h,T,A,O,W,z;for(G in I){if(_=I[G],h=_.start,T=_.diff,z=_.end,d.Util._isArray(h))if(A=[],W=Math.max(h.length,z.length),G.indexOf("fill")===0)for(O=0;O<W;O++)O%2===0?A.push((h[O]||0)+T[O]*N):A.push("rgba("+Math.round(h[O].r+T[O].r*N)+","+Math.round(h[O].g+T[O].g*N)+","+Math.round(h[O].b+T[O].b*N)+","+(h[O].a+T[O].a*N)+")");else for(O=0;O<W;O++)A.push((h[O]||0)+T[O]*N);else S.indexOf(G)!==-1?A="rgba("+Math.round(h.r+T.r*N)+","+Math.round(h.g+T.g*N)+","+Math.round(h.b+T.b*N)+","+(h.a+T.a*N)+")":A=h+T*N;P.setAttr(G,A)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const N=this.node,P=j.attrs[N._id][this._id];P.points&&P.points.trueEnd&&N.setAttr("points",P.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const N=this.node,P=j.attrs[N._id][this._id];P.points&&P.points.trueStart&&N.points(P.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(N){return this.tween.seek(N*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const N=this.node._id,P=this._id,I=j.tweens[N];this.pause(),this.anim&&this.anim.stop();for(const G in I)delete j.tweens[N][G];delete j.attrs[N][P],j.tweens[N]&&(Object.keys(j.tweens[N]).length===0&&delete j.tweens[N],Object.keys(j.attrs[N]).length===0&&delete j.attrs[N])}}a.Tween=j,j.attrs={},j.tweens={},f.Node.prototype.to=function(C){const N=C.onFinish;C.node=this,C.onFinish=function(){this.destroy(),N&&N()},new j(C).play()},a.Easings={BackEaseIn(C,N,P,I){return P*(C/=I)*C*((1.70158+1)*C-1.70158)+N},BackEaseOut(C,N,P,I){return P*((C=C/I-1)*C*((1.70158+1)*C+1.70158)+1)+N},BackEaseInOut(C,N,P,I){let G=1.70158;return(C/=I/2)<1?P/2*(C*C*(((G*=1.525)+1)*C-G))+N:P/2*((C-=2)*C*(((G*=1.525)+1)*C+G)+2)+N},ElasticEaseIn(C,N,P,I,G,_){let h=0;return C===0?N:(C/=I)===1?N+P:(_||(_=I*.3),!G||G<Math.abs(P)?(G=P,h=_/4):h=_/(2*Math.PI)*Math.asin(P/G),-(G*Math.pow(2,10*(C-=1))*Math.sin((C*I-h)*(2*Math.PI)/_))+N)},ElasticEaseOut(C,N,P,I,G,_){let h=0;return C===0?N:(C/=I)===1?N+P:(_||(_=I*.3),!G||G<Math.abs(P)?(G=P,h=_/4):h=_/(2*Math.PI)*Math.asin(P/G),G*Math.pow(2,-10*C)*Math.sin((C*I-h)*(2*Math.PI)/_)+P+N)},ElasticEaseInOut(C,N,P,I,G,_){let h=0;return C===0?N:(C/=I/2)===2?N+P:(_||(_=I*(.3*1.5)),!G||G<Math.abs(P)?(G=P,h=_/4):h=_/(2*Math.PI)*Math.asin(P/G),C<1?-.5*(G*Math.pow(2,10*(C-=1))*Math.sin((C*I-h)*(2*Math.PI)/_))+N:G*Math.pow(2,-10*(C-=1))*Math.sin((C*I-h)*(2*Math.PI)/_)*.5+P+N)},BounceEaseOut(C,N,P,I){return(C/=I)<1/2.75?P*(7.5625*C*C)+N:C<2/2.75?P*(7.5625*(C-=1.5/2.75)*C+.75)+N:C<2.5/2.75?P*(7.5625*(C-=2.25/2.75)*C+.9375)+N:P*(7.5625*(C-=2.625/2.75)*C+.984375)+N},BounceEaseIn(C,N,P,I){return P-a.Easings.BounceEaseOut(I-C,0,P,I)+N},BounceEaseInOut(C,N,P,I){return C<I/2?a.Easings.BounceEaseIn(C*2,0,P,I)*.5+N:a.Easings.BounceEaseOut(C*2-I,0,P,I)*.5+P*.5+N},EaseIn(C,N,P,I){return P*(C/=I)*C+N},EaseOut(C,N,P,I){return-P*(C/=I)*(C-2)+N},EaseInOut(C,N,P,I){return(C/=I/2)<1?P/2*C*C+N:-P/2*(--C*(C-2)-1)+N},StrongEaseIn(C,N,P,I){return P*(C/=I)*C*C*C*C+N},StrongEaseOut(C,N,P,I){return P*((C=C/I-1)*C*C*C*C+1)+N},StrongEaseInOut(C,N,P,I){return(C/=I/2)<1?P/2*C*C*C*C*C+N:P/2*((C-=2)*C*C*C*C+2)+N},Linear(C,N,P,I){return P*C/I+N}}})(oh)),oh}var bf;function ph(){return bf||(bf=1,(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Konva=void 0;const d=Ye(),v=Wt(),f=Qt(),E=rd(),g=F1(),u=Wp(),y=z1(),m=vh(),S=mh(),k=jn(),b=yh(),j=A1(),C=Up(),N=nd();a.Konva=v.Util._assign(d.Konva,{Util:v.Util,Transform:v.Transform,Node:f.Node,Container:E.Container,Stage:g.Stage,stages:g.stages,Layer:u.Layer,FastLayer:y.FastLayer,Group:m.Group,DD:S.DD,Shape:k.Shape,shapes:k.shapes,Animation:b.Animation,Tween:j.Tween,Easings:j.Easings,Context:C.Context,Canvas:N.Canvas}),a.default=a.Konva})($d)),$d}var $a={},If;function D1(){if(If)return $a;If=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.Arc=void 0;const a=$e(),d=jn(),v=Ye(),f=tt(),E=Ye();let g=class extends d.Shape{_sceneFunc(y){const m=v.Konva.getAngle(this.angle()),S=this.clockwise();y.beginPath(),y.arc(0,0,this.outerRadius(),0,m,S),y.arc(0,0,this.innerRadius(),m,0,!S),y.closePath(),y.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(y){this.outerRadius(y/2)}setHeight(y){this.outerRadius(y/2)}getSelfRect(){const y=this.innerRadius(),m=this.outerRadius(),S=this.clockwise(),k=v.Konva.getAngle(S?360-this.angle():this.angle()),b=Math.cos(Math.min(k,Math.PI)),j=1,C=Math.sin(Math.min(Math.max(Math.PI,k),3*Math.PI/2)),N=Math.sin(Math.min(k,Math.PI/2)),P=b*(b>0?y:m),I=j*m,G=C*(C>0?y:m),_=N*(N>0?m:y);return{x:P,y:S?-1*_:G,width:I-P,height:_-G}}};return $a.Arc=g,g.prototype._centroid=!0,g.prototype.className="Arc",g.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,E._registerNode)(g),a.Factory.addGetterSetter(g,"innerRadius",0,(0,f.getNumberValidator)()),a.Factory.addGetterSetter(g,"outerRadius",0,(0,f.getNumberValidator)()),a.Factory.addGetterSetter(g,"angle",0,(0,f.getNumberValidator)()),a.Factory.addGetterSetter(g,"clockwise",!1,(0,f.getBooleanValidator)()),$a}var eu={},tu={},Lf;function Bp(){if(Lf)return tu;Lf=1,Object.defineProperty(tu,"__esModule",{value:!0}),tu.Line=void 0;const a=$e(),d=Ye(),v=jn(),f=tt();function E(y,m,S,k,b,j,C){const N=Math.sqrt(Math.pow(S-y,2)+Math.pow(k-m,2)),P=Math.sqrt(Math.pow(b-S,2)+Math.pow(j-k,2)),I=C*N/(N+P),G=C*P/(N+P),_=S-I*(b-y),h=k-I*(j-m),T=S+G*(b-y),A=k+G*(j-m);return[_,h,T,A]}function g(y,m){const S=y.length,k=[];for(let b=2;b<S-2;b+=2){const j=E(y[b-2],y[b-1],y[b],y[b+1],y[b+2],y[b+3],m);isNaN(j[0])||(k.push(j[0]),k.push(j[1]),k.push(y[b]),k.push(y[b+1]),k.push(j[2]),k.push(j[3]))}return k}class u extends v.Shape{constructor(m){super(m),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(m){const S=this.points(),k=S.length,b=this.tension(),j=this.closed(),C=this.bezier();if(!k)return;let N=0;if(m.beginPath(),m.moveTo(S[0],S[1]),b!==0&&k>4){const P=this.getTensionPoints(),I=P.length;for(N=j?0:4,j||m.quadraticCurveTo(P[0],P[1],P[2],P[3]);N<I-2;)m.bezierCurveTo(P[N++],P[N++],P[N++],P[N++],P[N++],P[N++]);j||m.quadraticCurveTo(P[I-2],P[I-1],S[k-2],S[k-1])}else if(C)for(N=2;N<k;)m.bezierCurveTo(S[N++],S[N++],S[N++],S[N++],S[N++],S[N++]);else for(N=2;N<k;N+=2)m.lineTo(S[N],S[N+1]);j?(m.closePath(),m.fillStrokeShape(this)):m.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():g(this.points(),this.tension())}_getTensionPointsClosed(){const m=this.points(),S=m.length,k=this.tension(),b=E(m[S-2],m[S-1],m[0],m[1],m[2],m[3],k),j=E(m[S-4],m[S-3],m[S-2],m[S-1],m[0],m[1],k),C=g(m,k);return[b[2],b[3]].concat(C).concat([j[0],j[1],m[S-2],m[S-1],j[2],j[3],b[0],b[1],m[0],m[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let m=this.points();if(m.length<4)return{x:m[0]||0,y:m[1]||0,width:0,height:0};this.tension()!==0?m=[m[0],m[1],...this._getTensionPoints(),m[m.length-2],m[m.length-1]]:m=this.points();let S=m[0],k=m[0],b=m[1],j=m[1],C,N;for(let P=0;P<m.length/2;P++)C=m[P*2],N=m[P*2+1],S=Math.min(S,C),k=Math.max(k,C),b=Math.min(b,N),j=Math.max(j,N);return{x:S,y:b,width:k-S,height:j-b}}}return tu.Line=u,u.prototype.className="Line",u.prototype._attrsAffectingSize=["points","bezier","tension"],(0,d._registerNode)(u),a.Factory.addGetterSetter(u,"closed",!1),a.Factory.addGetterSetter(u,"bezier",!1),a.Factory.addGetterSetter(u,"tension",0,(0,f.getNumberValidator)()),a.Factory.addGetterSetter(u,"points",[],(0,f.getNumberArrayValidator)()),tu}var nu={},lh={},Ff;function O1(){return Ff||(Ff=1,(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.t2length=a.getQuadraticArcLength=a.getCubicArcLength=a.binomialCoefficients=a.cValues=a.tValues=void 0,a.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],a.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],a.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const d=(u,y,m)=>{let S,k;const j=m/2;S=0;for(let C=0;C<20;C++)k=j*a.tValues[20][C]+j,S+=a.cValues[20][C]*f(u,y,k);return j*S};a.getCubicArcLength=d;const v=(u,y,m)=>{m===void 0&&(m=1);const S=u[0]-2*u[1]+u[2],k=y[0]-2*y[1]+y[2],b=2*u[1]-2*u[0],j=2*y[1]-2*y[0],C=4*(S*S+k*k),N=4*(S*b+k*j),P=b*b+j*j;if(C===0)return m*Math.sqrt(Math.pow(u[2]-u[0],2)+Math.pow(y[2]-y[0],2));const I=N/(2*C),G=P/C,_=m+I,h=G-I*I,T=_*_+h>0?Math.sqrt(_*_+h):0,A=I*I+h>0?Math.sqrt(I*I+h):0,O=I+Math.sqrt(I*I+h)!==0?h*Math.log(Math.abs((_+T)/(I+A))):0;return Math.sqrt(C)/2*(_*T-I*A+O)};a.getQuadraticArcLength=v;function f(u,y,m){const S=E(1,m,u),k=E(1,m,y),b=S*S+k*k;return Math.sqrt(b)}const E=(u,y,m)=>{const S=m.length-1;let k,b;if(S===0)return 0;if(u===0){b=0;for(let j=0;j<=S;j++)b+=a.binomialCoefficients[S][j]*Math.pow(1-y,S-j)*Math.pow(y,j)*m[j];return b}else{k=new Array(S);for(let j=0;j<S;j++)k[j]=S*(m[j+1]-m[j]);return E(u-1,y,k)}},g=(u,y,m)=>{let S=1,k=u/y,b=(u-m(k))/y,j=0;for(;S>.001;){const C=m(k+b),N=Math.abs(u-C)/y;if(N<S)S=N,k+=b;else{const P=m(k-b),I=Math.abs(u-P)/y;I<S?(S=I,k-=b):b/=2}if(j++,j>500)break}return k};a.t2length=g})(lh)),lh}var zf;function xh(){if(zf)return nu;zf=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.Path=void 0;const a=$e(),d=Ye(),v=jn(),f=O1();let E=class mr extends v.Shape{constructor(u){super(u),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=mr.parsePathData(this.data()),this.pathLength=mr.getPathLength(this.dataArray)}_sceneFunc(u){const y=this.dataArray;u.beginPath();let m=!1;for(let S=0;S<y.length;S++){const k=y[S].command,b=y[S].points;switch(k){case"L":u.lineTo(b[0],b[1]);break;case"M":u.moveTo(b[0],b[1]);break;case"C":u.bezierCurveTo(b[0],b[1],b[2],b[3],b[4],b[5]);break;case"Q":u.quadraticCurveTo(b[0],b[1],b[2],b[3]);break;case"A":const j=b[0],C=b[1],N=b[2],P=b[3],I=b[4],G=b[5],_=b[6],h=b[7],T=N>P?N:P,A=N>P?1:N/P,O=N>P?P/N:1;u.translate(j,C),u.rotate(_),u.scale(A,O),u.arc(0,0,T,I,I+G,1-h),u.scale(1/A,1/O),u.rotate(-_),u.translate(-j,-C);break;case"z":m=!0,u.closePath();break}}!m&&!this.hasFill()?u.strokeShape(this):u.fillStrokeShape(this)}getSelfRect(){let u=[];this.dataArray.forEach(function(C){if(C.command==="A"){const N=C.points[4],P=C.points[5],I=C.points[4]+P;let G=Math.PI/180;if(Math.abs(N-I)<G&&(G=Math.abs(N-I)),P<0)for(let _=N-G;_>I;_-=G){const h=mr.getPointOnEllipticalArc(C.points[0],C.points[1],C.points[2],C.points[3],_,0);u.push(h.x,h.y)}else for(let _=N+G;_<I;_+=G){const h=mr.getPointOnEllipticalArc(C.points[0],C.points[1],C.points[2],C.points[3],_,0);u.push(h.x,h.y)}}else if(C.command==="C")for(let N=0;N<=1;N+=.01){const P=mr.getPointOnCubicBezier(N,C.start.x,C.start.y,C.points[0],C.points[1],C.points[2],C.points[3],C.points[4],C.points[5]);u.push(P.x,P.y)}else u=u.concat(C.points)});let y=u[0],m=u[0],S=u[1],k=u[1],b,j;for(let C=0;C<u.length/2;C++)b=u[C*2],j=u[C*2+1],isNaN(b)||(y=Math.min(y,b),m=Math.max(m,b)),isNaN(j)||(S=Math.min(S,j),k=Math.max(k,j));return{x:y,y:S,width:m-y,height:k-S}}getLength(){return this.pathLength}getPointAtLength(u){return mr.getPointAtLengthOfDataArray(u,this.dataArray)}static getLineLength(u,y,m,S){return Math.sqrt((m-u)*(m-u)+(S-y)*(S-y))}static getPathLength(u){let y=0;for(let m=0;m<u.length;++m)y+=u[m].pathLength;return y}static getPointAtLengthOfDataArray(u,y){let m,S=0,k=y.length;if(!k)return null;for(;S<k&&u>y[S].pathLength;)u-=y[S].pathLength,++S;if(S===k)return m=y[S-1].points.slice(-2),{x:m[0],y:m[1]};if(u<.01)return y[S].command==="M"?(m=y[S].points.slice(0,2),{x:m[0],y:m[1]}):{x:y[S].start.x,y:y[S].start.y};const b=y[S],j=b.points;switch(b.command){case"L":return mr.getPointOnLine(u,b.start.x,b.start.y,j[0],j[1]);case"C":return mr.getPointOnCubicBezier((0,f.t2length)(u,mr.getPathLength(y),T=>(0,f.getCubicArcLength)([b.start.x,j[0],j[2],j[4]],[b.start.y,j[1],j[3],j[5]],T)),b.start.x,b.start.y,j[0],j[1],j[2],j[3],j[4],j[5]);case"Q":return mr.getPointOnQuadraticBezier((0,f.t2length)(u,mr.getPathLength(y),T=>(0,f.getQuadraticArcLength)([b.start.x,j[0],j[2]],[b.start.y,j[1],j[3]],T)),b.start.x,b.start.y,j[0],j[1],j[2],j[3]);case"A":const C=j[0],N=j[1],P=j[2],I=j[3],G=j[5],_=j[6];let h=j[4];return h+=G*u/b.pathLength,mr.getPointOnEllipticalArc(C,N,P,I,h,_)}return null}static getPointOnLine(u,y,m,S,k,b,j){b=b??y,j=j??m;const C=this.getLineLength(y,m,S,k);if(C<1e-10)return{x:y,y:m};if(S===y)return{x:b,y:j+(k>m?u:-u)};const N=(k-m)/(S-y),P=Math.sqrt(u*u/(1+N*N))*(S<y?-1:1),I=N*P;if(Math.abs(j-m-N*(b-y))<1e-10)return{x:b+P,y:j+I};const G=((b-y)*(S-y)+(j-m)*(k-m))/(C*C),_=y+G*(S-y),h=m+G*(k-m),T=this.getLineLength(b,j,_,h),A=Math.sqrt(u*u-T*T),O=Math.sqrt(A*A/(1+N*N))*(S<y?-1:1),W=N*O;return{x:_+O,y:h+W}}static getPointOnCubicBezier(u,y,m,S,k,b,j,C,N){function P(A){return A*A*A}function I(A){return 3*A*A*(1-A)}function G(A){return 3*A*(1-A)*(1-A)}function _(A){return(1-A)*(1-A)*(1-A)}const h=C*P(u)+b*I(u)+S*G(u)+y*_(u),T=N*P(u)+j*I(u)+k*G(u)+m*_(u);return{x:h,y:T}}static getPointOnQuadraticBezier(u,y,m,S,k,b,j){function C(_){return _*_}function N(_){return 2*_*(1-_)}function P(_){return(1-_)*(1-_)}const I=b*C(u)+S*N(u)+y*P(u),G=j*C(u)+k*N(u)+m*P(u);return{x:I,y:G}}static getPointOnEllipticalArc(u,y,m,S,k,b){const j=Math.cos(b),C=Math.sin(b),N={x:m*Math.cos(k),y:S*Math.sin(k)};return{x:u+(N.x*j-N.y*C),y:y+(N.x*C+N.y*j)}}static parsePathData(u){if(!u)return[];let y=u;const m=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];y=y.replace(new RegExp(" ","g"),",");for(let I=0;I<m.length;I++)y=y.replace(new RegExp(m[I],"g"),"|"+m[I]);const S=y.split("|"),k=[],b=[];let j=0,C=0;const N=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let P;for(let I=1;I<S.length;I++){let G=S[I],_=G.charAt(0);for(G=G.slice(1),b.length=0;P=N.exec(G);)b.push(P[0]);const h=[];for(let T=0,A=b.length;T<A;T++){if(b[T]==="00"){h.push(0,0);continue}const O=parseFloat(b[T]);isNaN(O)?h.push(0):h.push(O)}for(;h.length>0&&!isNaN(h[0]);){let T="",A=[];const O=j,W=C;let z,R,F,K,Z,Y,$,Q,re,L;switch(_){case"l":j+=h.shift(),C+=h.shift(),T="L",A.push(j,C);break;case"L":j=h.shift(),C=h.shift(),A.push(j,C);break;case"m":const U=h.shift(),V=h.shift();if(j+=U,C+=V,T="M",k.length>2&&k[k.length-1].command==="z"){for(let H=k.length-2;H>=0;H--)if(k[H].command==="M"){j=k[H].points[0]+U,C=k[H].points[1]+V;break}}A.push(j,C),_="l";break;case"M":j=h.shift(),C=h.shift(),T="M",A.push(j,C),_="L";break;case"h":j+=h.shift(),T="L",A.push(j,C);break;case"H":j=h.shift(),T="L",A.push(j,C);break;case"v":C+=h.shift(),T="L",A.push(j,C);break;case"V":C=h.shift(),T="L",A.push(j,C);break;case"C":A.push(h.shift(),h.shift(),h.shift(),h.shift()),j=h.shift(),C=h.shift(),A.push(j,C);break;case"c":A.push(j+h.shift(),C+h.shift(),j+h.shift(),C+h.shift()),j+=h.shift(),C+=h.shift(),T="C",A.push(j,C);break;case"S":R=j,F=C,z=k[k.length-1],z.command==="C"&&(R=j+(j-z.points[2]),F=C+(C-z.points[3])),A.push(R,F,h.shift(),h.shift()),j=h.shift(),C=h.shift(),T="C",A.push(j,C);break;case"s":R=j,F=C,z=k[k.length-1],z.command==="C"&&(R=j+(j-z.points[2]),F=C+(C-z.points[3])),A.push(R,F,j+h.shift(),C+h.shift()),j+=h.shift(),C+=h.shift(),T="C",A.push(j,C);break;case"Q":A.push(h.shift(),h.shift()),j=h.shift(),C=h.shift(),A.push(j,C);break;case"q":A.push(j+h.shift(),C+h.shift()),j+=h.shift(),C+=h.shift(),T="Q",A.push(j,C);break;case"T":R=j,F=C,z=k[k.length-1],z.command==="Q"&&(R=j+(j-z.points[0]),F=C+(C-z.points[1])),j=h.shift(),C=h.shift(),T="Q",A.push(R,F,j,C);break;case"t":R=j,F=C,z=k[k.length-1],z.command==="Q"&&(R=j+(j-z.points[0]),F=C+(C-z.points[1])),j+=h.shift(),C+=h.shift(),T="Q",A.push(R,F,j,C);break;case"A":K=h.shift(),Z=h.shift(),Y=h.shift(),$=h.shift(),Q=h.shift(),re=j,L=C,j=h.shift(),C=h.shift(),T="A",A=this.convertEndpointToCenterParameterization(re,L,j,C,$,Q,K,Z,Y);break;case"a":K=h.shift(),Z=h.shift(),Y=h.shift(),$=h.shift(),Q=h.shift(),re=j,L=C,j+=h.shift(),C+=h.shift(),T="A",A=this.convertEndpointToCenterParameterization(re,L,j,C,$,Q,K,Z,Y);break}k.push({command:T||_,points:A,start:{x:O,y:W},pathLength:this.calcLength(O,W,T||_,A)})}(_==="z"||_==="Z")&&k.push({command:"z",points:[],start:void 0,pathLength:0})}return k}static calcLength(u,y,m,S){let k,b,j,C;const N=mr;switch(m){case"L":return N.getLineLength(u,y,S[0],S[1]);case"C":return(0,f.getCubicArcLength)([u,S[0],S[2],S[4]],[y,S[1],S[3],S[5]],1);case"Q":return(0,f.getQuadraticArcLength)([u,S[0],S[2]],[y,S[1],S[3]],1);case"A":k=0;const P=S[4],I=S[5],G=S[4]+I;let _=Math.PI/180;if(Math.abs(P-G)<_&&(_=Math.abs(P-G)),b=N.getPointOnEllipticalArc(S[0],S[1],S[2],S[3],P,0),I<0)for(C=P-_;C>G;C-=_)j=N.getPointOnEllipticalArc(S[0],S[1],S[2],S[3],C,0),k+=N.getLineLength(b.x,b.y,j.x,j.y),b=j;else for(C=P+_;C<G;C+=_)j=N.getPointOnEllipticalArc(S[0],S[1],S[2],S[3],C,0),k+=N.getLineLength(b.x,b.y,j.x,j.y),b=j;return j=N.getPointOnEllipticalArc(S[0],S[1],S[2],S[3],G,0),k+=N.getLineLength(b.x,b.y,j.x,j.y),k}return 0}static convertEndpointToCenterParameterization(u,y,m,S,k,b,j,C,N){const P=N*(Math.PI/180),I=Math.cos(P)*(u-m)/2+Math.sin(P)*(y-S)/2,G=-1*Math.sin(P)*(u-m)/2+Math.cos(P)*(y-S)/2,_=I*I/(j*j)+G*G/(C*C);_>1&&(j*=Math.sqrt(_),C*=Math.sqrt(_));let h=Math.sqrt((j*j*(C*C)-j*j*(G*G)-C*C*(I*I))/(j*j*(G*G)+C*C*(I*I)));k===b&&(h*=-1),isNaN(h)&&(h=0);const T=h*j*G/C,A=h*-C*I/j,O=(u+m)/2+Math.cos(P)*T-Math.sin(P)*A,W=(y+S)/2+Math.sin(P)*T+Math.cos(P)*A,z=function(Q){return Math.sqrt(Q[0]*Q[0]+Q[1]*Q[1])},R=function(Q,re){return(Q[0]*re[0]+Q[1]*re[1])/(z(Q)*z(re))},F=function(Q,re){return(Q[0]*re[1]<Q[1]*re[0]?-1:1)*Math.acos(R(Q,re))},K=F([1,0],[(I-T)/j,(G-A)/C]),Z=[(I-T)/j,(G-A)/C],Y=[(-1*I-T)/j,(-1*G-A)/C];let $=F(Z,Y);return R(Z,Y)<=-1&&($=Math.PI),R(Z,Y)>=1&&($=0),b===0&&$>0&&($=$-2*Math.PI),b===1&&$<0&&($=$+2*Math.PI),[O,W,j,C,K,$,P,b]}};return nu.Path=E,E.prototype.className="Path",E.prototype._attrsAffectingSize=["data"],(0,d._registerNode)(E),a.Factory.addGetterSetter(E,"data"),nu}var Af;function U1(){if(Af)return eu;Af=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.Arrow=void 0;const a=$e(),d=Bp(),v=tt(),f=Ye(),E=xh();let g=class extends d.Line{_sceneFunc(y){super._sceneFunc(y);const m=Math.PI*2,S=this.points();let k=S;const b=this.tension()!==0&&S.length>4;b&&(k=this.getTensionPoints());const j=this.pointerLength(),C=S.length;let N,P;if(b){const _=[k[k.length-4],k[k.length-3],k[k.length-2],k[k.length-1],S[C-2],S[C-1]],h=E.Path.calcLength(k[k.length-4],k[k.length-3],"C",_),T=E.Path.getPointOnQuadraticBezier(Math.min(1,1-j/h),_[0],_[1],_[2],_[3],_[4],_[5]);N=S[C-2]-T.x,P=S[C-1]-T.y}else N=S[C-2]-S[C-4],P=S[C-1]-S[C-3];const I=(Math.atan2(P,N)+m)%m,G=this.pointerWidth();this.pointerAtEnding()&&(y.save(),y.beginPath(),y.translate(S[C-2],S[C-1]),y.rotate(I),y.moveTo(0,0),y.lineTo(-j,G/2),y.lineTo(-j,-G/2),y.closePath(),y.restore(),this.__fillStroke(y)),this.pointerAtBeginning()&&(y.save(),y.beginPath(),y.translate(S[0],S[1]),b?(N=(k[0]+k[2])/2-S[0],P=(k[1]+k[3])/2-S[1]):(N=S[2]-S[0],P=S[3]-S[1]),y.rotate((Math.atan2(-P,-N)+m)%m),y.moveTo(0,0),y.lineTo(-j,G/2),y.lineTo(-j,-G/2),y.closePath(),y.restore(),this.__fillStroke(y))}__fillStroke(y){const m=this.dashEnabled();m&&(this.attrs.dashEnabled=!1,y.setLineDash([])),y.fillStrokeShape(this),m&&(this.attrs.dashEnabled=!0)}getSelfRect(){const y=super.getSelfRect(),m=this.pointerWidth()/2;return{x:y.x,y:y.y-m,width:y.width,height:y.height+m*2}}};return eu.Arrow=g,g.prototype.className="Arrow",(0,f._registerNode)(g),a.Factory.addGetterSetter(g,"pointerLength",10,(0,v.getNumberValidator)()),a.Factory.addGetterSetter(g,"pointerWidth",10,(0,v.getNumberValidator)()),a.Factory.addGetterSetter(g,"pointerAtBeginning",!1),a.Factory.addGetterSetter(g,"pointerAtEnding",!0),eu}var ru={},Df;function G1(){if(Df)return ru;Df=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.Circle=void 0;const a=$e(),d=jn(),v=tt(),f=Ye();class E extends d.Shape{_sceneFunc(u){u.beginPath(),u.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),u.closePath(),u.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(u){this.radius()!==u/2&&this.radius(u/2)}setHeight(u){this.radius()!==u/2&&this.radius(u/2)}}return ru.Circle=E,E.prototype._centroid=!0,E.prototype.className="Circle",E.prototype._attrsAffectingSize=["radius"],(0,f._registerNode)(E),a.Factory.addGetterSetter(E,"radius",0,(0,v.getNumberValidator)()),ru}var iu={},Of;function W1(){if(Of)return iu;Of=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.Ellipse=void 0;const a=$e(),d=jn(),v=tt(),f=Ye();class E extends d.Shape{_sceneFunc(u){const y=this.radiusX(),m=this.radiusY();u.beginPath(),u.save(),y!==m&&u.scale(1,m/y),u.arc(0,0,y,0,Math.PI*2,!1),u.restore(),u.closePath(),u.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(u){this.radiusX(u/2)}setHeight(u){this.radiusY(u/2)}}return iu.Ellipse=E,E.prototype.className="Ellipse",E.prototype._centroid=!0,E.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,f._registerNode)(E),a.Factory.addComponentsGetterSetter(E,"radius",["x","y"]),a.Factory.addGetterSetter(E,"radiusX",0,(0,v.getNumberValidator)()),a.Factory.addGetterSetter(E,"radiusY",0,(0,v.getNumberValidator)()),iu}var su={},Uf;function B1(){if(Uf)return su;Uf=1,Object.defineProperty(su,"__esModule",{value:!0}),su.Image=void 0;const a=Wt(),d=$e(),v=jn(),f=Ye(),E=tt();class g extends v.Shape{constructor(y){super(y),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",m=>{this._removeImageLoad(m.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const y=this.image();y&&y.complete||y&&y.readyState===4||y&&y.addEventListener&&y.addEventListener("load",this._loadListener)}_removeImageLoad(y){y&&y.removeEventListener&&y.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const y=!!this.cornerRadius(),m=this.hasShadow();return y&&m?!0:super._useBufferCanvas(!0)}_sceneFunc(y){const m=this.getWidth(),S=this.getHeight(),k=this.cornerRadius(),b=this.attrs.image;let j;if(b){const C=this.attrs.cropWidth,N=this.attrs.cropHeight;C&&N?j=[b,this.cropX(),this.cropY(),C,N,0,0,m,S]:j=[b,0,0,m,S]}(this.hasFill()||this.hasStroke()||k)&&(y.beginPath(),k?a.Util.drawRoundedRectPath(y,m,S,k):y.rect(0,0,m,S),y.closePath(),y.fillStrokeShape(this)),b&&(k&&y.clip(),y.drawImage.apply(y,j))}_hitFunc(y){const m=this.width(),S=this.height(),k=this.cornerRadius();y.beginPath(),k?a.Util.drawRoundedRectPath(y,m,S,k):y.rect(0,0,m,S),y.closePath(),y.fillStrokeShape(this)}getWidth(){var y,m;return(y=this.attrs.width)!==null&&y!==void 0?y:(m=this.image())===null||m===void 0?void 0:m.width}getHeight(){var y,m;return(y=this.attrs.height)!==null&&y!==void 0?y:(m=this.image())===null||m===void 0?void 0:m.height}static fromURL(y,m,S=null){const k=a.Util.createImageElement();k.onload=function(){const b=new g({image:k});m(b)},k.onerror=S,k.crossOrigin="Anonymous",k.src=y}}return su.Image=g,g.prototype.className="Image",(0,f._registerNode)(g),d.Factory.addGetterSetter(g,"cornerRadius",0,(0,E.getNumberOrArrayOfNumbersValidator)(4)),d.Factory.addGetterSetter(g,"image"),d.Factory.addComponentsGetterSetter(g,"crop",["x","y","width","height"]),d.Factory.addGetterSetter(g,"cropX",0,(0,E.getNumberValidator)()),d.Factory.addGetterSetter(g,"cropY",0,(0,E.getNumberValidator)()),d.Factory.addGetterSetter(g,"cropWidth",0,(0,E.getNumberValidator)()),d.Factory.addGetterSetter(g,"cropHeight",0,(0,E.getNumberValidator)()),su}var Do={},Gf;function H1(){if(Gf)return Do;Gf=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.Tag=Do.Label=void 0;const a=$e(),d=jn(),v=vh(),f=tt(),E=Ye(),g=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],u="Change.konva",y="none",m="up",S="right",k="down",b="left",j=g.length;let C=class extends v.Group{constructor(I){super(I),this.on("add.konva",function(G){this._addListeners(G.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(I){let G=this,_;const h=function(){G._sync()};for(_=0;_<j;_++)I.on(g[_]+u,h)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let I=this.getText(),G=this.getTag(),_,h,T,A,O,W,z;if(I&&G){switch(_=I.width(),h=I.height(),T=G.pointerDirection(),A=G.pointerWidth(),z=G.pointerHeight(),O=0,W=0,T){case m:O=_/2,W=-1*z;break;case S:O=_+A,W=h/2;break;case k:O=_/2,W=h+z;break;case b:O=-1*A,W=h/2;break}G.setAttrs({x:-1*O,y:-1*W,width:_,height:h}),I.setAttrs({x:-1*O,y:-1*W})}}};Do.Label=C,C.prototype.className="Label",(0,E._registerNode)(C);class N extends d.Shape{_sceneFunc(I){const G=this.width(),_=this.height(),h=this.pointerDirection(),T=this.pointerWidth(),A=this.pointerHeight(),O=this.cornerRadius();let W=0,z=0,R=0,F=0;typeof O=="number"?W=z=R=F=Math.min(O,G/2,_/2):(W=Math.min(O[0]||0,G/2,_/2),z=Math.min(O[1]||0,G/2,_/2),F=Math.min(O[2]||0,G/2,_/2),R=Math.min(O[3]||0,G/2,_/2)),I.beginPath(),I.moveTo(W,0),h===m&&(I.lineTo((G-T)/2,0),I.lineTo(G/2,-1*A),I.lineTo((G+T)/2,0)),I.lineTo(G-z,0),I.arc(G-z,z,z,Math.PI*3/2,0,!1),h===S&&(I.lineTo(G,(_-A)/2),I.lineTo(G+T,_/2),I.lineTo(G,(_+A)/2)),I.lineTo(G,_-F),I.arc(G-F,_-F,F,0,Math.PI/2,!1),h===k&&(I.lineTo((G+T)/2,_),I.lineTo(G/2,_+A),I.lineTo((G-T)/2,_)),I.lineTo(R,_),I.arc(R,_-R,R,Math.PI/2,Math.PI,!1),h===b&&(I.lineTo(0,(_+A)/2),I.lineTo(-1*T,_/2),I.lineTo(0,(_-A)/2)),I.lineTo(0,W),I.arc(W,W,W,Math.PI,Math.PI*3/2,!1),I.closePath(),I.fillStrokeShape(this)}getSelfRect(){let I=0,G=0,_=this.pointerWidth(),h=this.pointerHeight(),T=this.pointerDirection(),A=this.width(),O=this.height();return T===m?(G-=h,O+=h):T===k?O+=h:T===b?(I-=_*1.5,A+=_):T===S&&(A+=_*1.5),{x:I,y:G,width:A,height:O}}}return Do.Tag=N,N.prototype.className="Tag",(0,E._registerNode)(N),a.Factory.addGetterSetter(N,"pointerDirection",y),a.Factory.addGetterSetter(N,"pointerWidth",0,(0,f.getNumberValidator)()),a.Factory.addGetterSetter(N,"pointerHeight",0,(0,f.getNumberValidator)()),a.Factory.addGetterSetter(N,"cornerRadius",0,(0,f.getNumberOrArrayOfNumbersValidator)(4)),Do}var ou={},Wf;function Hp(){if(Wf)return ou;Wf=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.Rect=void 0;const a=$e(),d=jn(),v=Ye(),f=Wt(),E=tt();class g extends d.Shape{_sceneFunc(y){const m=this.cornerRadius(),S=this.width(),k=this.height();y.beginPath(),m?f.Util.drawRoundedRectPath(y,S,k,m):y.rect(0,0,S,k),y.closePath(),y.fillStrokeShape(this)}}return ou.Rect=g,g.prototype.className="Rect",(0,v._registerNode)(g),a.Factory.addGetterSetter(g,"cornerRadius",0,(0,E.getNumberOrArrayOfNumbersValidator)(4)),ou}var lu={},Bf;function V1(){if(Bf)return lu;Bf=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.RegularPolygon=void 0;const a=$e(),d=jn(),v=tt(),f=Ye();class E extends d.Shape{_sceneFunc(u){const y=this._getPoints();u.beginPath(),u.moveTo(y[0].x,y[0].y);for(let m=1;m<y.length;m++)u.lineTo(y[m].x,y[m].y);u.closePath(),u.fillStrokeShape(this)}_getPoints(){const u=this.attrs.sides,y=this.attrs.radius||0,m=[];for(let S=0;S<u;S++)m.push({x:y*Math.sin(S*2*Math.PI/u),y:-1*y*Math.cos(S*2*Math.PI/u)});return m}getSelfRect(){const u=this._getPoints();let y=u[0].x,m=u[0].y,S=u[0].x,k=u[0].y;return u.forEach(b=>{y=Math.min(y,b.x),m=Math.max(m,b.x),S=Math.min(S,b.y),k=Math.max(k,b.y)}),{x:y,y:S,width:m-y,height:k-S}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(u){this.radius(u/2)}setHeight(u){this.radius(u/2)}}return lu.RegularPolygon=E,E.prototype.className="RegularPolygon",E.prototype._centroid=!0,E.prototype._attrsAffectingSize=["radius"],(0,f._registerNode)(E),a.Factory.addGetterSetter(E,"radius",0,(0,v.getNumberValidator)()),a.Factory.addGetterSetter(E,"sides",0,(0,v.getNumberValidator)()),lu}var au={},Hf;function q1(){if(Hf)return au;Hf=1,Object.defineProperty(au,"__esModule",{value:!0}),au.Ring=void 0;const a=$e(),d=jn(),v=tt(),f=Ye(),E=Math.PI*2;let g=class extends d.Shape{_sceneFunc(y){y.beginPath(),y.arc(0,0,this.innerRadius(),0,E,!1),y.moveTo(this.outerRadius(),0),y.arc(0,0,this.outerRadius(),E,0,!0),y.closePath(),y.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(y){this.outerRadius(y/2)}setHeight(y){this.outerRadius(y/2)}};return au.Ring=g,g.prototype.className="Ring",g.prototype._centroid=!0,g.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,f._registerNode)(g),a.Factory.addGetterSetter(g,"innerRadius",0,(0,v.getNumberValidator)()),a.Factory.addGetterSetter(g,"outerRadius",0,(0,v.getNumberValidator)()),au}var uu={},Vf;function K1(){if(Vf)return uu;Vf=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.Sprite=void 0;const a=$e(),d=jn(),v=yh(),f=tt(),E=Ye();let g=class extends d.Shape{constructor(y){super(y),this._updated=!0,this.anim=new v.Animation(()=>{const m=this._updated;return this._updated=!1,m}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(y){const m=this.animation(),S=this.frameIndex(),k=S*4,b=this.animations()[m],j=this.frameOffsets(),C=b[k+0],N=b[k+1],P=b[k+2],I=b[k+3],G=this.image();if((this.hasFill()||this.hasStroke())&&(y.beginPath(),y.rect(0,0,P,I),y.closePath(),y.fillStrokeShape(this)),G)if(j){const _=j[m],h=S*2;y.drawImage(G,C,N,P,I,_[h+0],_[h+1],P,I)}else y.drawImage(G,C,N,P,I,0,0,P,I)}_hitFunc(y){const m=this.animation(),S=this.frameIndex(),k=S*4,b=this.animations()[m],j=this.frameOffsets(),C=b[k+2],N=b[k+3];if(y.beginPath(),j){const P=j[m],I=S*2;y.rect(P[I+0],P[I+1],C,N)}else y.rect(0,0,C,N);y.closePath(),y.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const y=this;this.interval=setInterval(function(){y._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const y=this.getLayer();this.anim.setLayers(y),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const y=this.frameIndex(),m=this.animation(),S=this.animations(),k=S[m],b=k.length/4;y<b-1?this.frameIndex(y+1):this.frameIndex(0)}};return uu.Sprite=g,g.prototype.className="Sprite",(0,E._registerNode)(g),a.Factory.addGetterSetter(g,"animation"),a.Factory.addGetterSetter(g,"animations"),a.Factory.addGetterSetter(g,"frameOffsets"),a.Factory.addGetterSetter(g,"image"),a.Factory.addGetterSetter(g,"frameIndex",0,(0,f.getNumberValidator)()),a.Factory.addGetterSetter(g,"frameRate",17,(0,f.getNumberValidator)()),a.Factory.backCompat(g,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),uu}var cu={},qf;function Y1(){if(qf)return cu;qf=1,Object.defineProperty(cu,"__esModule",{value:!0}),cu.Star=void 0;const a=$e(),d=jn(),v=tt(),f=Ye();class E extends d.Shape{_sceneFunc(u){const y=this.innerRadius(),m=this.outerRadius(),S=this.numPoints();u.beginPath(),u.moveTo(0,0-m);for(let k=1;k<S*2;k++){const b=k%2===0?m:y,j=b*Math.sin(k*Math.PI/S),C=-1*b*Math.cos(k*Math.PI/S);u.lineTo(j,C)}u.closePath(),u.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(u){this.outerRadius(u/2)}setHeight(u){this.outerRadius(u/2)}}return cu.Star=E,E.prototype.className="Star",E.prototype._centroid=!0,E.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,f._registerNode)(E),a.Factory.addGetterSetter(E,"numPoints",5,(0,v.getNumberValidator)()),a.Factory.addGetterSetter(E,"innerRadius",0,(0,v.getNumberValidator)()),a.Factory.addGetterSetter(E,"outerRadius",0,(0,v.getNumberValidator)()),cu}var Wl={},Kf;function Vp(){if(Kf)return Wl;Kf=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.Text=void 0,Wl.stringToArray=u;const a=Wt(),d=$e(),v=jn(),f=Ye(),E=tt(),g=Ye();function u(J){return[...J].reduce((te,ce,pe,ie)=>{if(new RegExp("\\p{Emoji}","u").test(ce)){const X=ie[pe+1];X&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(X)?(te.push(ce+X),ie[pe+1]=""):te.push(ce)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(ce+(ie[pe+1]||""))?te.push(ce+ie[pe+1]):pe>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(ce)?te[te.length-1]+=ce:ce&&te.push(ce);return te},[])}const y="auto",m="center",S="inherit",k="justify",b="Change.konva",j="2d",C="-",N="left",P="text",I="Text",G="top",_="bottom",h="middle",T="normal",A="px ",O=" ",W="right",z="rtl",R="word",F="char",K="none",Z="",Y=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],$=Y.length;function Q(J){return J.split(",").map(te=>{te=te.trim();const ce=te.indexOf(" ")>=0,pe=te.indexOf('"')>=0||te.indexOf("'")>=0;return ce&&!pe&&(te=`"${te}"`),te}).join(", ")}let re;function L(){return re||(re=a.Util.createCanvasElement().getContext(j),re)}function U(J){J.fillText(this._partialText,this._partialTextX,this._partialTextY)}function V(J){J.setAttr("miterLimit",2),J.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function H(J){return J=J||{},!J.fillLinearGradientColorStops&&!J.fillRadialGradientColorStops&&!J.fillPatternImage&&(J.fill=J.fill||"black"),J}class D extends v.Shape{constructor(te){super(H(te)),this._partialTextX=0,this._partialTextY=0;for(let ce=0;ce<$;ce++)this.on(Y[ce]+b,this._setTextData);this._setTextData()}_sceneFunc(te){const ce=this.textArr,pe=ce.length;if(!this.text())return;let ie=this.padding(),X=this.fontSize(),oe=this.lineHeight()*X,ve=this.verticalAlign(),we=this.direction(),Ce=0,Te=this.align(),Me=this.getWidth(),Ve=this.letterSpacing(),Ae=this.fill(),St=this.textDecoration(),rt=St.indexOf("underline")!==-1,_t=St.indexOf("line-through")!==-1,jr;we=we===S?te.direction:we;let Pt=oe/2,ir=h;if(f.Konva._fixTextRendering){const at=this.measureSize("M");ir="alphabetic",Pt=(at.fontBoundingBoxAscent-at.fontBoundingBoxDescent)/2+oe/2}for(we===z&&te.setAttr("direction",we),te.setAttr("font",this._getContextFont()),te.setAttr("textBaseline",ir),te.setAttr("textAlign",N),ve===h?Ce=(this.getHeight()-pe*oe-ie*2)/2:ve===_&&(Ce=this.getHeight()-pe*oe-ie*2),te.translate(ie,Ce+ie),jr=0;jr<pe;jr++){let at=0,zn=0;const rn=ce[jr],Nr=rn.text,sn=rn.width,sr=rn.lastInParagraph;if(te.save(),Te===W?at+=Me-sn-ie*2:Te===m&&(at+=(Me-sn-ie*2)/2),rt){te.save(),te.beginPath();const pn=f.Konva._fixTextRendering?Math.round(X/4):Math.round(X/2),Hn=at,Ft=Pt+zn+pn;te.moveTo(Hn,Ft);const zt=Te===k&&!sr?Me-ie*2:sn;te.lineTo(Hn+Math.round(zt),Ft),te.lineWidth=X/15;const Ei=this._getLinearGradient();te.strokeStyle=Ei||Ae,te.stroke(),te.restore()}if(_t){te.save(),te.beginPath();const pn=f.Konva._fixTextRendering?-Math.round(X/4):0;te.moveTo(at,Pt+zn+pn);const Hn=Te===k&&!sr?Me-ie*2:sn;te.lineTo(at+Math.round(Hn),Pt+zn+pn),te.lineWidth=X/15;const Ft=this._getLinearGradient();te.strokeStyle=Ft||Ae,te.stroke(),te.restore()}if(we!==z&&(Ve!==0||Te===k)){const pn=Nr.split(" ").length-1,Hn=u(Nr);for(let Ft=0;Ft<Hn.length;Ft++){const zt=Hn[Ft];zt===" "&&!sr&&Te===k&&(at+=(Me-ie*2-sn)/pn),this._partialTextX=at,this._partialTextY=Pt+zn,this._partialText=zt,te.fillStrokeShape(this),at+=this.measureSize(zt).width+Ve}}else Ve!==0&&te.setAttr("letterSpacing",`${Ve}px`),this._partialTextX=at,this._partialTextY=Pt+zn,this._partialText=Nr,te.fillStrokeShape(this);te.restore(),pe>1&&(Pt+=oe)}}_hitFunc(te){const ce=this.getWidth(),pe=this.getHeight();te.beginPath(),te.rect(0,0,ce,pe),te.closePath(),te.fillStrokeShape(this)}setText(te){const ce=a.Util._isString(te)?te:te==null?"":te+"";return this._setAttr(P,ce),this}getWidth(){return this.attrs.width===y||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===y||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return a.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(te){var ce,pe,ie,X,oe,ve,we,Ce,Te,Me,Ve;let Ae=L(),St=this.fontSize(),rt;Ae.save(),Ae.font=this._getContextFont(),rt=Ae.measureText(te),Ae.restore();const _t=St/100;return{actualBoundingBoxAscent:(ce=rt.actualBoundingBoxAscent)!==null&&ce!==void 0?ce:71.58203125*_t,actualBoundingBoxDescent:(pe=rt.actualBoundingBoxDescent)!==null&&pe!==void 0?pe:0,actualBoundingBoxLeft:(ie=rt.actualBoundingBoxLeft)!==null&&ie!==void 0?ie:-7.421875*_t,actualBoundingBoxRight:(X=rt.actualBoundingBoxRight)!==null&&X!==void 0?X:75.732421875*_t,alphabeticBaseline:(oe=rt.alphabeticBaseline)!==null&&oe!==void 0?oe:0,emHeightAscent:(ve=rt.emHeightAscent)!==null&&ve!==void 0?ve:100*_t,emHeightDescent:(we=rt.emHeightDescent)!==null&&we!==void 0?we:-20*_t,fontBoundingBoxAscent:(Ce=rt.fontBoundingBoxAscent)!==null&&Ce!==void 0?Ce:91*_t,fontBoundingBoxDescent:(Te=rt.fontBoundingBoxDescent)!==null&&Te!==void 0?Te:21*_t,hangingBaseline:(Me=rt.hangingBaseline)!==null&&Me!==void 0?Me:72.80000305175781*_t,ideographicBaseline:(Ve=rt.ideographicBaseline)!==null&&Ve!==void 0?Ve:-21*_t,width:rt.width,height:St}}_getContextFont(){return this.fontStyle()+O+this.fontVariant()+O+(this.fontSize()+A)+Q(this.fontFamily())}_addTextLine(te){this.align()===k&&(te=te.trim());const pe=this._getTextWidth(te);return this.textArr.push({text:te,width:pe,lastInParagraph:!1})}_getTextWidth(te){const ce=this.letterSpacing(),pe=te.length;return L().measureText(te).width+ce*pe}_setTextData(){let te=this.text().split(`
`),ce=+this.fontSize(),pe=0,ie=this.lineHeight()*ce,X=this.attrs.width,oe=this.attrs.height,ve=X!==y&&X!==void 0,we=oe!==y&&oe!==void 0,Ce=this.padding(),Te=X-Ce*2,Me=oe-Ce*2,Ve=0,Ae=this.wrap(),St=Ae!==K,rt=Ae!==F&&St,_t=this.ellipsis();this.textArr=[],L().font=this._getContextFont();const jr=_t?this._getTextWidth(Z):0;for(let Pt=0,ir=te.length;Pt<ir;++Pt){let at=te[Pt],zn=this._getTextWidth(at);if(ve&&zn>Te)for(;at.length>0;){let rn=0,Nr=u(at).length,sn="",sr=0;for(;rn<Nr;){const pn=rn+Nr>>>1,Hn=u(at),Ft=Hn.slice(0,pn+1).join(""),zt=this._getTextWidth(Ft);(_t&&we&&Ve+ie>Me?zt+jr:zt)<=Te?(rn=pn+1,sn=Ft,sr=zt):Nr=pn}if(sn){if(rt){const Ft=u(at),zt=u(sn),Ei=Ft[zt.length],no=Ei===O||Ei===C;let Pi;if(no&&sr<=Te)Pi=zt.length;else{const Vl=zt.lastIndexOf(O),ro=zt.lastIndexOf(C);Pi=Math.max(Vl,ro)+1}Pi>0&&(rn=Pi,sn=Ft.slice(0,rn).join(""),sr=this._getTextWidth(sn))}if(sn=sn.trimRight(),this._addTextLine(sn),pe=Math.max(pe,sr),Ve+=ie,this._shouldHandleEllipsis(Ve)){this._tryToAddEllipsisToLastLine();break}if(at=u(at).slice(rn).join("").trimLeft(),at.length>0&&(zn=this._getTextWidth(at),zn<=Te)){this._addTextLine(at),Ve+=ie,pe=Math.max(pe,zn);break}}else break}else this._addTextLine(at),Ve+=ie,pe=Math.max(pe,zn),this._shouldHandleEllipsis(Ve)&&Pt<ir-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),we&&Ve+ie>Me)break}this.textHeight=ce,this.textWidth=pe}_shouldHandleEllipsis(te){const ce=+this.fontSize(),pe=this.lineHeight()*ce,ie=this.attrs.height,X=ie!==y&&ie!==void 0,oe=this.padding(),ve=ie-oe*2;return!(this.wrap()!==K)||X&&te+pe>ve}_tryToAddEllipsisToLastLine(){const te=this.attrs.width,ce=te!==y&&te!==void 0,pe=this.padding(),ie=te-pe*2,X=this.ellipsis(),oe=this.textArr[this.textArr.length-1];!oe||!X||(ce&&(this._getTextWidth(oe.text+Z)<ie||(oe.text=oe.text.slice(0,oe.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(oe.text+Z))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const te=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,ce=this.hasShadow();return te&&ce?!0:super._useBufferCanvas()}}return Wl.Text=D,D.prototype._fillFunc=U,D.prototype._strokeFunc=V,D.prototype.className=I,D.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,g._registerNode)(D),d.Factory.overWriteSetter(D,"width",(0,E.getNumberOrAutoValidator)()),d.Factory.overWriteSetter(D,"height",(0,E.getNumberOrAutoValidator)()),d.Factory.addGetterSetter(D,"direction",S),d.Factory.addGetterSetter(D,"fontFamily","Arial"),d.Factory.addGetterSetter(D,"fontSize",12,(0,E.getNumberValidator)()),d.Factory.addGetterSetter(D,"fontStyle",T),d.Factory.addGetterSetter(D,"fontVariant",T),d.Factory.addGetterSetter(D,"padding",0,(0,E.getNumberValidator)()),d.Factory.addGetterSetter(D,"align",N),d.Factory.addGetterSetter(D,"verticalAlign",G),d.Factory.addGetterSetter(D,"lineHeight",1,(0,E.getNumberValidator)()),d.Factory.addGetterSetter(D,"wrap",R),d.Factory.addGetterSetter(D,"ellipsis",!1,(0,E.getBooleanValidator)()),d.Factory.addGetterSetter(D,"letterSpacing",0,(0,E.getNumberValidator)()),d.Factory.addGetterSetter(D,"text","",(0,E.getStringValidator)()),d.Factory.addGetterSetter(D,"textDecoration",""),Wl}var du={},Yf;function X1(){if(Yf)return du;Yf=1,Object.defineProperty(du,"__esModule",{value:!0}),du.TextPath=void 0;const a=Wt(),d=$e(),v=jn(),f=xh(),E=Vp(),g=tt(),u=Ye(),y="",m="normal";function S(j){j.fillText(this.partialText,0,0)}function k(j){j.strokeText(this.partialText,0,0)}let b=class extends v.Shape{constructor(C){super(C),this.dummyCanvas=a.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return f.Path.getPathLength(this.dataArray)}_getPointAtLength(C){if(!this.attrs.data)return null;const N=this.pathLength;return C-1>N?null:f.Path.getPointAtLengthOfDataArray(C,this.dataArray)}_readDataAttribute(){this.dataArray=f.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(C){C.setAttr("font",this._getContextFont()),C.setAttr("textBaseline",this.textBaseline()),C.setAttr("textAlign","left"),C.save();const N=this.textDecoration(),P=this.fill(),I=this.fontSize(),G=this.glyphInfo;N==="underline"&&C.beginPath();for(let _=0;_<G.length;_++){C.save();const h=G[_].p0;C.translate(h.x,h.y),C.rotate(G[_].rotation),this.partialText=G[_].text,C.fillStrokeShape(this),N==="underline"&&(_===0&&C.moveTo(0,I/2+1),C.lineTo(I,I/2+1)),C.restore()}N==="underline"&&(C.strokeStyle=P,C.lineWidth=I/20,C.stroke()),C.restore()}_hitFunc(C){C.beginPath();const N=this.glyphInfo;if(N.length>=1){const P=N[0].p0;C.moveTo(P.x,P.y)}for(let P=0;P<N.length;P++){const I=N[P].p1;C.lineTo(I.x,I.y)}C.setAttr("lineWidth",this.fontSize()),C.setAttr("strokeStyle",this.colorKey),C.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return a.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(C){return E.Text.prototype.setText.call(this,C)}_getContextFont(){return E.Text.prototype._getContextFont.call(this)}_getTextSize(C){const P=this.dummyCanvas.getContext("2d");P.save(),P.font=this._getContextFont();const I=P.measureText(C);return P.restore(),{width:I.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:C,height:N}=this._getTextSize(this.attrs.text);if(this.textWidth=C,this.textHeight=N,this.glyphInfo=[],!this.attrs.data)return null;const P=this.letterSpacing(),I=this.align(),G=this.kerningFunc(),_=Math.max(this.textWidth+((this.attrs.text||"").length-1)*P,0);let h=0;I==="center"&&(h=Math.max(0,this.pathLength/2-_/2)),I==="right"&&(h=Math.max(0,this.pathLength-_));const T=(0,E.stringToArray)(this.text());let A=h;for(let O=0;O<T.length;O++){const W=this._getPointAtLength(A);if(!W)return;let z=this._getTextSize(T[O]).width+P;if(T[O]===" "&&I==="justify"){const $=this.text().split(" ").length-1;z+=(this.pathLength-_)/$}const R=this._getPointAtLength(A+z);if(!R)return;const F=f.Path.getLineLength(W.x,W.y,R.x,R.y);let K=0;if(G)try{K=G(T[O-1],T[O])*this.fontSize()}catch{K=0}W.x+=K,R.x+=K,this.textWidth+=K;const Z=f.Path.getPointOnLine(K+F/2,W.x,W.y,R.x,R.y),Y=Math.atan2(R.y-W.y,R.x-W.x);this.glyphInfo.push({transposeX:Z.x,transposeY:Z.y,text:T[O],rotation:Y,p0:W,p1:R}),A+=z}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const C=[];this.glyphInfo.forEach(function(A){C.push(A.p0.x),C.push(A.p0.y),C.push(A.p1.x),C.push(A.p1.y)});let N=C[0]||0,P=C[0]||0,I=C[1]||0,G=C[1]||0,_,h;for(let A=0;A<C.length/2;A++)_=C[A*2],h=C[A*2+1],N=Math.min(N,_),P=Math.max(P,_),I=Math.min(I,h),G=Math.max(G,h);const T=this.fontSize();return{x:N-T/2,y:I-T/2,width:P-N+T,height:G-I+T}}destroy(){return a.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return du.TextPath=b,b.prototype._fillFunc=S,b.prototype._strokeFunc=k,b.prototype._fillFuncHit=S,b.prototype._strokeFuncHit=k,b.prototype.className="TextPath",b.prototype._attrsAffectingSize=["text","fontSize","data"],(0,u._registerNode)(b),d.Factory.addGetterSetter(b,"data"),d.Factory.addGetterSetter(b,"fontFamily","Arial"),d.Factory.addGetterSetter(b,"fontSize",12,(0,g.getNumberValidator)()),d.Factory.addGetterSetter(b,"fontStyle",m),d.Factory.addGetterSetter(b,"align","left"),d.Factory.addGetterSetter(b,"letterSpacing",0,(0,g.getNumberValidator)()),d.Factory.addGetterSetter(b,"textBaseline","middle"),d.Factory.addGetterSetter(b,"fontVariant",m),d.Factory.addGetterSetter(b,"text",y),d.Factory.addGetterSetter(b,"textDecoration",""),d.Factory.addGetterSetter(b,"kerningFunc",void 0),du}var hu={},Xf;function Q1(){if(Xf)return hu;Xf=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.Transformer=void 0;const a=Wt(),d=$e(),v=Qt(),f=jn(),E=Hp(),g=vh(),u=Ye(),y=tt(),m=Ye(),S="tr-konva",k=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(z=>z+`.${S}`).join(" "),b="nodesRect",j=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],C={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},N="ontouchstart"in u.Konva._global;function P(z,R,F){if(z==="rotater")return F;R+=a.Util.degToRad(C[z]||0);const K=(a.Util.radToDeg(R)%360+360)%360;return a.Util._inRange(K,315+22.5,360)||a.Util._inRange(K,0,22.5)?"ns-resize":a.Util._inRange(K,45-22.5,45+22.5)?"nesw-resize":a.Util._inRange(K,90-22.5,90+22.5)?"ew-resize":a.Util._inRange(K,135-22.5,135+22.5)?"nwse-resize":a.Util._inRange(K,180-22.5,180+22.5)?"ns-resize":a.Util._inRange(K,225-22.5,225+22.5)?"nesw-resize":a.Util._inRange(K,270-22.5,270+22.5)?"ew-resize":a.Util._inRange(K,315-22.5,315+22.5)?"nwse-resize":(a.Util.error("Transformer has unknown angle for cursor detection: "+K),"pointer")}const I=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function G(z){return{x:z.x+z.width/2*Math.cos(z.rotation)+z.height/2*Math.sin(-z.rotation),y:z.y+z.height/2*Math.cos(z.rotation)+z.width/2*Math.sin(z.rotation)}}function _(z,R,F){const K=F.x+(z.x-F.x)*Math.cos(R)-(z.y-F.y)*Math.sin(R),Z=F.y+(z.x-F.x)*Math.sin(R)+(z.y-F.y)*Math.cos(R);return{...z,rotation:z.rotation+R,x:K,y:Z}}function h(z,R){const F=G(z);return _(z,R,F)}function T(z,R,F){let K=R;for(let Z=0;Z<z.length;Z++){const Y=u.Konva.getAngle(z[Z]),$=Math.abs(Y-R)%(Math.PI*2);Math.min($,Math.PI*2-$)<F&&(K=Y)}return K}let A=0;class O extends g.Group{constructor(R){super(R),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(k,this.update),this.getNode()&&this.update()}attachTo(R){return this.setNode(R),this}setNode(R){return a.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([R])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return S+this._id}setNodes(R=[]){this._nodes&&this._nodes.length&&this.detach();const F=R.filter(Z=>Z.isAncestorOf(this)?(a.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=R=F,R.length===1&&this.useSingleNodeRotation()?this.rotation(R[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(Z=>{const Y=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(Z._attrsAffectingSize.length){const $=Z._attrsAffectingSize.map(Q=>Q+"Change."+this._getEventNamespace()).join(" ");Z.on($,Y)}Z.on(j.map($=>$+`.${this._getEventNamespace()}`).join(" "),Y),Z.on(`absoluteTransformChange.${this._getEventNamespace()}`,Y),this._proxyDrag(Z)}),this._resetTransformCache(),this.findOne(".top-left")&&this.update(),this}_proxyDrag(R){let F;R.on(`dragstart.${this._getEventNamespace()}`,K=>{F=R.getAbsolutePosition(),!this.isDragging()&&R!==this.findOne(".back")&&this.startDrag(K,!1)}),R.on(`dragmove.${this._getEventNamespace()}`,K=>{if(!F)return;const Z=R.getAbsolutePosition(),Y=Z.x-F.x,$=Z.y-F.y;this.nodes().forEach(Q=>{if(Q===R||Q.isDragging())return;const re=Q.getAbsolutePosition();Q.setAbsolutePosition({x:re.x+Y,y:re.y+$}),Q.startDrag(K)}),F=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(R=>{R.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(b),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(b,this.__getNodeRect)}__getNodeShape(R,F=this.rotation(),K){const Z=R.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),Y=R.getAbsoluteScale(K),$=R.getAbsolutePosition(K),Q=Z.x*Y.x-R.offsetX()*Y.x,re=Z.y*Y.y-R.offsetY()*Y.y,L=(u.Konva.getAngle(R.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),U={x:$.x+Q*Math.cos(L)+re*Math.sin(-L),y:$.y+re*Math.cos(L)+Q*Math.sin(L),width:Z.width*Y.x,height:Z.height*Y.y,rotation:L};return _(U,-u.Konva.getAngle(F),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const F=[];this.nodes().map(L=>{const U=L.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),V=[{x:U.x,y:U.y},{x:U.x+U.width,y:U.y},{x:U.x+U.width,y:U.y+U.height},{x:U.x,y:U.y+U.height}],H=L.getAbsoluteTransform();V.forEach(function(D){const J=H.point(D);F.push(J)})});const K=new a.Transform;K.rotate(-u.Konva.getAngle(this.rotation()));let Z=1/0,Y=1/0,$=-1/0,Q=-1/0;F.forEach(function(L){const U=K.point(L);Z===void 0&&(Z=$=U.x,Y=Q=U.y),Z=Math.min(Z,U.x),Y=Math.min(Y,U.y),$=Math.max($,U.x),Q=Math.max(Q,U.y)}),K.invert();const re=K.point({x:Z,y:Y});return{x:re.x,y:re.y,width:$-Z,height:Q-Y,rotation:u.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),I.forEach(R=>{this._createAnchor(R)}),this._createAnchor("rotater")}_createAnchor(R){const F=new E.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:R+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:N?10:"auto"}),K=this;F.on("mousedown touchstart",function(Z){K._handleMouseDown(Z)}),F.on("dragstart",Z=>{F.stopDrag(),Z.cancelBubble=!0}),F.on("dragend",Z=>{Z.cancelBubble=!0}),F.on("mouseenter",()=>{const Z=u.Konva.getAngle(this.rotation()),Y=this.rotateAnchorCursor(),$=P(R,Z,Y);F.getStage().content&&(F.getStage().content.style.cursor=$),this._cursorChange=!0}),F.on("mouseout",()=>{F.getStage().content&&(F.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(F)}_createBack(){const R=new f.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(F,K){const Z=K.getParent(),Y=Z.padding();F.beginPath(),F.rect(-Y,-Y,K.width()+Y*2,K.height()+Y*2),F.moveTo(K.width()/2,-Y),Z.rotateEnabled()&&Z.rotateLineVisible()&&F.lineTo(K.width()/2,-Z.rotateAnchorOffset()*a.Util._sign(K.height())-Y),F.fillStrokeShape(K)},hitFunc:(F,K)=>{if(!this.shouldOverdrawWholeArea())return;const Z=this.padding();F.beginPath(),F.rect(-Z,-Z,K.width()+Z*2,K.height()+Z*2),F.fillStrokeShape(K)}});this.add(R),this._proxyDrag(R),R.on("dragstart",F=>{F.cancelBubble=!0}),R.on("dragmove",F=>{F.cancelBubble=!0}),R.on("dragend",F=>{F.cancelBubble=!0}),this.on("dragmove",F=>{this.update()})}_handleMouseDown(R){if(this._transforming)return;this._movingAnchorName=R.target.name().split(" ")[0];const F=this._getNodeRect(),K=F.width,Z=F.height,Y=Math.sqrt(Math.pow(K,2)+Math.pow(Z,2));this.sin=Math.abs(Z/Y),this.cos=Math.abs(K/Y),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const $=R.target.getAbsolutePosition(),Q=R.target.getStage().getPointerPosition();this._anchorDragOffset={x:Q.x-$.x,y:Q.y-$.y},A++,this._fire("transformstart",{evt:R.evt,target:this.getNode()}),this._nodes.forEach(re=>{re._fire("transformstart",{evt:R.evt,target:re})})}_handleMouseMove(R){let F,K,Z;const Y=this.findOne("."+this._movingAnchorName),$=Y.getStage();$.setPointersPositions(R);const Q=$.getPointerPosition();let re={x:Q.x-this._anchorDragOffset.x,y:Q.y-this._anchorDragOffset.y};const L=Y.getAbsolutePosition();this.anchorDragBoundFunc()&&(re=this.anchorDragBoundFunc()(L,re,R)),Y.setAbsolutePosition(re);const U=Y.getAbsolutePosition();if(L.x===U.x&&L.y===U.y)return;if(this._movingAnchorName==="rotater"){const ie=this._getNodeRect();F=Y.x()-ie.width/2,K=-Y.y()+ie.height/2;let X=Math.atan2(-K,F)+Math.PI/2;ie.height<0&&(X-=Math.PI);const ve=u.Konva.getAngle(this.rotation())+X,we=u.Konva.getAngle(this.rotationSnapTolerance()),Te=T(this.rotationSnaps(),ve,we)-ie.rotation,Me=h(ie,Te);this._fitNodesInto(Me,R);return}const V=this.shiftBehavior();let H;V==="inverted"?H=this.keepRatio()&&!R.shiftKey:V==="none"?H=this.keepRatio():H=this.keepRatio()||R.shiftKey;let D=this.centeredScaling()||R.altKey;if(this._movingAnchorName==="top-left"){if(H){const ie=D?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};Z=Math.sqrt(Math.pow(ie.x-Y.x(),2)+Math.pow(ie.y-Y.y(),2));const X=this.findOne(".top-left").x()>ie.x?-1:1,oe=this.findOne(".top-left").y()>ie.y?-1:1;F=Z*this.cos*X,K=Z*this.sin*oe,this.findOne(".top-left").x(ie.x-F),this.findOne(".top-left").y(ie.y-K)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(Y.y());else if(this._movingAnchorName==="top-right"){if(H){const ie=D?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};Z=Math.sqrt(Math.pow(Y.x()-ie.x,2)+Math.pow(ie.y-Y.y(),2));const X=this.findOne(".top-right").x()<ie.x?-1:1,oe=this.findOne(".top-right").y()>ie.y?-1:1;F=Z*this.cos*X,K=Z*this.sin*oe,this.findOne(".top-right").x(ie.x+F),this.findOne(".top-right").y(ie.y-K)}var J=Y.position();this.findOne(".top-left").y(J.y),this.findOne(".bottom-right").x(J.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(Y.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(Y.x());else if(this._movingAnchorName==="bottom-left"){if(H){const ie=D?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};Z=Math.sqrt(Math.pow(ie.x-Y.x(),2)+Math.pow(Y.y()-ie.y,2));const X=ie.x<Y.x()?-1:1,oe=Y.y()<ie.y?-1:1;F=Z*this.cos*X,K=Z*this.sin*oe,Y.x(ie.x-F),Y.y(ie.y+K)}J=Y.position(),this.findOne(".top-left").x(J.x),this.findOne(".bottom-right").y(J.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(Y.y());else if(this._movingAnchorName==="bottom-right"){if(H){const ie=D?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};Z=Math.sqrt(Math.pow(Y.x()-ie.x,2)+Math.pow(Y.y()-ie.y,2));const X=this.findOne(".bottom-right").x()<ie.x?-1:1,oe=this.findOne(".bottom-right").y()<ie.y?-1:1;F=Z*this.cos*X,K=Z*this.sin*oe,this.findOne(".bottom-right").x(ie.x+F),this.findOne(".bottom-right").y(ie.y+K)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(D=this.centeredScaling()||R.altKey,D){const ie=this.findOne(".top-left"),X=this.findOne(".bottom-right"),oe=ie.x(),ve=ie.y(),we=this.getWidth()-X.x(),Ce=this.getHeight()-X.y();X.move({x:-oe,y:-ve}),ie.move({x:we,y:Ce})}const te=this.findOne(".top-left").getAbsolutePosition();F=te.x,K=te.y;const ce=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),pe=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:F,y:K,width:ce,height:pe,rotation:u.Konva.getAngle(this.rotation())},R)}_handleMouseUp(R){this._removeEvents(R)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(R){var F;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const K=this.getNode();A--,this._fire("transformend",{evt:R,target:K}),(F=this.getLayer())===null||F===void 0||F.batchDraw(),K&&this._nodes.forEach(Z=>{var Y;Z._fire("transformend",{evt:R,target:Z}),(Y=Z.getLayer())===null||Y===void 0||Y.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(R,F){const K=this._getNodeRect(),Z=1;if(a.Util._inRange(R.width,-this.padding()*2-Z,Z)){this.update();return}if(a.Util._inRange(R.height,-this.padding()*2-Z,Z)){this.update();return}const Y=new a.Transform;if(Y.rotate(u.Konva.getAngle(this.rotation())),this._movingAnchorName&&R.width<0&&this._movingAnchorName.indexOf("left")>=0){const H=Y.point({x:-this.padding()*2,y:0});R.x+=H.x,R.y+=H.y,R.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=H.x,this._anchorDragOffset.y-=H.y}else if(this._movingAnchorName&&R.width<0&&this._movingAnchorName.indexOf("right")>=0){const H=Y.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=H.x,this._anchorDragOffset.y-=H.y,R.width+=this.padding()*2}if(this._movingAnchorName&&R.height<0&&this._movingAnchorName.indexOf("top")>=0){const H=Y.point({x:0,y:-this.padding()*2});R.x+=H.x,R.y+=H.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=H.x,this._anchorDragOffset.y-=H.y,R.height+=this.padding()*2}else if(this._movingAnchorName&&R.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const H=Y.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=H.x,this._anchorDragOffset.y-=H.y,R.height+=this.padding()*2}if(this.boundBoxFunc()){const H=this.boundBoxFunc()(K,R);H?R=H:a.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const $=1e7,Q=new a.Transform;Q.translate(K.x,K.y),Q.rotate(K.rotation),Q.scale(K.width/$,K.height/$);const re=new a.Transform,L=R.width/$,U=R.height/$;this.flipEnabled()===!1?(re.translate(R.x,R.y),re.rotate(R.rotation),re.translate(R.width<0?R.width:0,R.height<0?R.height:0),re.scale(Math.abs(L),Math.abs(U))):(re.translate(R.x,R.y),re.rotate(R.rotation),re.scale(L,U));const V=re.multiply(Q.invert());this._nodes.forEach(H=>{var D;const J=H.getParent().getAbsoluteTransform(),te=H.getTransform().copy();te.translate(H.offsetX(),H.offsetY());const ce=new a.Transform;ce.multiply(J.copy().invert()).multiply(V).multiply(J).multiply(te);const pe=ce.decompose();H.setAttrs(pe),(D=H.getLayer())===null||D===void 0||D.batchDraw()}),this.rotation(a.Util._getRotation(R.rotation)),this._nodes.forEach(H=>{this._fire("transform",{evt:F,target:H}),H._fire("transform",{evt:F,target:H})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(R,F){this.findOne(R).setAttrs(F)}update(){var R;const F=this._getNodeRect();this.rotation(a.Util._getRotation(F.rotation));const K=F.width,Z=F.height,Y=this.enabledAnchors(),$=this.resizeEnabled(),Q=this.padding(),re=this.anchorSize(),L=this.find("._anchor");L.forEach(V=>{V.setAttrs({width:re,height:re,offsetX:re/2,offsetY:re/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:re/2+Q,offsetY:re/2+Q,visible:$&&Y.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:K/2,y:0,offsetY:re/2+Q,visible:$&&Y.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:K,y:0,offsetX:re/2-Q,offsetY:re/2+Q,visible:$&&Y.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:Z/2,offsetX:re/2+Q,visible:$&&Y.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:K,y:Z/2,offsetX:re/2-Q,visible:$&&Y.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:Z,offsetX:re/2+Q,offsetY:re/2-Q,visible:$&&Y.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:K/2,y:Z,offsetY:re/2-Q,visible:$&&Y.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:K,y:Z,offsetX:re/2-Q,offsetY:re/2-Q,visible:$&&Y.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:K/2,y:-this.rotateAnchorOffset()*a.Util._sign(Z)-Q,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:K,height:Z,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const U=this.anchorStyleFunc();U&&L.forEach(V=>{U(V)}),(R=this.getLayer())===null||R===void 0||R.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const R=this.findOne("."+this._movingAnchorName);R&&R.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),g.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return v.Node.prototype.toObject.call(this)}clone(R){return v.Node.prototype.clone.call(this,R)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}hu.Transformer=O,O.isTransforming=()=>A>0;function W(z){return z instanceof Array||a.Util.warn("enabledAnchors value should be an array"),z instanceof Array&&z.forEach(function(R){I.indexOf(R)===-1&&a.Util.warn("Unknown anchor name: "+R+". Available names are: "+I.join(", "))}),z||[]}return O.prototype.className="Transformer",(0,m._registerNode)(O),d.Factory.addGetterSetter(O,"enabledAnchors",I,W),d.Factory.addGetterSetter(O,"flipEnabled",!0,(0,y.getBooleanValidator)()),d.Factory.addGetterSetter(O,"resizeEnabled",!0),d.Factory.addGetterSetter(O,"anchorSize",10,(0,y.getNumberValidator)()),d.Factory.addGetterSetter(O,"rotateEnabled",!0),d.Factory.addGetterSetter(O,"rotateLineVisible",!0),d.Factory.addGetterSetter(O,"rotationSnaps",[]),d.Factory.addGetterSetter(O,"rotateAnchorOffset",50,(0,y.getNumberValidator)()),d.Factory.addGetterSetter(O,"rotateAnchorCursor","crosshair"),d.Factory.addGetterSetter(O,"rotationSnapTolerance",5,(0,y.getNumberValidator)()),d.Factory.addGetterSetter(O,"borderEnabled",!0),d.Factory.addGetterSetter(O,"anchorStroke","rgb(0, 161, 255)"),d.Factory.addGetterSetter(O,"anchorStrokeWidth",1,(0,y.getNumberValidator)()),d.Factory.addGetterSetter(O,"anchorFill","white"),d.Factory.addGetterSetter(O,"anchorCornerRadius",0,(0,y.getNumberValidator)()),d.Factory.addGetterSetter(O,"borderStroke","rgb(0, 161, 255)"),d.Factory.addGetterSetter(O,"borderStrokeWidth",1,(0,y.getNumberValidator)()),d.Factory.addGetterSetter(O,"borderDash"),d.Factory.addGetterSetter(O,"keepRatio",!0),d.Factory.addGetterSetter(O,"shiftBehavior","default"),d.Factory.addGetterSetter(O,"centeredScaling",!1),d.Factory.addGetterSetter(O,"ignoreStroke",!1),d.Factory.addGetterSetter(O,"padding",0,(0,y.getNumberValidator)()),d.Factory.addGetterSetter(O,"nodes"),d.Factory.addGetterSetter(O,"node"),d.Factory.addGetterSetter(O,"boundBoxFunc"),d.Factory.addGetterSetter(O,"anchorDragBoundFunc"),d.Factory.addGetterSetter(O,"anchorStyleFunc"),d.Factory.addGetterSetter(O,"shouldOverdrawWholeArea",!1),d.Factory.addGetterSetter(O,"useSingleNodeRotation",!0),d.Factory.backCompat(O,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),hu}var fu={},Qf;function J1(){if(Qf)return fu;Qf=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.Wedge=void 0;const a=$e(),d=jn(),v=Ye(),f=tt(),E=Ye();let g=class extends d.Shape{_sceneFunc(y){y.beginPath(),y.arc(0,0,this.radius(),0,v.Konva.getAngle(this.angle()),this.clockwise()),y.lineTo(0,0),y.closePath(),y.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(y){this.radius(y/2)}setHeight(y){this.radius(y/2)}};return fu.Wedge=g,g.prototype.className="Wedge",g.prototype._centroid=!0,g.prototype._attrsAffectingSize=["radius"],(0,E._registerNode)(g),a.Factory.addGetterSetter(g,"radius",0,(0,f.getNumberValidator)()),a.Factory.addGetterSetter(g,"angle",0,(0,f.getNumberValidator)()),a.Factory.addGetterSetter(g,"clockwise",!1),a.Factory.backCompat(g,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),fu}var pu={},Jf;function Z1(){if(Jf)return pu;Jf=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.Blur=void 0;const a=$e(),d=Qt(),v=tt();function f(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const E=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],g=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function u(m,S){const k=m.data,b=m.width,j=m.height;let C,N,P,I,G,_,h,T,A,O,W,z,R,F,K,Z,Y,$,Q,re;const L=S+S+1,U=b-1,V=j-1,H=S+1,D=H*(H+1)/2,J=new f,te=E[S],ce=g[S];let pe=null,ie=J,X=null,oe=null;for(let ve=1;ve<L;ve++)ie=ie.next=new f,ve===H&&(pe=ie);ie.next=J,P=N=0;for(let ve=0;ve<j;ve++){z=R=F=K=I=G=_=h=0,T=H*(Z=k[N]),A=H*(Y=k[N+1]),O=H*($=k[N+2]),W=H*(Q=k[N+3]),I+=D*Z,G+=D*Y,_+=D*$,h+=D*Q,ie=J;for(let we=0;we<H;we++)ie.r=Z,ie.g=Y,ie.b=$,ie.a=Q,ie=ie.next;for(let we=1;we<H;we++)C=N+((U<we?U:we)<<2),I+=(ie.r=Z=k[C])*(re=H-we),G+=(ie.g=Y=k[C+1])*re,_+=(ie.b=$=k[C+2])*re,h+=(ie.a=Q=k[C+3])*re,z+=Z,R+=Y,F+=$,K+=Q,ie=ie.next;X=J,oe=pe;for(let we=0;we<b;we++)k[N+3]=Q=h*te>>ce,Q!==0?(Q=255/Q,k[N]=(I*te>>ce)*Q,k[N+1]=(G*te>>ce)*Q,k[N+2]=(_*te>>ce)*Q):k[N]=k[N+1]=k[N+2]=0,I-=T,G-=A,_-=O,h-=W,T-=X.r,A-=X.g,O-=X.b,W-=X.a,C=P+((C=we+S+1)<U?C:U)<<2,z+=X.r=k[C],R+=X.g=k[C+1],F+=X.b=k[C+2],K+=X.a=k[C+3],I+=z,G+=R,_+=F,h+=K,X=X.next,T+=Z=oe.r,A+=Y=oe.g,O+=$=oe.b,W+=Q=oe.a,z-=Z,R-=Y,F-=$,K-=Q,oe=oe.next,N+=4;P+=b}for(let ve=0;ve<b;ve++){R=F=K=z=G=_=h=I=0,N=ve<<2,T=H*(Z=k[N]),A=H*(Y=k[N+1]),O=H*($=k[N+2]),W=H*(Q=k[N+3]),I+=D*Z,G+=D*Y,_+=D*$,h+=D*Q,ie=J;for(let Ce=0;Ce<H;Ce++)ie.r=Z,ie.g=Y,ie.b=$,ie.a=Q,ie=ie.next;let we=b;for(let Ce=1;Ce<=S;Ce++)N=we+ve<<2,I+=(ie.r=Z=k[N])*(re=H-Ce),G+=(ie.g=Y=k[N+1])*re,_+=(ie.b=$=k[N+2])*re,h+=(ie.a=Q=k[N+3])*re,z+=Z,R+=Y,F+=$,K+=Q,ie=ie.next,Ce<V&&(we+=b);N=ve,X=J,oe=pe;for(let Ce=0;Ce<j;Ce++)C=N<<2,k[C+3]=Q=h*te>>ce,Q>0?(Q=255/Q,k[C]=(I*te>>ce)*Q,k[C+1]=(G*te>>ce)*Q,k[C+2]=(_*te>>ce)*Q):k[C]=k[C+1]=k[C+2]=0,I-=T,G-=A,_-=O,h-=W,T-=X.r,A-=X.g,O-=X.b,W-=X.a,C=ve+((C=Ce+H)<V?C:V)*b<<2,I+=z+=X.r=k[C],G+=R+=X.g=k[C+1],_+=F+=X.b=k[C+2],h+=K+=X.a=k[C+3],X=X.next,T+=Z=oe.r,A+=Y=oe.g,O+=$=oe.b,W+=Q=oe.a,z-=Z,R-=Y,F-=$,K-=Q,oe=oe.next,N+=b}}const y=function(S){const k=Math.round(this.blurRadius());k>0&&u(S,k)};return pu.Blur=y,a.Factory.addGetterSetter(d.Node,"blurRadius",0,(0,v.getNumberValidator)(),a.Factory.afterSetFilter),pu}var gu={},Zf;function $1(){if(Zf)return gu;Zf=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.Brighten=void 0;const a=$e(),d=Qt(),v=tt(),f=function(E){const g=this.brightness()*255,u=E.data,y=u.length;for(let m=0;m<y;m+=4)u[m]+=g,u[m+1]+=g,u[m+2]+=g};return gu.Brighten=f,a.Factory.addGetterSetter(d.Node,"brightness",0,(0,v.getNumberValidator)(),a.Factory.afterSetFilter),gu}var mu={},$f;function eg(){if($f)return mu;$f=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.Contrast=void 0;const a=$e(),d=Qt(),v=tt(),f=function(E){const g=Math.pow((this.contrast()+100)/100,2),u=E.data,y=u.length;let m=150,S=150,k=150;for(let b=0;b<y;b+=4)m=u[b],S=u[b+1],k=u[b+2],m/=255,m-=.5,m*=g,m+=.5,m*=255,S/=255,S-=.5,S*=g,S+=.5,S*=255,k/=255,k-=.5,k*=g,k+=.5,k*=255,m=m<0?0:m>255?255:m,S=S<0?0:S>255?255:S,k=k<0?0:k>255?255:k,u[b]=m,u[b+1]=S,u[b+2]=k};return mu.Contrast=f,a.Factory.addGetterSetter(d.Node,"contrast",0,(0,v.getNumberValidator)(),a.Factory.afterSetFilter),mu}var vu={},ep;function tg(){if(ep)return vu;ep=1,Object.defineProperty(vu,"__esModule",{value:!0}),vu.Emboss=void 0;const a=$e(),d=Qt(),v=Wt(),f=tt(),E=function(g){const u=this.embossStrength()*10,y=this.embossWhiteLevel()*255,m=this.embossDirection(),S=this.embossBlend(),k=g.data,b=g.width,j=g.height,C=b*4;let N=0,P=0,I=j;switch(m){case"top-left":N=-1,P=-1;break;case"top":N=-1,P=0;break;case"top-right":N=-1,P=1;break;case"right":N=0,P=1;break;case"bottom-right":N=1,P=1;break;case"bottom":N=1,P=0;break;case"bottom-left":N=1,P=-1;break;case"left":N=0,P=-1;break;default:v.Util.error("Unknown emboss direction: "+m)}do{const G=(I-1)*C;let _=N;I+_<1&&(_=0),I+_>j&&(_=0);const h=(I-1+_)*b*4;let T=b;do{const A=G+(T-1)*4;let O=P;T+O<1&&(O=0),T+O>b&&(O=0);const W=h+(T-1+O)*4,z=k[A]-k[W],R=k[A+1]-k[W+1],F=k[A+2]-k[W+2];let K=z;const Z=K>0?K:-K,Y=R>0?R:-R,$=F>0?F:-F;if(Y>Z&&(K=R),$>Z&&(K=F),K*=u,S){const Q=k[A]+K,re=k[A+1]+K,L=k[A+2]+K;k[A]=Q>255?255:Q<0?0:Q,k[A+1]=re>255?255:re<0?0:re,k[A+2]=L>255?255:L<0?0:L}else{let Q=y-K;Q<0?Q=0:Q>255&&(Q=255),k[A]=k[A+1]=k[A+2]=Q}}while(--T)}while(--I)};return vu.Emboss=E,a.Factory.addGetterSetter(d.Node,"embossStrength",.5,(0,f.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(d.Node,"embossWhiteLevel",.5,(0,f.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(d.Node,"embossDirection","top-left",void 0,a.Factory.afterSetFilter),a.Factory.addGetterSetter(d.Node,"embossBlend",!1,void 0,a.Factory.afterSetFilter),vu}var yu={},tp;function ng(){if(tp)return yu;tp=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.Enhance=void 0;const a=$e(),d=Qt(),v=tt();function f(g,u,y,m,S){const k=y-u,b=S-m;if(k===0)return m+b/2;if(b===0)return m;let j=(g-u)/k;return j=b*j+m,j}const E=function(g){const u=g.data,y=u.length;let m=u[0],S=m,k,b=u[1],j=b,C,N=u[2],P=N,I;const G=this.enhance();if(G===0)return;for(let z=0;z<y;z+=4)k=u[z+0],k<m?m=k:k>S&&(S=k),C=u[z+1],C<b?b=C:C>j&&(j=C),I=u[z+2],I<N?N=I:I>P&&(P=I);S===m&&(S=255,m=0),j===b&&(j=255,b=0),P===N&&(P=255,N=0);let _,h,T,A,O,W;if(G>0)_=S+G*(255-S),h=m-G*(m-0),T=j+G*(255-j),A=b-G*(b-0),O=P+G*(255-P),W=N-G*(N-0);else{const z=(S+m)*.5;_=S+G*(S-z),h=m+G*(m-z);const R=(j+b)*.5;T=j+G*(j-R),A=b+G*(b-R);const F=(P+N)*.5;O=P+G*(P-F),W=N+G*(N-F)}for(let z=0;z<y;z+=4)u[z+0]=f(u[z+0],m,S,h,_),u[z+1]=f(u[z+1],b,j,A,T),u[z+2]=f(u[z+2],N,P,W,O)};return yu.Enhance=E,a.Factory.addGetterSetter(d.Node,"enhance",0,(0,v.getNumberValidator)(),a.Factory.afterSetFilter),yu}var xu={},np;function rg(){if(np)return xu;np=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.Grayscale=void 0;const a=function(d){const v=d.data,f=v.length;for(let E=0;E<f;E+=4){const g=.34*v[E]+.5*v[E+1]+.16*v[E+2];v[E]=g,v[E+1]=g,v[E+2]=g}};return xu.Grayscale=a,xu}var Su={},rp;function ig(){if(rp)return Su;rp=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.HSL=void 0;const a=$e(),d=Qt(),v=tt();a.Factory.addGetterSetter(d.Node,"hue",0,(0,v.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(d.Node,"saturation",0,(0,v.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(d.Node,"luminance",0,(0,v.getNumberValidator)(),a.Factory.afterSetFilter);const f=function(E){const g=E.data,u=g.length,y=1,m=Math.pow(2,this.saturation()),S=Math.abs(this.hue()+360)%360,k=this.luminance()*127,b=y*m*Math.cos(S*Math.PI/180),j=y*m*Math.sin(S*Math.PI/180),C=.299*y+.701*b+.167*j,N=.587*y-.587*b+.33*j,P=.114*y-.114*b-.497*j,I=.299*y-.299*b-.328*j,G=.587*y+.413*b+.035*j,_=.114*y-.114*b+.293*j,h=.299*y-.3*b+1.25*j,T=.587*y-.586*b-1.05*j,A=.114*y+.886*b-.2*j;let O,W,z,R;for(let F=0;F<u;F+=4)O=g[F+0],W=g[F+1],z=g[F+2],R=g[F+3],g[F+0]=C*O+N*W+P*z+k,g[F+1]=I*O+G*W+_*z+k,g[F+2]=h*O+T*W+A*z+k,g[F+3]=R};return Su.HSL=f,Su}var _u={},ip;function sg(){if(ip)return _u;ip=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.HSV=void 0;const a=$e(),d=Qt(),v=tt(),f=function(E){const g=E.data,u=g.length,y=Math.pow(2,this.value()),m=Math.pow(2,this.saturation()),S=Math.abs(this.hue()+360)%360,k=y*m*Math.cos(S*Math.PI/180),b=y*m*Math.sin(S*Math.PI/180),j=.299*y+.701*k+.167*b,C=.587*y-.587*k+.33*b,N=.114*y-.114*k-.497*b,P=.299*y-.299*k-.328*b,I=.587*y+.413*k+.035*b,G=.114*y-.114*k+.293*b,_=.299*y-.3*k+1.25*b,h=.587*y-.586*k-1.05*b,T=.114*y+.886*k-.2*b;for(let A=0;A<u;A+=4){const O=g[A+0],W=g[A+1],z=g[A+2],R=g[A+3];g[A+0]=j*O+C*W+N*z,g[A+1]=P*O+I*W+G*z,g[A+2]=_*O+h*W+T*z,g[A+3]=R}};return _u.HSV=f,a.Factory.addGetterSetter(d.Node,"hue",0,(0,v.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(d.Node,"saturation",0,(0,v.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(d.Node,"value",0,(0,v.getNumberValidator)(),a.Factory.afterSetFilter),_u}var wu={},sp;function og(){if(sp)return wu;sp=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.Invert=void 0;const a=function(d){const v=d.data,f=v.length;for(let E=0;E<f;E+=4)v[E]=255-v[E],v[E+1]=255-v[E+1],v[E+2]=255-v[E+2]};return wu.Invert=a,wu}var Cu={},op;function lg(){if(op)return Cu;op=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.Kaleidoscope=void 0;const a=$e(),d=Qt(),v=Wt(),f=tt(),E=function(y,m,S){const k=y.data,b=m.data,j=y.width,C=y.height,N=S.polarCenterX||j/2,P=S.polarCenterY||C/2;let I=Math.sqrt(N*N+P*P),G=j-N,_=C-P;const h=Math.sqrt(G*G+_*_);I=h>I?h:I;const T=C,A=j,O=360/A*Math.PI/180;for(let W=0;W<A;W+=1){const z=Math.sin(W*O),R=Math.cos(W*O);for(let F=0;F<T;F+=1){G=Math.floor(N+I*F/T*R),_=Math.floor(P+I*F/T*z);let K=(_*j+G)*4;const Z=k[K+0],Y=k[K+1],$=k[K+2],Q=k[K+3];K=(W+F*j)*4,b[K+0]=Z,b[K+1]=Y,b[K+2]=$,b[K+3]=Q}}},g=function(y,m,S){const k=y.data,b=m.data,j=y.width,C=y.height,N=S.polarCenterX||j/2,P=S.polarCenterY||C/2;let I=Math.sqrt(N*N+P*P),G=j-N,_=C-P;const h=Math.sqrt(G*G+_*_);I=h>I?h:I;const T=C,A=j,O=0;let W,z;for(G=0;G<j;G+=1)for(_=0;_<C;_+=1){const R=G-N,F=_-P,K=Math.sqrt(R*R+F*F)*T/I;let Z=(Math.atan2(F,R)*180/Math.PI+360+O)%360;Z=Z*A/360,W=Math.floor(Z),z=Math.floor(K);let Y=(z*j+W)*4;const $=k[Y+0],Q=k[Y+1],re=k[Y+2],L=k[Y+3];Y=(_*j+G)*4,b[Y+0]=$,b[Y+1]=Q,b[Y+2]=re,b[Y+3]=L}},u=function(y){const m=y.width,S=y.height;let k,b,j,C,N,P,I,G,_,h,T=Math.round(this.kaleidoscopePower());const A=Math.round(this.kaleidoscopeAngle()),O=Math.floor(m*(A%360)/360);if(T<1)return;const W=v.Util.createCanvasElement();W.width=m,W.height=S;const z=W.getContext("2d").getImageData(0,0,m,S);v.Util.releaseCanvas(W),E(y,z,{polarCenterX:m/2,polarCenterY:S/2});let R=m/Math.pow(2,T);for(;R<=8;)R=R*2,T-=1;R=Math.ceil(R);let F=R,K=0,Z=F,Y=1;for(O+R>m&&(K=F,Z=0,Y=-1),b=0;b<S;b+=1)for(k=K;k!==Z;k+=Y)j=Math.round(k+O)%m,_=(m*b+j)*4,N=z.data[_+0],P=z.data[_+1],I=z.data[_+2],G=z.data[_+3],h=(m*b+k)*4,z.data[h+0]=N,z.data[h+1]=P,z.data[h+2]=I,z.data[h+3]=G;for(b=0;b<S;b+=1)for(F=Math.floor(R),C=0;C<T;C+=1){for(k=0;k<F+1;k+=1)_=(m*b+k)*4,N=z.data[_+0],P=z.data[_+1],I=z.data[_+2],G=z.data[_+3],h=(m*b+F*2-k-1)*4,z.data[h+0]=N,z.data[h+1]=P,z.data[h+2]=I,z.data[h+3]=G;F*=2}g(z,y,{})};return Cu.Kaleidoscope=u,a.Factory.addGetterSetter(d.Node,"kaleidoscopePower",2,(0,f.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(d.Node,"kaleidoscopeAngle",0,(0,f.getNumberValidator)(),a.Factory.afterSetFilter),Cu}var ku={},lp;function ag(){if(lp)return ku;lp=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.Mask=void 0;const a=$e(),d=Qt(),v=tt();function f(j,C,N){let P=(N*j.width+C)*4;const I=[];return I.push(j.data[P++],j.data[P++],j.data[P++],j.data[P++]),I}function E(j,C){return Math.sqrt(Math.pow(j[0]-C[0],2)+Math.pow(j[1]-C[1],2)+Math.pow(j[2]-C[2],2))}function g(j){const C=[0,0,0];for(let N=0;N<j.length;N++)C[0]+=j[N][0],C[1]+=j[N][1],C[2]+=j[N][2];return C[0]/=j.length,C[1]/=j.length,C[2]/=j.length,C}function u(j,C){const N=f(j,0,0),P=f(j,j.width-1,0),I=f(j,0,j.height-1),G=f(j,j.width-1,j.height-1),_=C||10;if(E(N,P)<_&&E(P,G)<_&&E(G,I)<_&&E(I,N)<_){const h=g([P,N,G,I]),T=[];for(let A=0;A<j.width*j.height;A++){const O=E(h,[j.data[A*4],j.data[A*4+1],j.data[A*4+2]]);T[A]=O<_?0:255}return T}}function y(j,C){for(let N=0;N<j.width*j.height;N++)j.data[4*N+3]=C[N]}function m(j,C,N){const P=[1,1,1,1,0,1,1,1,1],I=Math.round(Math.sqrt(P.length)),G=Math.floor(I/2),_=[];for(let h=0;h<N;h++)for(let T=0;T<C;T++){const A=h*C+T;let O=0;for(let W=0;W<I;W++)for(let z=0;z<I;z++){const R=h+W-G,F=T+z-G;if(R>=0&&R<N&&F>=0&&F<C){const K=R*C+F,Z=P[W*I+z];O+=j[K]*Z}}_[A]=O===2040?255:0}return _}function S(j,C,N){const P=[1,1,1,1,1,1,1,1,1],I=Math.round(Math.sqrt(P.length)),G=Math.floor(I/2),_=[];for(let h=0;h<N;h++)for(let T=0;T<C;T++){const A=h*C+T;let O=0;for(let W=0;W<I;W++)for(let z=0;z<I;z++){const R=h+W-G,F=T+z-G;if(R>=0&&R<N&&F>=0&&F<C){const K=R*C+F,Z=P[W*I+z];O+=j[K]*Z}}_[A]=O>=1020?255:0}return _}function k(j,C,N){const P=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],I=Math.round(Math.sqrt(P.length)),G=Math.floor(I/2),_=[];for(let h=0;h<N;h++)for(let T=0;T<C;T++){const A=h*C+T;let O=0;for(let W=0;W<I;W++)for(let z=0;z<I;z++){const R=h+W-G,F=T+z-G;if(R>=0&&R<N&&F>=0&&F<C){const K=R*C+F,Z=P[W*I+z];O+=j[K]*Z}}_[A]=O}return _}const b=function(j){const C=this.threshold();let N=u(j,C);return N&&(N=m(N,j.width,j.height),N=S(N,j.width,j.height),N=k(N,j.width,j.height),y(j,N)),j};return ku.Mask=b,a.Factory.addGetterSetter(d.Node,"threshold",0,(0,v.getNumberValidator)(),a.Factory.afterSetFilter),ku}var ju={},ap;function ug(){if(ap)return ju;ap=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.Noise=void 0;const a=$e(),d=Qt(),v=tt(),f=function(E){const g=this.noise()*255,u=E.data,y=u.length,m=g/2;for(let S=0;S<y;S+=4)u[S+0]+=m-2*m*Math.random(),u[S+1]+=m-2*m*Math.random(),u[S+2]+=m-2*m*Math.random()};return ju.Noise=f,a.Factory.addGetterSetter(d.Node,"noise",.2,(0,v.getNumberValidator)(),a.Factory.afterSetFilter),ju}var Nu={},up;function cg(){if(up)return Nu;up=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.Pixelate=void 0;const a=$e(),d=Wt(),v=Qt(),f=tt(),E=function(g){let u=Math.ceil(this.pixelSize()),y=g.width,m=g.height,S=Math.ceil(y/u),k=Math.ceil(m/u),b=g.data;if(u<=0){d.Util.error("pixelSize value can not be <= 0");return}for(let j=0;j<S;j+=1)for(let C=0;C<k;C+=1){let N=0,P=0,I=0,G=0;const _=j*u,h=_+u,T=C*u,A=T+u;let O=0;for(let W=_;W<h;W+=1)if(!(W>=y))for(let z=T;z<A;z+=1){if(z>=m)continue;const R=(y*z+W)*4;N+=b[R+0],P+=b[R+1],I+=b[R+2],G+=b[R+3],O+=1}N=N/O,P=P/O,I=I/O,G=G/O;for(let W=_;W<h;W+=1)if(!(W>=y))for(let z=T;z<A;z+=1){if(z>=m)continue;const R=(y*z+W)*4;b[R+0]=N,b[R+1]=P,b[R+2]=I,b[R+3]=G}}};return Nu.Pixelate=E,a.Factory.addGetterSetter(v.Node,"pixelSize",8,(0,f.getNumberValidator)(),a.Factory.afterSetFilter),Nu}var Eu={},cp;function dg(){if(cp)return Eu;cp=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.Posterize=void 0;const a=$e(),d=Qt(),v=tt(),f=function(E){const g=Math.round(this.levels()*254)+1,u=E.data,y=u.length,m=255/g;for(let S=0;S<y;S+=1)u[S]=Math.floor(u[S]/m)*m};return Eu.Posterize=f,a.Factory.addGetterSetter(d.Node,"levels",.5,(0,v.getNumberValidator)(),a.Factory.afterSetFilter),Eu}var Pu={},dp;function hg(){if(dp)return Pu;dp=1,Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.RGB=void 0;const a=$e(),d=Qt(),v=tt(),f=function(E){const g=E.data,u=g.length,y=this.red(),m=this.green(),S=this.blue();for(let k=0;k<u;k+=4){const b=(.34*g[k]+.5*g[k+1]+.16*g[k+2])/255;g[k]=b*y,g[k+1]=b*m,g[k+2]=b*S,g[k+3]=g[k+3]}};return Pu.RGB=f,a.Factory.addGetterSetter(d.Node,"red",0,function(E){return this._filterUpToDate=!1,E>255?255:E<0?0:Math.round(E)}),a.Factory.addGetterSetter(d.Node,"green",0,function(E){return this._filterUpToDate=!1,E>255?255:E<0?0:Math.round(E)}),a.Factory.addGetterSetter(d.Node,"blue",0,v.RGBComponent,a.Factory.afterSetFilter),Pu}var Tu={},hp;function fg(){if(hp)return Tu;hp=1,Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.RGBA=void 0;const a=$e(),d=Qt(),v=tt(),f=function(E){const g=E.data,u=g.length,y=this.red(),m=this.green(),S=this.blue(),k=this.alpha();for(let b=0;b<u;b+=4){const j=1-k;g[b]=y*k+g[b]*j,g[b+1]=m*k+g[b+1]*j,g[b+2]=S*k+g[b+2]*j}};return Tu.RGBA=f,a.Factory.addGetterSetter(d.Node,"red",0,function(E){return this._filterUpToDate=!1,E>255?255:E<0?0:Math.round(E)}),a.Factory.addGetterSetter(d.Node,"green",0,function(E){return this._filterUpToDate=!1,E>255?255:E<0?0:Math.round(E)}),a.Factory.addGetterSetter(d.Node,"blue",0,v.RGBComponent,a.Factory.afterSetFilter),a.Factory.addGetterSetter(d.Node,"alpha",1,function(E){return this._filterUpToDate=!1,E>1?1:E<0?0:E}),Tu}var Ru={},fp;function pg(){if(fp)return Ru;fp=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.Sepia=void 0;const a=function(d){const v=d.data,f=v.length;for(let E=0;E<f;E+=4){const g=v[E+0],u=v[E+1],y=v[E+2];v[E+0]=Math.min(255,g*.393+u*.769+y*.189),v[E+1]=Math.min(255,g*.349+u*.686+y*.168),v[E+2]=Math.min(255,g*.272+u*.534+y*.131)}};return Ru.Sepia=a,Ru}var Mu={},pp;function gg(){if(pp)return Mu;pp=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.Solarize=void 0;const a=function(d){const v=d.data,f=d.width,E=d.height,g=f*4;let u=E;do{const y=(u-1)*g;let m=f;do{const S=y+(m-1)*4;let k=v[S],b=v[S+1],j=v[S+2];k>127&&(k=255-k),b>127&&(b=255-b),j>127&&(j=255-j),v[S]=k,v[S+1]=b,v[S+2]=j}while(--m)}while(--u)};return Mu.Solarize=a,Mu}var bu={},gp;function mg(){if(gp)return bu;gp=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.Threshold=void 0;const a=$e(),d=Qt(),v=tt(),f=function(E){const g=this.threshold()*255,u=E.data,y=u.length;for(let m=0;m<y;m+=1)u[m]=u[m]<g?0:255};return bu.Threshold=f,a.Factory.addGetterSetter(d.Node,"threshold",.5,(0,v.getNumberValidator)(),a.Factory.afterSetFilter),bu}var mp;function vg(){if(mp)return qa;mp=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.Konva=void 0;const a=ph(),d=D1(),v=U1(),f=G1(),E=W1(),g=B1(),u=H1(),y=Bp(),m=xh(),S=Hp(),k=V1(),b=q1(),j=K1(),C=Y1(),N=Vp(),P=X1(),I=Q1(),G=J1(),_=Z1(),h=$1(),T=eg(),A=tg(),O=ng(),W=rg(),z=ig(),R=sg(),F=og(),K=lg(),Z=ag(),Y=ug(),$=cg(),Q=dg(),re=hg(),L=fg(),U=pg(),V=gg(),H=mg();return qa.Konva=a.Konva.Util._assign(a.Konva,{Arc:d.Arc,Arrow:v.Arrow,Circle:f.Circle,Ellipse:E.Ellipse,Image:g.Image,Label:u.Label,Tag:u.Tag,Line:y.Line,Path:m.Path,Rect:S.Rect,RegularPolygon:k.RegularPolygon,Ring:b.Ring,Sprite:j.Sprite,Star:C.Star,Text:N.Text,TextPath:P.TextPath,Transformer:I.Transformer,Wedge:G.Wedge,Filters:{Blur:_.Blur,Brighten:h.Brighten,Contrast:T.Contrast,Emboss:A.Emboss,Enhance:O.Enhance,Grayscale:W.Grayscale,HSL:z.HSL,HSV:R.HSV,Invert:F.Invert,Kaleidoscope:K.Kaleidoscope,Mask:Z.Mask,Noise:Y.Noise,Pixelate:$.Pixelate,Posterize:Q.Posterize,RGB:re.RGB,RGBA:L.RGBA,Sepia:U.Sepia,Solarize:V.Solarize,Threshold:H.Threshold}}),qa}var yg=$c.exports,vp;function xg(){if(vp)return $c.exports;vp=1,Object.defineProperty(yg,"__esModule",{value:!0});const a=vg();return $c.exports=a.Konva,$c.exports}xg();var Jc={exports:{}},yp;function Sg(){return yp||(yp=1,(function(a,d){Object.defineProperty(d,"__esModule",{value:!0}),d.Konva=void 0;var v=ph();Object.defineProperty(d,"Konva",{enumerable:!0,get:function(){return v.Konva}});const f=ph();a.exports=f.Konva})(Jc,Jc.exports)),Jc.exports}var _g=Sg();const zu=Du(_g);var ah={exports:{}};var uh,xp;function wg(){return xp||(xp=1,uh=function(d){var v={},f=Hl(),E=gh(),g=Object.assign;function u(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,m=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),N=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),A=Symbol.iterator;function O(n){return n===null||typeof n!="object"?null:(n=A&&n[A]||n["@@iterator"],typeof n=="function"?n:null)}function W(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case S:return"Portal";case j:return"Profiler";case b:return"StrictMode";case I:return"Suspense";case G:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case N:return(n.displayName||"Context")+".Consumer";case C:return(n._context.displayName||"Context")+".Provider";case P:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _:return r=n.displayName||null,r!==null?r:W(n.type)||"Memo";case h:r=n._payload,n=n._init;try{return W(n(r))}catch{}}return null}function z(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(r);case 8:return r===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function R(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function F(n){if(R(n)!==n)throw Error(u(188))}function K(n){var r=n.alternate;if(!r){if(r=R(n),r===null)throw Error(u(188));return r!==n?null:n}for(var o=n,c=r;;){var x=o.return;if(x===null)break;var M=x.alternate;if(M===null){if(c=x.return,c!==null){o=c;continue}break}if(x.child===M.child){for(M=x.child;M;){if(M===o)return F(x),n;if(M===c)return F(x),r;M=M.sibling}throw Error(u(188))}if(o.return!==c.return)o=x,c=M;else{for(var q=!1,le=x.child;le;){if(le===o){q=!0,o=x,c=M;break}if(le===c){q=!0,c=x,o=M;break}le=le.sibling}if(!q){for(le=M.child;le;){if(le===o){q=!0,o=M,c=x;break}if(le===c){q=!0,c=M,o=x;break}le=le.sibling}if(!q)throw Error(u(189))}}if(o.alternate!==c)throw Error(u(190))}if(o.tag!==3)throw Error(u(188));return o.stateNode.current===o?n:r}function Z(n){return n=K(n),n!==null?Y(n):null}function Y(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=Y(n);if(r!==null)return r;n=n.sibling}return null}function $(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){if(n.tag!==4){var r=$(n);if(r!==null)return r}n=n.sibling}return null}var Q=Array.isArray,re=d.getPublicInstance,L=d.getRootHostContext,U=d.getChildHostContext,V=d.prepareForCommit,H=d.resetAfterCommit,D=d.createInstance,J=d.appendInitialChild,te=d.finalizeInitialChildren,ce=d.prepareUpdate,pe=d.shouldSetTextContent,ie=d.createTextInstance,X=d.scheduleTimeout,oe=d.cancelTimeout,ve=d.noTimeout,we=d.isPrimaryRenderer,Ce=d.supportsMutation,Te=d.supportsPersistence,Me=d.supportsHydration,Ve=d.getInstanceFromNode,Ae=d.preparePortalMount,St=d.getCurrentEventPriority,rt=d.detachDeletedInstance,_t=d.supportsMicrotasks,jr=d.scheduleMicrotask,Pt=d.supportsTestSelectors,ir=d.findFiberRoot,at=d.getBoundingRect,zn=d.getTextContent,rn=d.isHiddenSubtree,Nr=d.matchAccessibilityRole,sn=d.setFocusIfFocusable,sr=d.setupIntersectionObserver,pn=d.appendChild,Hn=d.appendChildToContainer,Ft=d.commitTextUpdate,zt=d.commitMount,Ei=d.commitUpdate,no=d.insertBefore,Pi=d.insertInContainerBefore,Vl=d.removeChild,ro=d.removeChildFromContainer,Oo=d.resetTextContent,ql=d.hideInstance,Kl=d.hideTextInstance,Yl=d.unhideInstance,ls=d.unhideTextInstance,as=d.clearContainer,Ou=d.cloneInstance,Xl=d.createContainerChildSet,Ql=d.appendChildToContainerChildSet,Uu=d.finalizeContainerChildren,Uo=d.replaceContainerChildren,Go=d.cloneHiddenInstance,Jl=d.cloneHiddenTextInstance,io=d.canHydrateInstance,Zl=d.canHydrateTextInstance,so=d.canHydrateSuspenseInstance,Gu=d.isSuspenseInstancePending,Ti=d.isSuspenseInstanceFallback,Wo=d.getSuspenseInstanceFallbackErrorDetails,Bo=d.registerSuspenseInstanceRetry,us=d.getNextHydratableSibling,sd=d.getFirstHydratableChild,od=d.getFirstHydratableChildWithinContainer,ld=d.getFirstHydratableChildWithinSuspenseInstance,Ri=d.hydrateInstance,Wu=d.hydrateTextInstance,Bu=d.hydrateSuspenseInstance,ad=d.getNextHydratableInstanceAfterSuspenseInstance,Hu=d.commitHydratedContainer,Vu=d.commitHydratedSuspenseInstance,qu=d.clearSuspenseBoundary,Ku=d.clearSuspenseBoundaryFromContainer,ud=d.shouldDeleteUnhydratedTailInstances,cd=d.didNotMatchHydratedContainerTextInstance,bt=d.didNotMatchHydratedTextInstance,$l;function Mi(n){if($l===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);$l=r&&r[1]||""}return`
`+$l+n}var Ho=!1;function cs(n,r){if(!n||Ho)return"";Ho=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(ke){var c=ke}Reflect.construct(n,[],r)}else{try{r.call()}catch(ke){c=ke}n.call(r.prototype)}else{try{throw Error()}catch(ke){c=ke}n()}}catch(ke){if(ke&&c&&typeof ke.stack=="string"){for(var x=ke.stack.split(`
`),M=c.stack.split(`
`),q=x.length-1,le=M.length-1;1<=q&&0<=le&&x[q]!==M[le];)le--;for(;1<=q&&0<=le;q--,le--)if(x[q]!==M[le]){if(q!==1||le!==1)do if(q--,le--,0>le||x[q]!==M[le]){var ge=`
`+x[q].replace(" at new "," at ");return n.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",n.displayName)),ge}while(1<=q&&0<=le);break}}}finally{Ho=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?Mi(n):""}var dd=Object.prototype.hasOwnProperty,Vo=[],Gr=-1;function on(n){return{current:n}}function mt(n){0>Gr||(n.current=Vo[Gr],Vo[Gr]=null,Gr--)}function Xe(n,r){Gr++,Vo[Gr]=n.current,n.current=r}var ri={},gn=on(ri),An=on(!1),Er=ri;function Wr(n,r){var o=n.type.contextTypes;if(!o)return ri;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var x={},M;for(M in o)x[M]=r[M];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=x),x}function Jt(n){return n=n.childContextTypes,n!=null}function bi(){mt(An),mt(gn)}function Yu(n,r,o){if(gn.current!==ri)throw Error(u(168));Xe(gn,r),Xe(An,o)}function Xu(n,r,o){var c=n.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var x in c)if(!(x in r))throw Error(u(108,z(n)||"Unknown",x));return g({},o,c)}function ds(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ri,Er=gn.current,Xe(gn,n),Xe(An,An.current),!0}function ea(n,r,o){var c=n.stateNode;if(!c)throw Error(u(169));o?(n=Xu(n,r,Er),c.__reactInternalMemoizedMergedChildContext=n,mt(An),mt(gn),Xe(gn,n)):mt(An),Xe(An,o)}var Vn=Math.clz32?Math.clz32:ta,oo=Math.log,hd=Math.LN2;function ta(n){return n>>>=0,n===0?32:31-(oo(n)/hd|0)|0}var nt=64,lo=4194304;function hs(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function fs(n,r){var o=n.pendingLanes;if(o===0)return 0;var c=0,x=n.suspendedLanes,M=n.pingedLanes,q=o&268435455;if(q!==0){var le=q&~x;le!==0?c=hs(le):(M&=q,M!==0&&(c=hs(M)))}else q=o&~x,q!==0?c=hs(q):M!==0&&(c=hs(M));if(c===0)return 0;if(r!==0&&r!==c&&(r&x)===0&&(x=c&-c,M=r&-r,x>=M||x===16&&(M&4194240)!==0))return r;if((c&4)!==0&&(c|=o&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=c;0<r;)o=31-Vn(r),x=1<<o,c|=n[o],r&=~x;return c}function Qu(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ju(n,r){for(var o=n.suspendedLanes,c=n.pingedLanes,x=n.expirationTimes,M=n.pendingLanes;0<M;){var q=31-Vn(M),le=1<<q,ge=x[q];ge===-1?((le&o)===0||(le&c)!==0)&&(x[q]=Qu(le,r)):ge<=r&&(n.expiredLanes|=le),M&=~le}}function qo(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ko(){var n=nt;return nt<<=1,(nt&4194240)===0&&(nt=64),n}function ps(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function or(n,r,o){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-Vn(r),n[r]=o}function ii(n,r){var o=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<o;){var x=31-Vn(o),M=1<<x;r[x]=0,c[x]=-1,n[x]=-1,o&=~M}}function Pr(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var c=31-Vn(o),x=1<<c;x&r|n[c]&r&&(n[c]|=r),o&=~x}}var Qe=0;function gs(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Tr=E.unstable_scheduleCallback,Zu=E.unstable_cancelCallback,$u=E.unstable_shouldYield,ao=E.unstable_requestPaint,Zt=E.unstable_now,Yo=E.unstable_ImmediatePriority,Xo=E.unstable_UserBlockingPriority,Qo=E.unstable_NormalPriority,fd=E.unstable_IdlePriority,si=null,Dn=null;function ms(n){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(si,n,void 0,(n.current.flags&128)===128)}catch{}}function Jo(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var vr=typeof Object.is=="function"?Object.is:Jo,Br=null,vs=!1,ys=!1;function Zo(n){Br===null?Br=[n]:Br.push(n)}function ec(n){vs=!0,Zo(n)}function ln(){if(!ys&&Br!==null){ys=!0;var n=0,r=Qe;try{var o=Br;for(Qe=1;n<o.length;n++){var c=o[n];do c=c(!0);while(c!==null)}Br=null,vs=!1}catch(x){throw Br!==null&&(Br=Br.slice(n+1)),Tr(Yo,ln),x}finally{Qe=r,ys=!1}}return null}var oi=[],Hr=0,uo=null,Ii=0,Nn=[],qn=0,Bt=null,On=1,yr="";function xr(n,r){oi[Hr++]=Ii,oi[Hr++]=uo,uo=n,Ii=r}function tc(n,r,o){Nn[qn++]=On,Nn[qn++]=yr,Nn[qn++]=Bt,Bt=n;var c=On;n=yr;var x=32-Vn(c)-1;c&=~(1<<x),o+=1;var M=32-Vn(r)+x;if(30<M){var q=x-x%5;M=(c&(1<<q)-1).toString(32),c>>=q,x-=q,On=1<<32-Vn(r)+x|o<<x|c,yr=M+n}else On=1<<M|o<<x|c,yr=n}function co(n){n.return!==null&&(xr(n,1),tc(n,1,0))}function ho(n){for(;n===uo;)uo=oi[--Hr],oi[Hr]=null,Ii=oi[--Hr],oi[Hr]=null;for(;n===Bt;)Bt=Nn[--qn],Nn[qn]=null,yr=Nn[--qn],Nn[qn]=null,On=Nn[--qn],Nn[qn]=null}var an=null,En=null,vt=!1,fo=!1,Sr=null;function nc(n,r){var o=nr(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=n,r=n.deletions,r===null?(n.deletions=[o],n.flags|=16):r.push(o)}function $o(n,r){switch(n.tag){case 5:return r=io(r,n.type,n.pendingProps),r!==null?(n.stateNode=r,an=n,En=sd(r),!0):!1;case 6:return r=Zl(r,n.pendingProps),r!==null?(n.stateNode=r,an=n,En=null,!0):!1;case 13:if(r=so(r),r!==null){var o=Bt!==null?{id:On,overflow:yr}:null;return n.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=nr(18,null,null,0),o.stateNode=r,o.return=n,n.child=o,an=n,En=null,!0}return!1;default:return!1}}function na(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ra(n){if(vt){var r=En;if(r){var o=r;if(!$o(n,r)){if(na(n))throw Error(u(418));r=us(o);var c=an;r&&$o(n,r)?nc(c,o):(n.flags=n.flags&-4097|2,vt=!1,an=n)}}else{if(na(n))throw Error(u(418));n.flags=n.flags&-4097|2,vt=!1,an=n}}}function rc(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;an=n}function el(n){if(!Me||n!==an)return!1;if(!vt)return rc(n),vt=!0,!1;if(n.tag!==3&&(n.tag!==5||ud(n.type)&&!pe(n.type,n.memoizedProps))){var r=En;if(r){if(na(n))throw ic(),Error(u(418));for(;r;)nc(n,r),r=us(r)}}if(rc(n),n.tag===13){if(!Me)throw Error(u(316));if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(u(317));En=ad(n)}else En=an?us(n.stateNode):null;return!0}function ic(){for(var n=En;n;)n=us(n)}function Li(){Me&&(En=an=null,fo=vt=!1)}function ia(n){Sr===null?Sr=[n]:Sr.push(n)}var pd=y.ReactCurrentBatchConfig;function tl(n,r){if(vr(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var x=o[c];if(!dd.call(r,x)||!vr(n[x],r[x]))return!1}return!0}function gd(n){switch(n.tag){case 5:return Mi(n.type);case 16:return Mi("Lazy");case 13:return Mi("Suspense");case 19:return Mi("SuspenseList");case 0:case 2:case 15:return n=cs(n.type,!1),n;case 11:return n=cs(n.type.render,!1),n;case 1:return n=cs(n.type,!0),n;default:return""}}function Fi(n,r,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(u(309));var c=o.stateNode}if(!c)throw Error(u(147,n));var x=c,M=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===M?r.ref:(r=function(q){var le=x.refs;q===null?delete le[M]:le[M]=q},r._stringRef=M,r)}if(typeof n!="string")throw Error(u(284));if(!o._owner)throw Error(u(290,n))}return n}function nl(n,r){throw n=Object.prototype.toString.call(r),Error(u(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function sc(n){var r=n._init;return r(n._payload)}function oc(n){function r(he,ae){if(n){var me=he.deletions;me===null?(he.deletions=[ae],he.flags|=16):me.push(ae)}}function o(he,ae){if(!n)return null;for(;ae!==null;)r(he,ae),ae=ae.sibling;return null}function c(he,ae){for(he=new Map;ae!==null;)ae.key!==null?he.set(ae.key,ae):he.set(ae.index,ae),ae=ae.sibling;return he}function x(he,ae){return he=ki(he,ae),he.index=0,he.sibling=null,he}function M(he,ae,me){return he.index=me,n?(me=he.alternate,me!==null?(me=me.index,me<ae?(he.flags|=2,ae):me):(he.flags|=2,ae)):(he.flags|=1048576,ae)}function q(he){return n&&he.alternate===null&&(he.flags|=2),he}function le(he,ae,me,Pe){return ae===null||ae.tag!==6?(ae=Bs(me,he.mode,Pe),ae.return=he,ae):(ae=x(ae,me),ae.return=he,ae)}function ge(he,ae,me,Pe){var De=me.type;return De===k?be(he,ae,me.props.children,Pe,me.key):ae!==null&&(ae.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===h&&sc(De)===ae.type)?(Pe=x(ae,me.props),Pe.ref=Fi(he,ae,me),Pe.return=he,Pe):(Pe=Ll(me.type,me.key,me.props,null,he.mode,Pe),Pe.ref=Fi(he,ae,me),Pe.return=he,Pe)}function ke(he,ae,me,Pe){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==me.containerInfo||ae.stateNode.implementation!==me.implementation?(ae=Fl(me,he.mode,Pe),ae.return=he,ae):(ae=x(ae,me.children||[]),ae.return=he,ae)}function be(he,ae,me,Pe,De){return ae===null||ae.tag!==7?(ae=dn(me,he.mode,Pe,De),ae.return=he,ae):(ae=x(ae,me),ae.return=he,ae)}function We(he,ae,me){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=Bs(""+ae,he.mode,me),ae.return=he,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case m:return me=Ll(ae.type,ae.key,ae.props,null,he.mode,me),me.ref=Fi(he,null,ae),me.return=he,me;case S:return ae=Fl(ae,he.mode,me),ae.return=he,ae;case h:var Pe=ae._init;return We(he,Pe(ae._payload),me)}if(Q(ae)||O(ae))return ae=dn(ae,he.mode,me,null),ae.return=he,ae;nl(he,ae)}return null}function Ee(he,ae,me,Pe){var De=ae!==null?ae.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return De!==null?null:le(he,ae,""+me,Pe);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case m:return me.key===De?ge(he,ae,me,Pe):null;case S:return me.key===De?ke(he,ae,me,Pe):null;case h:return De=me._init,Ee(he,ae,De(me._payload),Pe)}if(Q(me)||O(me))return De!==null?null:be(he,ae,me,Pe,null);nl(he,me)}return null}function gt(he,ae,me,Pe,De){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return he=he.get(me)||null,le(ae,he,""+Pe,De);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case m:return he=he.get(Pe.key===null?me:Pe.key)||null,ge(ae,he,Pe,De);case S:return he=he.get(Pe.key===null?me:Pe.key)||null,ke(ae,he,Pe,De);case h:var qe=Pe._init;return gt(he,ae,me,qe(Pe._payload),De)}if(Q(Pe)||O(Pe))return he=he.get(me)||null,be(ae,he,Pe,De,null);nl(ae,Pe)}return null}function lt(he,ae,me,Pe){for(var De=null,qe=null,Be=ae,et=ae=0,Yt=null;Be!==null&&et<me.length;et++){Be.index>et?(Yt=Be,Be=null):Yt=Be.sibling;var Ze=Ee(he,Be,me[et],Pe);if(Ze===null){Be===null&&(Be=Yt);break}n&&Be&&Ze.alternate===null&&r(he,Be),ae=M(Ze,ae,et),qe===null?De=Ze:qe.sibling=Ze,qe=Ze,Be=Yt}if(et===me.length)return o(he,Be),vt&&xr(he,et),De;if(Be===null){for(;et<me.length;et++)Be=We(he,me[et],Pe),Be!==null&&(ae=M(Be,ae,et),qe===null?De=Be:qe.sibling=Be,qe=Be);return vt&&xr(he,et),De}for(Be=c(he,Be);et<me.length;et++)Yt=gt(Be,he,et,me[et],Pe),Yt!==null&&(n&&Yt.alternate!==null&&Be.delete(Yt.key===null?et:Yt.key),ae=M(Yt,ae,et),qe===null?De=Yt:qe.sibling=Yt,qe=Yt);return n&&Be.forEach(function(_n){return r(he,_n)}),vt&&xr(he,et),De}function In(he,ae,me,Pe){var De=O(me);if(typeof De!="function")throw Error(u(150));if(me=De.call(me),me==null)throw Error(u(151));for(var qe=De=null,Be=ae,et=ae=0,Yt=null,Ze=me.next();Be!==null&&!Ze.done;et++,Ze=me.next()){Be.index>et?(Yt=Be,Be=null):Yt=Be.sibling;var _n=Ee(he,Be,Ze.value,Pe);if(_n===null){Be===null&&(Be=Yt);break}n&&Be&&_n.alternate===null&&r(he,Be),ae=M(_n,ae,et),qe===null?De=_n:qe.sibling=_n,qe=_n,Be=Yt}if(Ze.done)return o(he,Be),vt&&xr(he,et),De;if(Be===null){for(;!Ze.done;et++,Ze=me.next())Ze=We(he,Ze.value,Pe),Ze!==null&&(ae=M(Ze,ae,et),qe===null?De=Ze:qe.sibling=Ze,qe=Ze);return vt&&xr(he,et),De}for(Be=c(he,Be);!Ze.done;et++,Ze=me.next())Ze=gt(Be,he,et,Ze.value,Pe),Ze!==null&&(n&&Ze.alternate!==null&&Be.delete(Ze.key===null?et:Ze.key),ae=M(Ze,ae,et),qe===null?De=Ze:qe.sibling=Ze,qe=Ze);return n&&Be.forEach(function(Sd){return r(he,Sd)}),vt&&xr(he,et),De}function Dr(he,ae,me,Pe){if(typeof me=="object"&&me!==null&&me.type===k&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case m:e:{for(var De=me.key,qe=ae;qe!==null;){if(qe.key===De){if(De=me.type,De===k){if(qe.tag===7){o(he,qe.sibling),ae=x(qe,me.props.children),ae.return=he,he=ae;break e}}else if(qe.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===h&&sc(De)===qe.type){o(he,qe.sibling),ae=x(qe,me.props),ae.ref=Fi(he,qe,me),ae.return=he,he=ae;break e}o(he,qe);break}else r(he,qe);qe=qe.sibling}me.type===k?(ae=dn(me.props.children,he.mode,Pe,me.key),ae.return=he,he=ae):(Pe=Ll(me.type,me.key,me.props,null,he.mode,Pe),Pe.ref=Fi(he,ae,me),Pe.return=he,he=Pe)}return q(he);case S:e:{for(qe=me.key;ae!==null;){if(ae.key===qe)if(ae.tag===4&&ae.stateNode.containerInfo===me.containerInfo&&ae.stateNode.implementation===me.implementation){o(he,ae.sibling),ae=x(ae,me.children||[]),ae.return=he,he=ae;break e}else{o(he,ae);break}else r(he,ae);ae=ae.sibling}ae=Fl(me,he.mode,Pe),ae.return=he,he=ae}return q(he);case h:return qe=me._init,Dr(he,ae,qe(me._payload),Pe)}if(Q(me))return lt(he,ae,me,Pe);if(O(me))return In(he,ae,me,Pe);nl(he,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,ae!==null&&ae.tag===6?(o(he,ae.sibling),ae=x(ae,me),ae.return=he,he=ae):(o(he,ae),ae=Bs(me,he.mode,Pe),ae.return=he,he=ae),q(he)):o(he,ae)}return Dr}var zi=oc(!0),lc=oc(!1),rl=on(null),il=null,xs=null,sa=null;function oa(){sa=xs=il=null}function ac(n,r,o){we?(Xe(rl,r._currentValue),r._currentValue=o):(Xe(rl,r._currentValue2),r._currentValue2=o)}function po(n){var r=rl.current;mt(rl),we?n._currentValue=r:n._currentValue2=r}function Ai(n,r,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===o)break;n=n.return}}function Ss(n,r){il=n,sa=xs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(Vt=!0),n.firstContext=null)}function Kn(n){var r=we?n._currentValue:n._currentValue2;if(sa!==n)if(n={context:n,memoizedValue:r,next:null},xs===null){if(il===null)throw Error(u(308));xs=n,il.dependencies={lanes:0,firstContext:n}}else xs=xs.next=n;return r}var li=null;function sl(n){li===null?li=[n]:li.push(n)}function la(n,r,o,c){var x=r.interleaved;return x===null?(o.next=o,sl(r)):(o.next=x.next,x.next=o),r.interleaved=o,_r(n,c)}function _r(n,r){n.lanes|=r;var o=n.alternate;for(o!==null&&(o.lanes|=r),o=n,n=n.return;n!==null;)n.childLanes|=r,o=n.alternate,o!==null&&(o.childLanes|=r),o=n,n=n.return;return o.tag===3?o.stateNode:null}var Yn=!1;function aa(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uc(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Vr(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function qr(n,r,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(He&2)!==0){var x=c.pending;return x===null?r.next=r:(r.next=x.next,x.next=r),c.pending=r,_r(n,o)}return x=c.interleaved,x===null?(r.next=r,sl(c)):(r.next=x.next,x.next=r),c.interleaved=r,_r(n,o)}function go(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,Pr(n,o)}}function _s(n,r){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var x=null,M=null;if(o=o.firstBaseUpdate,o!==null){do{var q={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};M===null?x=M=q:M=M.next=q,o=o.next}while(o!==null);M===null?x=M=r:M=M.next=r}else x=M=r;o={baseState:c.baseState,firstBaseUpdate:x,lastBaseUpdate:M,shared:c.shared,effects:c.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}function ai(n,r,o,c){var x=n.updateQueue;Yn=!1;var M=x.firstBaseUpdate,q=x.lastBaseUpdate,le=x.shared.pending;if(le!==null){x.shared.pending=null;var ge=le,ke=ge.next;ge.next=null,q===null?M=ke:q.next=ke,q=ge;var be=n.alternate;be!==null&&(be=be.updateQueue,le=be.lastBaseUpdate,le!==q&&(le===null?be.firstBaseUpdate=ke:le.next=ke,be.lastBaseUpdate=ge))}if(M!==null){var We=x.baseState;q=0,be=ke=ge=null,le=M;do{var Ee=le.lane,gt=le.eventTime;if((c&Ee)===Ee){be!==null&&(be=be.next={eventTime:gt,lane:0,tag:le.tag,payload:le.payload,callback:le.callback,next:null});e:{var lt=n,In=le;switch(Ee=r,gt=o,In.tag){case 1:if(lt=In.payload,typeof lt=="function"){We=lt.call(gt,We,Ee);break e}We=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=In.payload,Ee=typeof lt=="function"?lt.call(gt,We,Ee):lt,Ee==null)break e;We=g({},We,Ee);break e;case 2:Yn=!0}}le.callback!==null&&le.lane!==0&&(n.flags|=64,Ee=x.effects,Ee===null?x.effects=[le]:Ee.push(le))}else gt={eventTime:gt,lane:Ee,tag:le.tag,payload:le.payload,callback:le.callback,next:null},be===null?(ke=be=gt,ge=We):be=be.next=gt,q|=Ee;if(le=le.next,le===null){if(le=x.shared.pending,le===null)break;Ee=le,le=Ee.next,Ee.next=null,x.lastBaseUpdate=Ee,x.shared.pending=null}}while(!0);if(be===null&&(ge=We),x.baseState=ge,x.firstBaseUpdate=ke,x.lastBaseUpdate=be,r=x.shared.interleaved,r!==null){x=r;do q|=x.lane,x=x.next;while(x!==r)}else M===null&&(x.shared.lanes=0);Jr|=q,n.lanes=q,n.memoizedState=We}}function cc(n,r,o){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var c=n[r],x=c.callback;if(x!==null){if(c.callback=null,c=o,typeof x!="function")throw Error(u(191,x));x.call(c)}}}var ui={},lr=on(ui),ws=on(ui),ci=on(ui);function ar(n){if(n===ui)throw Error(u(174));return n}function ol(n,r){Xe(ci,r),Xe(ws,n),Xe(lr,ui),n=L(r),mt(lr),Xe(lr,n)}function Di(){mt(lr),mt(ws),mt(ci)}function ua(n){var r=ar(ci.current),o=ar(lr.current);r=U(o,n.type,r),o!==r&&(Xe(ws,n),Xe(lr,r))}function ca(n){ws.current===n&&(mt(lr),mt(ws))}var Et=on(0);function ll(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Gu(o)||Ti(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var da=[];function ha(){for(var n=0;n<da.length;n++){var r=da[n];we?r._workInProgressVersionPrimary=null:r._workInProgressVersionSecondary=null}da.length=0}var Un=y.ReactCurrentDispatcher,Oi=y.ReactCurrentBatchConfig,di=0,wt=null,At=null,Ht=null,Cs=!1,mo=!1,vo=0,ks=0;function $t(){throw Error(u(321))}function Ui(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!vr(n[o],r[o]))return!1;return!0}function yo(n,r,o,c,x,M){if(di=M,wt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Un.current=n===null||n.memoizedState===null?wa:Ca,n=o(c,x),mo){M=0;do{if(mo=!1,vo=0,25<=M)throw Error(u(301));M+=1,Ht=At=null,r.updateQueue=null,Un.current=ka,n=o(c,x)}while(mo)}if(Un.current=Vi,r=At!==null&&At.next!==null,di=0,Ht=At=wt=null,Cs=!1,r)throw Error(u(300));return n}function al(){var n=vo!==0;return vo=0,n}function Xn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?wt.memoizedState=Ht=n:Ht=Ht.next=n,Ht}function un(){if(At===null){var n=wt.alternate;n=n!==null?n.memoizedState:null}else n=At.next;var r=Ht===null?wt.memoizedState:Ht.next;if(r!==null)Ht=r,At=n;else{if(n===null)throw Error(u(310));At=n,n={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Ht===null?wt.memoizedState=Ht=n:Ht=Ht.next=n}return Ht}function Gi(n,r){return typeof r=="function"?r(n):r}function ul(n){var r=un(),o=r.queue;if(o===null)throw Error(u(311));o.lastRenderedReducer=n;var c=At,x=c.baseQueue,M=o.pending;if(M!==null){if(x!==null){var q=x.next;x.next=M.next,M.next=q}c.baseQueue=x=M,o.pending=null}if(x!==null){M=x.next,c=c.baseState;var le=q=null,ge=null,ke=M;do{var be=ke.lane;if((di&be)===be)ge!==null&&(ge=ge.next={lane:0,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),c=ke.hasEagerState?ke.eagerState:n(c,ke.action);else{var We={lane:be,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null};ge===null?(le=ge=We,q=c):ge=ge.next=We,wt.lanes|=be,Jr|=be}ke=ke.next}while(ke!==null&&ke!==M);ge===null?q=c:ge.next=le,vr(c,r.memoizedState)||(Vt=!0),r.memoizedState=c,r.baseState=q,r.baseQueue=ge,o.lastRenderedState=c}if(n=o.interleaved,n!==null){x=n;do M=x.lane,wt.lanes|=M,Jr|=M,x=x.next;while(x!==n)}else x===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function js(n){var r=un(),o=r.queue;if(o===null)throw Error(u(311));o.lastRenderedReducer=n;var c=o.dispatch,x=o.pending,M=r.memoizedState;if(x!==null){o.pending=null;var q=x=x.next;do M=n(M,q.action),q=q.next;while(q!==x);vr(M,r.memoizedState)||(Vt=!0),r.memoizedState=M,r.baseQueue===null&&(r.baseState=M),o.lastRenderedState=M}return[M,c]}function fa(){}function pa(n,r){var o=wt,c=un(),x=r(),M=!vr(c.memoizedState,x);if(M&&(c.memoizedState=x,Vt=!0),c=c.queue,hl(va.bind(null,o,c,n),[n]),c.getSnapshot!==r||M||Ht!==null&&Ht.memoizedState.tag&1){if(o.flags|=2048,Wi(9,ma.bind(null,o,c,x,r),void 0,null),dt===null)throw Error(u(349));(di&30)!==0||ga(o,r,x)}return x}function ga(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=wt.updateQueue,r===null?(r={lastEffect:null,stores:null},wt.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function ma(n,r,o,c){r.value=o,r.getSnapshot=c,ya(r)&&Kr(n)}function va(n,r,o){return o(function(){ya(r)&&Kr(n)})}function ya(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!vr(n,o)}catch{return!0}}function Kr(n){var r=_r(n,1);r!==null&&xn(r,n,1,-1)}function cl(n){var r=Xn();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:n},r.queue=n,n=n.dispatch=md.bind(null,wt,n),[r.memoizedState,n]}function Wi(n,r,o,c){return n={tag:n,create:r,destroy:o,deps:c,next:null},r=wt.updateQueue,r===null?(r={lastEffect:null,stores:null},wt.updateQueue=r,r.lastEffect=n.next=n):(o=r.lastEffect,o===null?r.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,r.lastEffect=n)),n}function dc(){return un().memoizedState}function dl(n,r,o,c){var x=Xn();wt.flags|=n,x.memoizedState=Wi(1|r,o,void 0,c===void 0?null:c)}function hi(n,r,o,c){var x=un();c=c===void 0?null:c;var M=void 0;if(At!==null){var q=At.memoizedState;if(M=q.destroy,c!==null&&Ui(c,q.deps)){x.memoizedState=Wi(r,o,M,c);return}}wt.flags|=n,x.memoizedState=Wi(1|r,o,M,c)}function hc(n,r){return dl(8390656,8,n,r)}function hl(n,r){return hi(2048,8,n,r)}function xa(n,r){return hi(4,2,n,r)}function ht(n,r){return hi(4,4,n,r)}function fl(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function xo(n,r,o){return o=o!=null?o.concat([n]):null,hi(4,4,fl.bind(null,r,n),o)}function Bi(){}function Sa(n,r){var o=un();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Ui(r,c[1])?c[0]:(o.memoizedState=[n,r],n)}function pl(n,r){var o=un();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Ui(r,c[1])?c[0]:(n=n(),o.memoizedState=[n,r],n)}function Ns(n,r,o){return(di&21)===0?(n.baseState&&(n.baseState=!1,Vt=!0),n.memoizedState=o):(vr(o,r)||(o=Ko(),wt.lanes|=o,Jr|=o,n.baseState=!0),r)}function gl(n,r){var o=Qe;Qe=o!==0&&4>o?o:4,n(!0);var c=Oi.transition;Oi.transition={};try{n(!1),r()}finally{Qe=o,Oi.transition=c}}function Hi(){return un().memoizedState}function fc(n,r,o){var c=Kt(n);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},pc(n))_a(r,o);else if(o=la(n,r,o,c),o!==null){var x=yt();xn(o,n,c,x),So(o,r,c)}}function md(n,r,o){var c=Kt(n),x={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(pc(n))_a(r,x);else{var M=n.alternate;if(n.lanes===0&&(M===null||M.lanes===0)&&(M=r.lastRenderedReducer,M!==null))try{var q=r.lastRenderedState,le=M(q,o);if(x.hasEagerState=!0,x.eagerState=le,vr(le,q)){var ge=r.interleaved;ge===null?(x.next=x,sl(r)):(x.next=ge.next,ge.next=x),r.interleaved=x;return}}catch{}o=la(n,r,x,c),o!==null&&(x=yt(),xn(o,n,c,x),So(o,r,c))}}function pc(n){var r=n.alternate;return n===wt||r!==null&&r===wt}function _a(n,r){mo=Cs=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function So(n,r,o){if((o&4194240)!==0){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,Pr(n,o)}}var Vi={readContext:Kn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},wa={readContext:Kn,useCallback:function(n,r){return Xn().memoizedState=[n,r===void 0?null:r],n},useContext:Kn,useEffect:hc,useImperativeHandle:function(n,r,o){return o=o!=null?o.concat([n]):null,dl(4194308,4,fl.bind(null,r,n),o)},useLayoutEffect:function(n,r){return dl(4194308,4,n,r)},useInsertionEffect:function(n,r){return dl(4,2,n,r)},useMemo:function(n,r){var o=Xn();return r=r===void 0?null:r,n=n(),o.memoizedState=[n,r],n},useReducer:function(n,r,o){var c=Xn();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},c.queue=n,n=n.dispatch=fc.bind(null,wt,n),[c.memoizedState,n]},useRef:function(n){var r=Xn();return n={current:n},r.memoizedState=n},useState:cl,useDebugValue:Bi,useDeferredValue:function(n){return Xn().memoizedState=n},useTransition:function(){var n=cl(!1),r=n[0];return n=gl.bind(null,n[1]),Xn().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,o){var c=wt,x=Xn();if(vt){if(o===void 0)throw Error(u(407));o=o()}else{if(o=r(),dt===null)throw Error(u(349));(di&30)!==0||ga(c,r,o)}x.memoizedState=o;var M={value:o,getSnapshot:r};return x.queue=M,hc(va.bind(null,c,M,n),[n]),c.flags|=2048,Wi(9,ma.bind(null,c,M,o,r),void 0,null),o},useId:function(){var n=Xn(),r=dt.identifierPrefix;if(vt){var o=yr,c=On;o=(c&~(1<<32-Vn(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=vo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=ks++,r=":"+r+"r"+o.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},Ca={readContext:Kn,useCallback:Sa,useContext:Kn,useEffect:hl,useImperativeHandle:xo,useInsertionEffect:xa,useLayoutEffect:ht,useMemo:pl,useReducer:ul,useRef:dc,useState:function(){return ul(Gi)},useDebugValue:Bi,useDeferredValue:function(n){var r=un();return Ns(r,At.memoizedState,n)},useTransition:function(){var n=ul(Gi)[0],r=un().memoizedState;return[n,r]},useMutableSource:fa,useSyncExternalStore:pa,useId:Hi,unstable_isNewReconciler:!1},ka={readContext:Kn,useCallback:Sa,useContext:Kn,useEffect:hl,useImperativeHandle:xo,useInsertionEffect:xa,useLayoutEffect:ht,useMemo:pl,useReducer:js,useRef:dc,useState:function(){return js(Gi)},useDebugValue:Bi,useDeferredValue:function(n){var r=un();return At===null?r.memoizedState=n:Ns(r,At.memoizedState,n)},useTransition:function(){var n=js(Gi)[0],r=un().memoizedState;return[n,r]},useMutableSource:fa,useSyncExternalStore:pa,useId:Hi,unstable_isNewReconciler:!1};function Qn(n,r){if(n&&n.defaultProps){r=g({},r),n=n.defaultProps;for(var o in n)r[o]===void 0&&(r[o]=n[o]);return r}return r}function ja(n,r,o,c){r=n.memoizedState,o=o(c,r),o=o==null?r:g({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var _o={isMounted:function(n){return(n=n._reactInternals)?R(n)===n:!1},enqueueSetState:function(n,r,o){n=n._reactInternals;var c=yt(),x=Kt(n),M=Vr(c,x);M.payload=r,o!=null&&(M.callback=o),r=qr(n,M,x),r!==null&&(xn(r,n,x,c),go(r,n,x))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var c=yt(),x=Kt(n),M=Vr(c,x);M.tag=1,M.payload=r,o!=null&&(M.callback=o),r=qr(n,M,x),r!==null&&(xn(r,n,x,c),go(r,n,x))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=yt(),c=Kt(n),x=Vr(o,c);x.tag=2,r!=null&&(x.callback=r),r=qr(n,x,c),r!==null&&(xn(r,n,c,o),go(r,n,c))}};function gc(n,r,o,c,x,M,q){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,M,q):r.prototype&&r.prototype.isPureReactComponent?!tl(o,c)||!tl(x,M):!0}function mc(n,r,o){var c=!1,x=ri,M=r.contextType;return typeof M=="object"&&M!==null?M=Kn(M):(x=Jt(r)?Er:gn.current,c=r.contextTypes,M=(c=c!=null)?Wr(n,x):ri),r=new r(o,M),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=_o,n.stateNode=r,r._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=x,n.__reactInternalMemoizedMaskedChildContext=M),r}function ml(n,r,o,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==n&&_o.enqueueReplaceState(r,r.state,null)}function Rr(n,r,o,c){var x=n.stateNode;x.props=o,x.state=n.memoizedState,x.refs={},aa(n);var M=r.contextType;typeof M=="object"&&M!==null?x.context=Kn(M):(M=Jt(r)?Er:gn.current,x.context=Wr(n,M)),x.state=n.memoizedState,M=r.getDerivedStateFromProps,typeof M=="function"&&(ja(n,r,M,o),x.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(r=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),r!==x.state&&_o.enqueueReplaceState(x,x.state,null),ai(n,o,x,c),x.state=n.memoizedState),typeof x.componentDidMount=="function"&&(n.flags|=4194308)}function qi(n,r){try{var o="",c=r;do o+=gd(c),c=c.return;while(c);var x=o}catch(M){x=`
Error generating stack: `+M.message+`
`+M.stack}return{value:n,source:r,stack:x,digest:null}}function fi(n,r,o){return{value:n,source:null,stack:o??null,digest:r??null}}function ur(n,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var wo=typeof WeakMap=="function"?WeakMap:Map;function Mr(n,r,o){o=Vr(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){Rt||(Rt=!0,Dt=c),ur(n,r)},o}function vl(n,r,o){o=Vr(-1,o),o.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var x=r.value;o.payload=function(){return c(x)},o.callback=function(){ur(n,r)}}var M=n.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(o.callback=function(){ur(n,r),typeof c!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var q=r.stack;this.componentDidCatch(r.value,{componentStack:q!==null?q:""})}),o}function vc(n,r,o){var c=n.pingCache;if(c===null){c=n.pingCache=new wo;var x=new Set;c.set(r,x)}else x=c.get(r),x===void 0&&(x=new Set,c.set(r,x));x.has(o)||(x.add(o),n=jc.bind(null,n,r,o),r.then(n,n))}function yc(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function pi(n,r,o,c,x){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=Vr(-1,1),r.tag=2,qr(o,r,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=x,n)}var Co=y.ReactCurrentOwner,Vt=!1;function en(n,r,o,c){r.child=n===null?lc(r,null,o,c):zi(r,n.child,o,c)}function yl(n,r,o,c,x){o=o.render;var M=r.ref;return Ss(r,x),c=yo(n,r,o,c,M,x),o=al(),n!==null&&!Vt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~x,Xr(n,r,x)):(vt&&o&&co(r),r.flags|=1,en(n,r,c,x),r.child)}function Ki(n,r,o,c,x){if(n===null){var M=o.type;return typeof M=="function"&&!Gs(M)&&M.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=M,Yr(n,r,M,c,x)):(n=Ll(o.type,null,c,r,r.mode,x),n.ref=r.ref,n.return=r,r.child=n)}if(M=n.child,(n.lanes&x)===0){var q=M.memoizedProps;if(o=o.compare,o=o!==null?o:tl,o(q,c)&&n.ref===r.ref)return Xr(n,r,x)}return r.flags|=1,n=ki(M,c),n.ref=r.ref,n.return=r,r.child=n}function Yr(n,r,o,c,x){if(n!==null){var M=n.memoizedProps;if(tl(M,c)&&n.ref===r.ref)if(Vt=!1,r.pendingProps=c=M,(n.lanes&x)!==0)(n.flags&131072)!==0&&(Vt=!0);else return r.lanes=n.lanes,Xr(n,r,x)}return br(n,r,o,c,x)}function ft(n,r,o){var c=r.pendingProps,x=c.children,M=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Si,qt),qt|=o;else{if((o&1073741824)===0)return n=M!==null?M.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,Xe(Si,qt),qt|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=M!==null?M.baseLanes:o,Xe(Si,qt),qt|=c}else M!==null?(c=M.baseLanes|o,r.memoizedState=null):c=o,Xe(Si,qt),qt|=c;return en(n,r,x,o),r.child}function ct(n,r){var o=r.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function br(n,r,o,c,x){var M=Jt(o)?Er:gn.current;return M=Wr(r,M),Ss(r,x),o=yo(n,r,o,c,M,x),c=al(),n!==null&&!Vt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~x,Xr(n,r,x)):(vt&&c&&co(r),r.flags|=1,en(n,r,o,x),r.child)}function cn(n,r,o,c,x){if(Jt(o)){var M=!0;ds(r)}else M=!1;if(Ss(r,x),r.stateNode===null)ko(n,r),mc(r,o,c),Rr(r,o,c,x),c=!0;else if(n===null){var q=r.stateNode,le=r.memoizedProps;q.props=le;var ge=q.context,ke=o.contextType;typeof ke=="object"&&ke!==null?ke=Kn(ke):(ke=Jt(o)?Er:gn.current,ke=Wr(r,ke));var be=o.getDerivedStateFromProps,We=typeof be=="function"||typeof q.getSnapshotBeforeUpdate=="function";We||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(le!==c||ge!==ke)&&ml(r,q,c,ke),Yn=!1;var Ee=r.memoizedState;q.state=Ee,ai(r,c,q,x),ge=r.memoizedState,le!==c||Ee!==ge||An.current||Yn?(typeof be=="function"&&(ja(r,o,be,c),ge=r.memoizedState),(le=Yn||gc(r,o,le,c,Ee,ge,ke))?(We||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(r.flags|=4194308)):(typeof q.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=ge),q.props=c,q.state=ge,q.context=ke,c=le):(typeof q.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{q=r.stateNode,uc(n,r),le=r.memoizedProps,ke=r.type===r.elementType?le:Qn(r.type,le),q.props=ke,We=r.pendingProps,Ee=q.context,ge=o.contextType,typeof ge=="object"&&ge!==null?ge=Kn(ge):(ge=Jt(o)?Er:gn.current,ge=Wr(r,ge));var gt=o.getDerivedStateFromProps;(be=typeof gt=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(le!==We||Ee!==ge)&&ml(r,q,c,ge),Yn=!1,Ee=r.memoizedState,q.state=Ee,ai(r,c,q,x);var lt=r.memoizedState;le!==We||Ee!==lt||An.current||Yn?(typeof gt=="function"&&(ja(r,o,gt,c),lt=r.memoizedState),(ke=Yn||gc(r,o,ke,c,Ee,lt,ge)||!1)?(be||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(c,lt,ge),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(c,lt,ge)),typeof q.componentDidUpdate=="function"&&(r.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof q.componentDidUpdate!="function"||le===n.memoizedProps&&Ee===n.memoizedState||(r.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||le===n.memoizedProps&&Ee===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=lt),q.props=c,q.state=lt,q.context=ge,c=ke):(typeof q.componentDidUpdate!="function"||le===n.memoizedProps&&Ee===n.memoizedState||(r.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||le===n.memoizedProps&&Ee===n.memoizedState||(r.flags|=1024),c=!1)}return mn(n,r,o,c,M,x)}function mn(n,r,o,c,x,M){ct(n,r);var q=(r.flags&128)!==0;if(!c&&!q)return x&&ea(r,o,!1),Xr(n,r,M);c=r.stateNode,Co.current=r;var le=q&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,n!==null&&q?(r.child=zi(r,n.child,null,M),r.child=zi(r,null,le,M)):en(n,r,le,M),r.memoizedState=c.state,x&&ea(r,o,!0),r.child}function gi(n){var r=n.stateNode;r.pendingContext?Yu(n,r.pendingContext,r.pendingContext!==r.context):r.context&&Yu(n,r.context,!1),ol(n,r.containerInfo)}function Yi(n,r,o,c,x){return Li(),ia(x),r.flags|=256,en(n,r,o,c),r.child}var vn={dehydrated:null,treeContext:null,retryLane:0};function Es(n){return{baseLanes:n,cachePool:null,transitions:null}}function Na(n,r,o){var c=r.pendingProps,x=Et.current,M=!1,q=(r.flags&128)!==0,le;if((le=q)||(le=n!==null&&n.memoizedState===null?!1:(x&2)!==0),le?(M=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(x|=1),Xe(Et,x&1),n===null)return ra(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:Ti(n)?r.lanes=8:r.lanes=1073741824,null):(q=c.children,n=c.fallback,M?(c=r.mode,M=r.child,q={mode:"hidden",children:q},(c&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=q):M=Ws(q,c,0,null),n=dn(n,c,o,null),M.return=r,n.return=r,M.sibling=n,r.child=M,r.child.memoizedState=Es(o),r.memoizedState=vn,n):xl(r,q));if(x=n.memoizedState,x!==null&&(le=x.dehydrated,le!==null))return xc(n,r,q,c,le,x,o);if(M){M=c.fallback,q=r.mode,x=n.child,le=x.sibling;var ge={mode:"hidden",children:c.children};return(q&1)===0&&r.child!==x?(c=r.child,c.childLanes=0,c.pendingProps=ge,r.deletions=null):(c=ki(x,ge),c.subtreeFlags=x.subtreeFlags&14680064),le!==null?M=ki(le,M):(M=dn(M,q,o,null),M.flags|=2),M.return=r,c.return=r,c.sibling=M,r.child=c,c=M,M=r.child,q=n.child.memoizedState,q=q===null?Es(o):{baseLanes:q.baseLanes|o,cachePool:null,transitions:q.transitions},M.memoizedState=q,M.childLanes=n.childLanes&~o,r.memoizedState=vn,c}return M=n.child,n=M.sibling,c=ki(M,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=o),c.return=r,c.sibling=null,n!==null&&(o=r.deletions,o===null?(r.deletions=[n],r.flags|=16):o.push(n)),r.child=c,r.memoizedState=null,c}function xl(n,r){return r=Ws({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Xi(n,r,o,c){return c!==null&&ia(c),zi(r,n.child,null,o),n=xl(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function xc(n,r,o,c,x,M,q){if(o)return r.flags&256?(r.flags&=-257,c=fi(Error(u(422))),Xi(n,r,q,c)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(M=c.fallback,x=r.mode,c=Ws({mode:"visible",children:c.children},x,0,null),M=dn(M,x,q,null),M.flags|=2,c.return=r,M.return=r,c.sibling=M,r.child=c,(r.mode&1)!==0&&zi(r,n.child,null,q),r.child.memoizedState=Es(q),r.memoizedState=vn,M);if((r.mode&1)===0)return Xi(n,r,q,null);if(Ti(x))return c=Wo(x).digest,M=Error(u(419)),c=fi(M,c,void 0),Xi(n,r,q,c);if(o=(q&n.childLanes)!==0,Vt||o){if(c=dt,c!==null){switch(q&-q){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(c.suspendedLanes|q))!==0?0:x,x!==0&&x!==M.retryLane&&(M.retryLane=x,_r(n,x),xn(c,n,x,-1))}return Us(),c=fi(Error(u(421))),Xi(n,r,q,c)}return Gu(x)?(r.flags|=128,r.child=n.child,r=Ec.bind(null,n),Bo(x,r),null):(n=M.treeContext,Me&&(En=ld(x),an=r,vt=!0,Sr=null,fo=!1,n!==null&&(Nn[qn++]=On,Nn[qn++]=yr,Nn[qn++]=Bt,On=n.id,yr=n.overflow,Bt=r)),r=xl(r,c.children),r.flags|=4096,r)}function Ir(n,r,o){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),Ai(n.return,r,o)}function Ps(n,r,o,c,x){var M=n.memoizedState;M===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:x}:(M.isBackwards=r,M.rendering=null,M.renderingStartTime=0,M.last=c,M.tail=o,M.tailMode=x)}function Sl(n,r,o){var c=r.pendingProps,x=c.revealOrder,M=c.tail;if(en(n,r,c.children,o),c=Et.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ir(n,o,r);else if(n.tag===19)Ir(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Xe(Et,c),(r.mode&1)===0)r.memoizedState=null;else switch(x){case"forwards":for(o=r.child,x=null;o!==null;)n=o.alternate,n!==null&&ll(n)===null&&(x=o),o=o.sibling;o=x,o===null?(x=r.child,r.child=null):(x=o.sibling,o.sibling=null),Ps(r,!1,x,o,M);break;case"backwards":for(o=null,x=r.child,r.child=null;x!==null;){if(n=x.alternate,n!==null&&ll(n)===null){r.child=x;break}n=x.sibling,x.sibling=o,o=x,x=n}Ps(r,!0,o,null,M);break;case"together":Ps(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ko(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function Xr(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Jr|=r.lanes,(o&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(u(153));if(r.child!==null){for(n=r.child,o=ki(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=ki(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function mi(n,r,o){switch(r.tag){case 3:gi(r),Li();break;case 5:ua(r);break;case 1:Jt(r.type)&&ds(r);break;case 4:ol(r,r.stateNode.containerInfo);break;case 10:ac(r,r.type._context,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Xe(Et,Et.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Na(n,r,o):(Xe(Et,Et.current&1),n=Xr(n,r,o),n!==null?n.sibling:null);Xe(Et,Et.current&1);break;case 19:if(c=(o&r.childLanes)!==0,(n.flags&128)!==0){if(c)return Sl(n,r,o);r.flags|=128}var x=r.memoizedState;if(x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Xe(Et,Et.current),c)break;return null;case 22:case 23:return r.lanes=0,ft(n,r,o)}return Xr(n,r,o)}function Pn(n){n.flags|=4}function Qi(n,r){if(n!==null&&n.child===r.child)return!0;if((r.flags&16)!==0)return!1;for(n=r.child;n!==null;){if((n.flags&12854)!==0||(n.subtreeFlags&12854)!==0)return!1;n=n.sibling}return!0}var vi,yi,Tn,Rn;if(Ce)vi=function(n,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)J(n,o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},yi=function(){},Tn=function(n,r,o,c,x){if(n=n.memoizedProps,n!==c){var M=r.stateNode,q=ar(lr.current);o=ce(M,o,n,c,x,q),(r.updateQueue=o)&&Pn(r)}},Rn=function(n,r,o,c){o!==c&&Pn(r)};else if(Te){vi=function(n,r,o,c){for(var x=r.child;x!==null;){if(x.tag===5){var M=x.stateNode;o&&c&&(M=Go(M,x.type,x.memoizedProps,x)),J(n,M)}else if(x.tag===6)M=x.stateNode,o&&c&&(M=Jl(M,x.memoizedProps,x)),J(n,M);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)M=x.child,M!==null&&(M.return=x),vi(n,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===r)break;for(;x.sibling===null;){if(x.return===null||x.return===r)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};var xi=function(n,r,o,c){for(var x=r.child;x!==null;){if(x.tag===5){var M=x.stateNode;o&&c&&(M=Go(M,x.type,x.memoizedProps,x)),Ql(n,M)}else if(x.tag===6)M=x.stateNode,o&&c&&(M=Jl(M,x.memoizedProps,x)),Ql(n,M);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)M=x.child,M!==null&&(M.return=x),xi(n,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===r)break;for(;x.sibling===null;){if(x.return===null||x.return===r)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};yi=function(n,r){var o=r.stateNode;if(!Qi(n,r)){n=o.containerInfo;var c=Xl(n);xi(c,r,!1,!1),o.pendingChildren=c,Pn(r),Uu(n,c)}},Tn=function(n,r,o,c,x){var M=n.stateNode,q=n.memoizedProps;if((n=Qi(n,r))&&q===c)r.stateNode=M;else{var le=r.stateNode,ge=ar(lr.current),ke=null;q!==c&&(ke=ce(le,o,q,c,x,ge)),n&&ke===null?r.stateNode=M:(M=Ou(M,ke,o,q,c,r,n,le),te(M,o,c,x,ge)&&Pn(r),r.stateNode=M,n?Pn(r):vi(M,r,!1,!1))}},Rn=function(n,r,o,c){o!==c?(n=ar(ci.current),o=ar(lr.current),r.stateNode=ie(c,n,o,r),Pn(r)):r.stateNode=n.stateNode}}else yi=function(){},Tn=function(){},Rn=function(){};function Jn(n,r){if(!vt)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Ct(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(r)for(var x=n.child;x!==null;)o|=x.lanes|x.childLanes,c|=x.subtreeFlags&14680064,c|=x.flags&14680064,x.return=n,x=x.sibling;else for(x=n.child;x!==null;)o|=x.lanes|x.childLanes,c|=x.subtreeFlags,c|=x.flags,x.return=n,x=x.sibling;return n.subtreeFlags|=c,n.childLanes=o,r}function Ji(n,r,o){var c=r.pendingProps;switch(ho(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(r),null;case 1:return Jt(r.type)&&bi(),Ct(r),null;case 3:return o=r.stateNode,Di(),mt(An),mt(gn),ha(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(el(r)?Pn(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Sr!==null&&(bl(Sr),Sr=null))),yi(n,r),Ct(r),null;case 5:ca(r),o=ar(ci.current);var x=r.type;if(n!==null&&r.stateNode!=null)Tn(n,r,x,c,o),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(u(166));return Ct(r),null}if(n=ar(lr.current),el(r)){if(!Me)throw Error(u(175));n=Ri(r.stateNode,r.type,r.memoizedProps,o,n,r,!fo),r.updateQueue=n,n!==null&&Pn(r)}else{var M=D(x,c,o,n,r);vi(M,r,!1,!1),r.stateNode=M,te(M,x,c,o,n)&&Pn(r)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Ct(r),null;case 6:if(n&&r.stateNode!=null)Rn(n,r,n.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(u(166));if(n=ar(ci.current),o=ar(lr.current),el(r)){if(!Me)throw Error(u(176));if(n=r.stateNode,o=r.memoizedProps,(c=Wu(n,o,r,!fo))&&(x=an,x!==null))switch(x.tag){case 3:cd(x.stateNode.containerInfo,n,o,(x.mode&1)!==0);break;case 5:bt(x.type,x.memoizedProps,x.stateNode,n,o,(x.mode&1)!==0)}c&&Pn(r)}else r.stateNode=ie(c,n,o,r)}return Ct(r),null;case 13:if(mt(Et),c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(vt&&En!==null&&(r.mode&1)!==0&&(r.flags&128)===0)ic(),Li(),r.flags|=98560,x=!1;else if(x=el(r),c!==null&&c.dehydrated!==null){if(n===null){if(!x)throw Error(u(318));if(!Me)throw Error(u(344));if(x=r.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(u(317));Bu(x,r)}else Li(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ct(r),x=!1}else Sr!==null&&(bl(Sr),Sr=null),x=!0;if(!x)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,o!==(n!==null&&n.memoizedState!==null)&&o&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(Et.current&1)!==0?jt===0&&(jt=3):Us())),r.updateQueue!==null&&(r.flags|=4),Ct(r),null);case 4:return Di(),yi(n,r),n===null&&Ae(r.stateNode.containerInfo),Ct(r),null;case 10:return po(r.type._context),Ct(r),null;case 17:return Jt(r.type)&&bi(),Ct(r),null;case 19:if(mt(Et),x=r.memoizedState,x===null)return Ct(r),null;if(c=(r.flags&128)!==0,M=x.rendering,M===null)if(c)Jn(x,!1);else{if(jt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(M=ll(n),M!==null){for(r.flags|=128,Jn(x,!1),n=M.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),r.subtreeFlags=0,n=o,o=r.child;o!==null;)c=o,x=n,c.flags&=14680066,M=c.alternate,M===null?(c.childLanes=0,c.lanes=x,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=M.childLanes,c.lanes=M.lanes,c.child=M.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=M.memoizedProps,c.memoizedState=M.memoizedState,c.updateQueue=M.updateQueue,c.type=M.type,x=M.dependencies,c.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),o=o.sibling;return Xe(Et,Et.current&1|2),r.child}n=n.sibling}x.tail!==null&&Zt()>Mo&&(r.flags|=128,c=!0,Jn(x,!1),r.lanes=4194304)}else{if(!c)if(n=ll(M),n!==null){if(r.flags|=128,c=!0,n=n.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),Jn(x,!0),x.tail===null&&x.tailMode==="hidden"&&!M.alternate&&!vt)return Ct(r),null}else 2*Zt()-x.renderingStartTime>Mo&&o!==1073741824&&(r.flags|=128,c=!0,Jn(x,!1),r.lanes=4194304);x.isBackwards?(M.sibling=r.child,r.child=M):(n=x.last,n!==null?n.sibling=M:r.child=M,x.last=M)}return x.tail!==null?(r=x.tail,x.rendering=r,x.tail=r.sibling,x.renderingStartTime=Zt(),r.sibling=null,n=Et.current,Xe(Et,c?n&1|2:n&1),r):(Ct(r),null);case 22:case 23:return Il(),o=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==o&&(r.flags|=8192),o&&(r.mode&1)!==0?(qt&1073741824)!==0&&(Ct(r),Ce&&r.subtreeFlags&6&&(r.flags|=8192)):Ct(r),null;case 24:return null;case 25:return null}throw Error(u(156,r.tag))}function Sc(n,r){switch(ho(r),r.tag){case 1:return Jt(r.type)&&bi(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Di(),mt(An),mt(gn),ha(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return ca(r),null;case 13:if(mt(Et),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(u(340));Li()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return mt(Et),null;case 4:return Di(),null;case 10:return po(r.type._context),null;case 22:case 23:return Il(),null;case 24:return null;default:return null}}var Ts=!1,tn=!1,Zn=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function ot(n,r){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){xt(n,r,c)}else o.current=null}function $n(n,r,o){try{o()}catch(c){xt(n,r,c)}}var Ea=!1;function _c(n,r){for(V(n.containerInfo),Ne=r;Ne!==null;)if(n=Ne,r=n.child,(n.subtreeFlags&1028)!==0&&r!==null)r.return=n,Ne=r;else for(;Ne!==null;){n=Ne;try{var o=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(o!==null){var c=o.memoizedProps,x=o.memoizedState,M=n.stateNode,q=M.getSnapshotBeforeUpdate(n.elementType===n.type?c:Qn(n.type,c),x);M.__reactInternalSnapshotBeforeUpdate=q}break;case 3:Ce&&as(n.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(u(163))}}catch(le){xt(n,n.return,le)}if(r=n.sibling,r!==null){r.return=n.return,Ne=r;break}Ne=n.return}return o=Ea,Ea=!1,o}function Zi(n,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var x=c=c.next;do{if((x.tag&n)===n){var M=x.destroy;x.destroy=void 0,M!==void 0&&$n(r,o,M)}x=x.next}while(x!==c)}}function Rs(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function _l(n){var r=n.ref;if(r!==null){var o=n.stateNode;n.tag===5?n=re(o):n=o,typeof r=="function"?r(n):r.current=n}}function jo(n){var r=n.alternate;r!==null&&(n.alternate=null,jo(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&rt(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Pa(n){return n.tag===5||n.tag===3||n.tag===4}function $i(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Pa(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function No(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?Pi(o,n,r):Hn(o,n);else if(c!==4&&(n=n.child,n!==null))for(No(n,r,o),n=n.sibling;n!==null;)No(n,r,o),n=n.sibling}function Ta(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?no(o,n,r):pn(o,n);else if(c!==4&&(n=n.child,n!==null))for(Ta(n,r,o),n=n.sibling;n!==null;)Ta(n,r,o),n=n.sibling}var It=null,Gn=!1;function wr(n,r,o){for(o=o.child;o!==null;)wl(n,r,o),o=o.sibling}function wl(n,r,o){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(si,o)}catch{}switch(o.tag){case 5:tn||ot(o,r);case 6:if(Ce){var c=It,x=Gn;It=null,wr(n,r,o),It=c,Gn=x,It!==null&&(Gn?ro(It,o.stateNode):Vl(It,o.stateNode))}else wr(n,r,o);break;case 18:Ce&&It!==null&&(Gn?Ku(It,o.stateNode):qu(It,o.stateNode));break;case 4:Ce?(c=It,x=Gn,It=o.stateNode.containerInfo,Gn=!0,wr(n,r,o),It=c,Gn=x):(Te&&(c=o.stateNode.containerInfo,x=Xl(c),Uo(c,x)),wr(n,r,o));break;case 0:case 11:case 14:case 15:if(!tn&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){x=c=c.next;do{var M=x,q=M.destroy;M=M.tag,q!==void 0&&((M&2)!==0||(M&4)!==0)&&$n(o,r,q),x=x.next}while(x!==c)}wr(n,r,o);break;case 1:if(!tn&&(ot(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(le){xt(o,r,le)}wr(n,r,o);break;case 21:wr(n,r,o);break;case 22:o.mode&1?(tn=(c=tn)||o.memoizedState!==null,wr(n,r,o),tn=c):wr(n,r,o);break;default:wr(n,r,o)}}function es(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new Zn),r.forEach(function(c){var x=vd.bind(null,n,c);o.has(c)||(o.add(c),c.then(x,x))})}}function cr(n,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var x=o[c];try{var M=n,q=r;if(Ce){var le=q;e:for(;le!==null;){switch(le.tag){case 5:It=le.stateNode,Gn=!1;break e;case 3:It=le.stateNode.containerInfo,Gn=!0;break e;case 4:It=le.stateNode.containerInfo,Gn=!0;break e}le=le.return}if(It===null)throw Error(u(160));wl(M,q,x),It=null,Gn=!1}else wl(M,q,x);var ge=x.alternate;ge!==null&&(ge.return=null),x.return=null}catch(ke){xt(x,r,ke)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Eo(r,n),r=r.sibling}function Eo(n,r){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(cr(r,n),er(n),c&4){try{Zi(3,n,n.return),Rs(3,n)}catch(Ee){xt(n,n.return,Ee)}try{Zi(5,n,n.return)}catch(Ee){xt(n,n.return,Ee)}}break;case 1:cr(r,n),er(n),c&512&&o!==null&&ot(o,o.return);break;case 5:if(cr(r,n),er(n),c&512&&o!==null&&ot(o,o.return),Ce){if(n.flags&32){var x=n.stateNode;try{Oo(x)}catch(Ee){xt(n,n.return,Ee)}}if(c&4&&(x=n.stateNode,x!=null)){var M=n.memoizedProps;if(o=o!==null?o.memoizedProps:M,c=n.type,r=n.updateQueue,n.updateQueue=null,r!==null)try{Ei(x,r,c,o,M,n)}catch(Ee){xt(n,n.return,Ee)}}}break;case 6:if(cr(r,n),er(n),c&4&&Ce){if(n.stateNode===null)throw Error(u(162));x=n.stateNode,M=n.memoizedProps,o=o!==null?o.memoizedProps:M;try{Ft(x,o,M)}catch(Ee){xt(n,n.return,Ee)}}break;case 3:if(cr(r,n),er(n),c&4){if(Ce&&Me&&o!==null&&o.memoizedState.isDehydrated)try{Hu(r.containerInfo)}catch(Ee){xt(n,n.return,Ee)}if(Te){x=r.containerInfo,M=r.pendingChildren;try{Uo(x,M)}catch(Ee){xt(n,n.return,Ee)}}}break;case 4:if(cr(r,n),er(n),c&4&&Te){M=n.stateNode,x=M.containerInfo,M=M.pendingChildren;try{Uo(x,M)}catch(Ee){xt(n,n.return,Ee)}}break;case 13:cr(r,n),er(n),x=n.child,x.flags&8192&&(M=x.memoizedState!==null,x.stateNode.isHidden=M,!M||x.alternate!==null&&x.alternate.memoizedState!==null||(zs=Zt())),c&4&&es(n);break;case 22:var q=o!==null&&o.memoizedState!==null;if(n.mode&1?(tn=(o=tn)||q,cr(r,n),tn=o):cr(r,n),er(n),c&8192){if(o=n.memoizedState!==null,(n.stateNode.isHidden=o)&&!q&&(n.mode&1)!==0)for(Ne=n,c=n.child;c!==null;){for(r=Ne=c;Ne!==null;){q=Ne;var le=q.child;switch(q.tag){case 0:case 11:case 14:case 15:Zi(4,q,q.return);break;case 1:ot(q,q.return);var ge=q.stateNode;if(typeof ge.componentWillUnmount=="function"){var ke=q,be=q.return;try{var We=ke;ge.props=We.memoizedProps,ge.state=We.memoizedState,ge.componentWillUnmount()}catch(Ee){xt(ke,be,Ee)}}break;case 5:ot(q,q.return);break;case 22:if(q.memoizedState!==null){jl(r);continue}}le!==null?(le.return=q,Ne=le):jl(r)}c=c.sibling}if(Ce){e:if(c=null,Ce)for(r=n;;){if(r.tag===5){if(c===null){c=r;try{x=r.stateNode,o?ql(x):Yl(r.stateNode,r.memoizedProps)}catch(Ee){xt(n,n.return,Ee)}}}else if(r.tag===6){if(c===null)try{M=r.stateNode,o?Kl(M):ls(M,r.memoizedProps)}catch(Ee){xt(n,n.return,Ee)}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;c===r&&(c=null),r=r.return}c===r&&(c=null),r.sibling.return=r.return,r=r.sibling}}}break;case 19:cr(r,n),er(n),c&4&&es(n);break;case 21:break;default:cr(r,n),er(n)}}function er(n){var r=n.flags;if(r&2){try{if(Ce){e:{for(var o=n.return;o!==null;){if(Pa(o)){var c=o;break e}o=o.return}throw Error(u(160))}switch(c.tag){case 5:var x=c.stateNode;c.flags&32&&(Oo(x),c.flags&=-33);var M=$i(n);Ta(n,M,x);break;case 3:case 4:var q=c.stateNode.containerInfo,le=$i(n);No(n,le,q);break;default:throw Error(u(161))}}}catch(ge){xt(n,n.return,ge)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Ms(n,r,o){Ne=n,Cl(n)}function Cl(n,r,o){for(var c=(n.mode&1)!==0;Ne!==null;){var x=Ne,M=x.child;if(x.tag===22&&c){var q=x.memoizedState!==null||Ts;if(!q){var le=x.alternate,ge=le!==null&&le.memoizedState!==null||tn;le=Ts;var ke=tn;if(Ts=q,(tn=ge)&&!ke)for(Ne=x;Ne!==null;)q=Ne,ge=q.child,q.tag===22&&q.memoizedState!==null?Nl(x):ge!==null?(ge.return=q,Ne=ge):Nl(x);for(;M!==null;)Ne=M,Cl(M),M=M.sibling;Ne=x,Ts=le,tn=ke}kl(n)}else(x.subtreeFlags&8772)!==0&&M!==null?(M.return=x,Ne=M):kl(n)}}function kl(n){for(;Ne!==null;){var r=Ne;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:tn||Rs(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!tn)if(o===null)c.componentDidMount();else{var x=r.elementType===r.type?o.memoizedProps:Qn(r.type,o.memoizedProps);c.componentDidUpdate(x,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var M=r.updateQueue;M!==null&&cc(r,M,c);break;case 3:var q=r.updateQueue;if(q!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=re(r.child.stateNode);break;case 1:o=r.child.stateNode}cc(r,q,o)}break;case 5:var le=r.stateNode;o===null&&r.flags&4&&zt(le,r.type,r.memoizedProps,r);break;case 6:break;case 4:break;case 12:break;case 13:if(Me&&r.memoizedState===null){var ge=r.alternate;if(ge!==null){var ke=ge.memoizedState;if(ke!==null){var be=ke.dehydrated;be!==null&&Vu(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(u(163))}tn||r.flags&512&&_l(r)}catch(We){xt(r,r.return,We)}}if(r===n){Ne=null;break}if(o=r.sibling,o!==null){o.return=r.return,Ne=o;break}Ne=r.return}}function jl(n){for(;Ne!==null;){var r=Ne;if(r===n){Ne=null;break}var o=r.sibling;if(o!==null){o.return=r.return,Ne=o;break}Ne=r.return}}function Nl(n){for(;Ne!==null;){var r=Ne;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Rs(4,r)}catch(ge){xt(r,o,ge)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var x=r.return;try{c.componentDidMount()}catch(ge){xt(r,x,ge)}}var M=r.return;try{_l(r)}catch(ge){xt(r,M,ge)}break;case 5:var q=r.return;try{_l(r)}catch(ge){xt(r,q,ge)}}}catch(ge){xt(r,r.return,ge)}if(r===n){Ne=null;break}var le=r.sibling;if(le!==null){le.return=r.return,Ne=le;break}Ne=r.return}}var Qr=0,Mn=1,Lr=2,bs=3,Po=4;if(typeof Symbol=="function"&&Symbol.for){var tr=Symbol.for;Qr=tr("selector.component"),Mn=tr("selector.has_pseudo_class"),Lr=tr("selector.role"),bs=tr("selector.test_id"),Po=tr("selector.text")}function Fr(n){var r=Ve(n);if(r!=null){if(typeof r.memoizedProps["data-testname"]!="string")throw Error(u(364));return r}if(n=ir(n),n===null)throw Error(u(362));return n.stateNode.current}function To(n,r){switch(r.$$typeof){case Qr:if(n.type===r.value)return!0;break;case Mn:e:{r=r.value,n=[n,0];for(var o=0;o<n.length;){var c=n[o++],x=n[o++],M=r[x];if(c.tag!==5||!rn(c)){for(;M!=null&&To(c,M);)x++,M=r[x];if(x===r.length){r=!0;break e}else for(c=c.child;c!==null;)n.push(c,x),c=c.sibling}}r=!1}return r;case Lr:if(n.tag===5&&Nr(n.stateNode,r.value))return!0;break;case Po:if((n.tag===5||n.tag===6)&&(n=zn(n),n!==null&&0<=n.indexOf(r.value)))return!0;break;case bs:if(n.tag===5&&(n=n.memoizedProps["data-testname"],typeof n=="string"&&n.toLowerCase()===r.value.toLowerCase()))return!0;break;default:throw Error(u(365))}return!1}function El(n){switch(n.$$typeof){case Qr:return"<"+(W(n.value)||"Unknown")+">";case Mn:return":has("+(El(n)||"")+")";case Lr:return'[role="'+n.value+'"]';case Po:return'"'+n.value+'"';case bs:return'[data-testname="'+n.value+'"]';default:throw Error(u(365))}}function zr(n,r){var o=[];n=[n,0];for(var c=0;c<n.length;){var x=n[c++],M=n[c++],q=r[M];if(x.tag!==5||!rn(x)){for(;q!=null&&To(x,q);)M++,q=r[M];if(M===r.length)o.push(x);else for(x=x.child;x!==null;)n.push(x,M),x=x.sibling}}return o}function Ar(n,r){if(!Pt)throw Error(u(363));n=Fr(n),n=zr(n,r),r=[],n=Array.from(n);for(var o=0;o<n.length;){var c=n[o++];if(c.tag===5)rn(c)||r.push(c.stateNode);else for(c=c.child;c!==null;)n.push(c),c=c.sibling}return r}var Pl=Math.ceil,Ro=y.ReactCurrentDispatcher,Is=y.ReactCurrentOwner,Tt=y.ReactCurrentBatchConfig,He=0,dt=null,kt=null,Lt=0,qt=0,Si=on(0),jt=0,Ls=null,Jr=0,pt=0,Fs=0,ts=null,yn=null,zs=0,Mo=1/0,bn=null;function ut(){Mo=Zt()+500}var Rt=!1,Dt=null,Cr=null,_i=!1,dr=null,Tl=0,Ot=0,bo=null,As=-1,Ds=0;function yt(){return(He&6)!==0?Zt():As!==-1?As:As=Zt()}function Kt(n){return(n.mode&1)===0?1:(He&2)!==0&&Lt!==0?Lt&-Lt:pd.transition!==null?(Ds===0&&(Ds=Ko()),Ds):(n=Qe,n!==0?n:St())}function xn(n,r,o,c){if(50<Ot)throw Ot=0,bo=null,Error(u(185));or(n,o,c),((He&2)===0||n!==dt)&&(n===dt&&((He&2)===0&&(pt|=o),jt===4&&Zr(n,Lt)),Sn(n,c),o===1&&He===0&&(r.mode&1)===0&&(ut(),vs&&ln()))}function Sn(n,r){var o=n.callbackNode;Ju(n,r);var c=fs(n,n===dt?Lt:0);if(c===0)o!==null&&Zu(o),n.callbackNode=null,n.callbackPriority=0;else if(r=c&-c,n.callbackPriority!==r){if(o!=null&&Zu(o),r===1)n.tag===0?ec(Ra.bind(null,n)):Zo(Ra.bind(null,n)),_t?jr(function(){(He&6)===0&&ln()}):Tr(Yo,ln),o=null;else{switch(gs(c)){case 1:o=Yo;break;case 4:o=Xo;break;case 16:o=Qo;break;case 536870912:o=fd;break;default:o=Qo}o=Aa(o,Rl.bind(null,n))}n.callbackPriority=r,n.callbackNode=o}}function Rl(n,r){if(As=-1,Ds=0,(He&6)!==0)throw Error(u(327));var o=n.callbackNode;if($r()&&n.callbackNode!==o)return null;var c=fs(n,n===dt?Lt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||r)r=ns(n,c);else{r=c;var x=He;He|=2;var M=ba();(dt!==n||Lt!==r)&&(bn=null,ut(),wi(n,r));do try{Ia();break}catch(le){Os(n,le)}while(!0);oa(),Ro.current=M,He=x,kt!==null?r=0:(dt=null,Lt=0,r=jt)}if(r!==0){if(r===2&&(x=qo(n),x!==0&&(c=x,r=Ml(n,x))),r===1)throw o=Ls,wi(n,0),Zr(n,c),Sn(n,Zt()),o;if(r===6)Zr(n,c);else{if(x=n.current.alternate,(c&30)===0&&!wc(x)&&(r=ns(n,c),r===2&&(M=qo(n),M!==0&&(c=M,r=Ml(n,M))),r===1))throw o=Ls,wi(n,0),Zr(n,c),Sn(n,Zt()),o;switch(n.finishedWork=x,n.finishedLanes=c,r){case 0:case 1:throw Error(u(345));case 2:Ci(n,yn,bn);break;case 3:if(Zr(n,c),(c&130023424)===c&&(r=zs+500-Zt(),10<r)){if(fs(n,0)!==0)break;if(x=n.suspendedLanes,(x&c)!==c){yt(),n.pingedLanes|=n.suspendedLanes&x;break}n.timeoutHandle=X(Ci.bind(null,n,yn,bn),r);break}Ci(n,yn,bn);break;case 4:if(Zr(n,c),(c&4194240)===c)break;for(r=n.eventTimes,x=-1;0<c;){var q=31-Vn(c);M=1<<q,q=r[q],q>x&&(x=q),c&=~M}if(c=x,c=Zt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Pl(c/1960))-c,10<c){n.timeoutHandle=X(Ci.bind(null,n,yn,bn),c);break}Ci(n,yn,bn);break;case 5:Ci(n,yn,bn);break;default:throw Error(u(329))}}}return Sn(n,Zt()),n.callbackNode===o?Rl.bind(null,n):null}function Ml(n,r){var o=ts;return n.current.memoizedState.isDehydrated&&(wi(n,r).flags|=256),n=ns(n,r),n!==2&&(r=yn,yn=o,r!==null&&bl(r)),n}function bl(n){yn===null?yn=n:yn.push.apply(yn,n)}function wc(n){for(var r=n;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var x=o[c],M=x.getSnapshot;x=x.value;try{if(!vr(M(),x))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Zr(n,r){for(r&=~Fs,r&=~pt,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var o=31-Vn(r),c=1<<o;n[o]=-1,r&=~c}}function Ra(n){if((He&6)!==0)throw Error(u(327));$r();var r=fs(n,0);if((r&1)===0)return Sn(n,Zt()),null;var o=ns(n,r);if(n.tag!==0&&o===2){var c=qo(n);c!==0&&(r=c,o=Ml(n,c))}if(o===1)throw o=Ls,wi(n,0),Zr(n,r),Sn(n,Zt()),o;if(o===6)throw Error(u(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,Ci(n,yn,bn),Sn(n,Zt()),null}function Ma(n){dr!==null&&dr.tag===0&&(He&6)===0&&$r();var r=He;He|=1;var o=Tt.transition,c=Qe;try{if(Tt.transition=null,Qe=1,n)return n()}finally{Qe=c,Tt.transition=o,He=r,(He&6)===0&&ln()}}function Il(){qt=Si.current,mt(Si)}function wi(n,r){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==ve&&(n.timeoutHandle=ve,oe(o)),kt!==null)for(o=kt.return;o!==null;){var c=o;switch(ho(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&bi();break;case 3:Di(),mt(An),mt(gn),ha();break;case 5:ca(c);break;case 4:Di();break;case 13:mt(Et);break;case 19:mt(Et);break;case 10:po(c.type._context);break;case 22:case 23:Il()}o=o.return}if(dt=n,kt=n=ki(n.current,null),Lt=qt=r,jt=0,Ls=null,Fs=pt=Jr=0,yn=ts=null,li!==null){for(r=0;r<li.length;r++)if(o=li[r],c=o.interleaved,c!==null){o.interleaved=null;var x=c.next,M=o.pending;if(M!==null){var q=M.next;M.next=x,c.next=q}o.pending=c}li=null}return n}function Os(n,r){do{var o=kt;try{if(oa(),Un.current=Vi,Cs){for(var c=wt.memoizedState;c!==null;){var x=c.queue;x!==null&&(x.pending=null),c=c.next}Cs=!1}if(di=0,Ht=At=wt=null,mo=!1,vo=0,Is.current=null,o===null||o.return===null){jt=1,Ls=r,kt=null;break}e:{var M=n,q=o.return,le=o,ge=r;if(r=Lt,le.flags|=32768,ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var ke=ge,be=le,We=be.tag;if((be.mode&1)===0&&(We===0||We===11||We===15)){var Ee=be.alternate;Ee?(be.updateQueue=Ee.updateQueue,be.memoizedState=Ee.memoizedState,be.lanes=Ee.lanes):(be.updateQueue=null,be.memoizedState=null)}var gt=yc(q);if(gt!==null){gt.flags&=-257,pi(gt,q,le,M,r),gt.mode&1&&vc(M,ke,r),r=gt,ge=ke;var lt=r.updateQueue;if(lt===null){var In=new Set;In.add(ge),r.updateQueue=In}else lt.add(ge);break e}else{if((r&1)===0){vc(M,ke,r),Us();break e}ge=Error(u(426))}}else if(vt&&le.mode&1){var Dr=yc(q);if(Dr!==null){(Dr.flags&65536)===0&&(Dr.flags|=256),pi(Dr,q,le,M,r),ia(qi(ge,le));break e}}M=ge=qi(ge,le),jt!==4&&(jt=2),ts===null?ts=[M]:ts.push(M),M=q;do{switch(M.tag){case 3:M.flags|=65536,r&=-r,M.lanes|=r;var he=Mr(M,ge,r);_s(M,he);break e;case 1:le=ge;var ae=M.type,me=M.stateNode;if((M.flags&128)===0&&(typeof ae.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(Cr===null||!Cr.has(me)))){M.flags|=65536,r&=-r,M.lanes|=r;var Pe=vl(M,le,r);_s(M,Pe);break e}}M=M.return}while(M!==null)}Fa(o)}catch(De){r=De,kt===o&&o!==null&&(kt=o=o.return);continue}break}while(!0)}function ba(){var n=Ro.current;return Ro.current=Vi,n===null?Vi:n}function Us(){(jt===0||jt===3||jt===2)&&(jt=4),dt===null||(Jr&268435455)===0&&(pt&268435455)===0||Zr(dt,Lt)}function ns(n,r){var o=He;He|=2;var c=ba();(dt!==n||Lt!==r)&&(bn=null,wi(n,r));do try{Cc();break}catch(x){Os(n,x)}while(!0);if(oa(),He=o,Ro.current=c,kt!==null)throw Error(u(261));return dt=null,Lt=0,jt}function Cc(){for(;kt!==null;)La(kt)}function Ia(){for(;kt!==null&&!$u();)La(kt)}function La(n){var r=Pc(n.alternate,n,qt);n.memoizedProps=n.pendingProps,r===null?Fa(n):kt=r,Is.current=null}function Fa(n){var r=n;do{var o=r.alternate;if(n=r.return,(r.flags&32768)===0){if(o=Ji(o,r,qt),o!==null){kt=o;return}}else{if(o=Sc(o,r),o!==null){o.flags&=32767,kt=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{jt=6,kt=null;return}}if(r=r.sibling,r!==null){kt=r;return}kt=r=n}while(r!==null);jt===0&&(jt=5)}function Ci(n,r,o){var c=Qe,x=Tt.transition;try{Tt.transition=null,Qe=1,kc(n,r,o,c)}finally{Tt.transition=x,Qe=c}return null}function kc(n,r,o,c){do $r();while(dr!==null);if((He&6)!==0)throw Error(u(327));o=n.finishedWork;var x=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(u(177));n.callbackNode=null,n.callbackPriority=0;var M=o.lanes|o.childLanes;if(ii(n,M),n===dt&&(kt=dt=null,Lt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||_i||(_i=!0,Aa(Qo,function(){return $r(),null})),M=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||M){M=Tt.transition,Tt.transition=null;var q=Qe;Qe=1;var le=He;He|=4,Is.current=null,_c(n,o),Eo(o,n),H(n.containerInfo),n.current=o,Ms(o),ao(),He=le,Qe=q,Tt.transition=M}else n.current=o;if(_i&&(_i=!1,dr=n,Tl=x),M=n.pendingLanes,M===0&&(Cr=null),ms(o.stateNode),Sn(n,Zt()),r!==null)for(c=n.onRecoverableError,o=0;o<r.length;o++)x=r[o],c(x.value,{componentStack:x.stack,digest:x.digest});if(Rt)throw Rt=!1,n=Dt,Dt=null,n;return(Tl&1)!==0&&n.tag!==0&&$r(),M=n.pendingLanes,(M&1)!==0?n===bo?Ot++:(Ot=0,bo=n):Ot=0,ln(),null}function $r(){if(dr!==null){var n=gs(Tl),r=Tt.transition,o=Qe;try{if(Tt.transition=null,Qe=16>n?16:n,dr===null)var c=!1;else{if(n=dr,dr=null,Tl=0,(He&6)!==0)throw Error(u(331));var x=He;for(He|=4,Ne=n.current;Ne!==null;){var M=Ne,q=M.child;if((Ne.flags&16)!==0){var le=M.deletions;if(le!==null){for(var ge=0;ge<le.length;ge++){var ke=le[ge];for(Ne=ke;Ne!==null;){var be=Ne;switch(be.tag){case 0:case 11:case 15:Zi(8,be,M)}var We=be.child;if(We!==null)We.return=be,Ne=We;else for(;Ne!==null;){be=Ne;var Ee=be.sibling,gt=be.return;if(jo(be),be===ke){Ne=null;break}if(Ee!==null){Ee.return=gt,Ne=Ee;break}Ne=gt}}}var lt=M.alternate;if(lt!==null){var In=lt.child;if(In!==null){lt.child=null;do{var Dr=In.sibling;In.sibling=null,In=Dr}while(In!==null)}}Ne=M}}if((M.subtreeFlags&2064)!==0&&q!==null)q.return=M,Ne=q;else e:for(;Ne!==null;){if(M=Ne,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:Zi(9,M,M.return)}var he=M.sibling;if(he!==null){he.return=M.return,Ne=he;break e}Ne=M.return}}var ae=n.current;for(Ne=ae;Ne!==null;){q=Ne;var me=q.child;if((q.subtreeFlags&2064)!==0&&me!==null)me.return=q,Ne=me;else e:for(q=ae;Ne!==null;){if(le=Ne,(le.flags&2048)!==0)try{switch(le.tag){case 0:case 11:case 15:Rs(9,le)}}catch(De){xt(le,le.return,De)}if(le===q){Ne=null;break e}var Pe=le.sibling;if(Pe!==null){Pe.return=le.return,Ne=Pe;break e}Ne=le.return}}if(He=x,ln(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(si,n)}catch{}c=!0}return c}finally{Qe=o,Tt.transition=r}}return!1}function za(n,r,o){r=qi(o,r),r=Mr(n,r,1),n=qr(n,r,1),r=yt(),n!==null&&(or(n,1,r),Sn(n,r))}function xt(n,r,o){if(n.tag===3)za(n,n,o);else for(;r!==null;){if(r.tag===3){za(r,n,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Cr===null||!Cr.has(c))){n=qi(o,n),n=vl(r,n,1),r=qr(r,n,1),n=yt(),r!==null&&(or(r,1,n),Sn(r,n));break}}r=r.return}}function jc(n,r,o){var c=n.pingCache;c!==null&&c.delete(r),r=yt(),n.pingedLanes|=n.suspendedLanes&o,dt===n&&(Lt&o)===o&&(jt===4||jt===3&&(Lt&130023424)===Lt&&500>Zt()-zs?wi(n,0):Fs|=o),Sn(n,r)}function Nc(n,r){r===0&&((n.mode&1)===0?r=1:(r=lo,lo<<=1,(lo&130023424)===0&&(lo=4194304)));var o=yt();n=_r(n,r),n!==null&&(or(n,r,o),Sn(n,o))}function Ec(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),Nc(n,o)}function vd(n,r){var o=0;switch(n.tag){case 13:var c=n.stateNode,x=n.memoizedState;x!==null&&(o=x.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(u(314))}c!==null&&c.delete(r),Nc(n,o)}var Pc;Pc=function(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps||An.current)Vt=!0;else{if((n.lanes&o)===0&&(r.flags&128)===0)return Vt=!1,mi(n,r,o);Vt=(n.flags&131072)!==0}else Vt=!1,vt&&(r.flags&1048576)!==0&&tc(r,Ii,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;ko(n,r),n=r.pendingProps;var x=Wr(r,gn.current);Ss(r,o),x=yo(null,r,c,n,x,o);var M=al();return r.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Jt(c)?(M=!0,ds(r)):M=!1,r.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,aa(r),x.updater=_o,r.stateNode=x,x._reactInternals=r,Rr(r,c,n,o),r=mn(null,r,c,!0,M,o)):(r.tag=0,vt&&M&&co(r),en(null,r,x,o),r=r.child),r;case 16:c=r.elementType;e:{switch(ko(n,r),n=r.pendingProps,x=c._init,c=x(c._payload),r.type=c,x=r.tag=yd(c),n=Qn(c,n),x){case 0:r=br(null,r,c,n,o);break e;case 1:r=cn(null,r,c,n,o);break e;case 11:r=yl(null,r,c,n,o);break e;case 14:r=Ki(null,r,c,Qn(c.type,n),o);break e}throw Error(u(306,c,""))}return r;case 0:return c=r.type,x=r.pendingProps,x=r.elementType===c?x:Qn(c,x),br(n,r,c,x,o);case 1:return c=r.type,x=r.pendingProps,x=r.elementType===c?x:Qn(c,x),cn(n,r,c,x,o);case 3:e:{if(gi(r),n===null)throw Error(u(387));c=r.pendingProps,M=r.memoizedState,x=M.element,uc(n,r),ai(r,c,null,o);var q=r.memoizedState;if(c=q.element,Me&&M.isDehydrated)if(M={element:c,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},r.updateQueue.baseState=M,r.memoizedState=M,r.flags&256){x=qi(Error(u(423)),r),r=Yi(n,r,c,o,x);break e}else if(c!==x){x=qi(Error(u(424)),r),r=Yi(n,r,c,o,x);break e}else for(Me&&(En=od(r.stateNode.containerInfo),an=r,vt=!0,Sr=null,fo=!1),o=lc(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Li(),c===x){r=Xr(n,r,o);break e}en(n,r,c,o)}r=r.child}return r;case 5:return ua(r),n===null&&ra(r),c=r.type,x=r.pendingProps,M=n!==null?n.memoizedProps:null,q=x.children,pe(c,x)?q=null:M!==null&&pe(c,M)&&(r.flags|=32),ct(n,r),en(n,r,q,o),r.child;case 6:return n===null&&ra(r),null;case 13:return Na(n,r,o);case 4:return ol(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=zi(r,null,c,o):en(n,r,c,o),r.child;case 11:return c=r.type,x=r.pendingProps,x=r.elementType===c?x:Qn(c,x),yl(n,r,c,x,o);case 7:return en(n,r,r.pendingProps,o),r.child;case 8:return en(n,r,r.pendingProps.children,o),r.child;case 12:return en(n,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,x=r.pendingProps,M=r.memoizedProps,q=x.value,ac(r,c,q),M!==null)if(vr(M.value,q)){if(M.children===x.children&&!An.current){r=Xr(n,r,o);break e}}else for(M=r.child,M!==null&&(M.return=r);M!==null;){var le=M.dependencies;if(le!==null){q=M.child;for(var ge=le.firstContext;ge!==null;){if(ge.context===c){if(M.tag===1){ge=Vr(-1,o&-o),ge.tag=2;var ke=M.updateQueue;if(ke!==null){ke=ke.shared;var be=ke.pending;be===null?ge.next=ge:(ge.next=be.next,be.next=ge),ke.pending=ge}}M.lanes|=o,ge=M.alternate,ge!==null&&(ge.lanes|=o),Ai(M.return,o,r),le.lanes|=o;break}ge=ge.next}}else if(M.tag===10)q=M.type===r.type?null:M.child;else if(M.tag===18){if(q=M.return,q===null)throw Error(u(341));q.lanes|=o,le=q.alternate,le!==null&&(le.lanes|=o),Ai(q,o,r),q=M.sibling}else q=M.child;if(q!==null)q.return=M;else for(q=M;q!==null;){if(q===r){q=null;break}if(M=q.sibling,M!==null){M.return=q.return,q=M;break}q=q.return}M=q}en(n,r,x.children,o),r=r.child}return r;case 9:return x=r.type,c=r.pendingProps.children,Ss(r,o),x=Kn(x),c=c(x),r.flags|=1,en(n,r,c,o),r.child;case 14:return c=r.type,x=Qn(c,r.pendingProps),x=Qn(c.type,x),Ki(n,r,c,x,o);case 15:return Yr(n,r,r.type,r.pendingProps,o);case 17:return c=r.type,x=r.pendingProps,x=r.elementType===c?x:Qn(c,x),ko(n,r),r.tag=1,Jt(c)?(n=!0,ds(r)):n=!1,Ss(r,o),mc(r,c,x),Rr(r,c,x,o),mn(null,r,c,!0,n,o);case 19:return Sl(n,r,o);case 22:return ft(n,r,o)}throw Error(u(156,r.tag))};function Aa(n,r){return Tr(n,r)}function Tc(n,r,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(n,r,o,c){return new Tc(n,r,o,c)}function Gs(n){return n=n.prototype,!(!n||!n.isReactComponent)}function yd(n){if(typeof n=="function")return Gs(n)?1:0;if(n!=null){if(n=n.$$typeof,n===P)return 11;if(n===_)return 14}return 2}function ki(n,r){var o=n.alternate;return o===null?(o=nr(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function Ll(n,r,o,c,x,M){var q=2;if(c=n,typeof n=="function")Gs(n)&&(q=1);else if(typeof n=="string")q=5;else e:switch(n){case k:return dn(o.children,x,M,r);case b:q=8,x|=8;break;case j:return n=nr(12,o,r,x|2),n.elementType=j,n.lanes=M,n;case I:return n=nr(13,o,r,x),n.elementType=I,n.lanes=M,n;case G:return n=nr(19,o,r,x),n.elementType=G,n.lanes=M,n;case T:return Ws(o,x,M,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case C:q=10;break e;case N:q=9;break e;case P:q=11;break e;case _:q=14;break e;case h:q=16,c=null;break e}throw Error(u(130,n==null?n:typeof n,""))}return r=nr(q,o,r,x),r.elementType=n,r.type=c,r.lanes=M,r}function dn(n,r,o,c){return n=nr(7,n,c,r),n.lanes=o,n}function Ws(n,r,o,c){return n=nr(22,n,c,r),n.elementType=T,n.lanes=o,n.stateNode={isHidden:!1},n}function Bs(n,r,o){return n=nr(6,n,null,r),n.lanes=o,n}function Fl(n,r,o){return r=nr(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function Rc(n,r,o,c,x){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ve,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ps(0),this.expirationTimes=ps(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ps(0),this.identifierPrefix=c,this.onRecoverableError=x,Me&&(this.mutableSourceEagerHydrationData=null)}function Da(n,r,o,c,x,M,q,le,ge){return n=new Rc(n,r,o,le,ge),r===1?(r=1,M===!0&&(r|=8)):r=0,M=nr(3,null,null,r),n.current=M,M.stateNode=n,M.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},aa(M),n}function zl(n){if(!n)return ri;n=n._reactInternals;e:{if(R(n)!==n||n.tag!==1)throw Error(u(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Jt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(u(171))}if(n.tag===1){var o=n.type;if(Jt(o))return Xu(n,o,r)}return r}function rs(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(u(188)):(n=Object.keys(n).join(","),Error(u(268,n)));return n=Z(r),n===null?null:n.stateNode}function Al(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Hs(n,r){Al(n,r),(n=n.alternate)&&Al(n,r)}function xd(n){return n=Z(n),n===null?null:n.stateNode}function Mc(){return null}return v.attemptContinuousHydration=function(n){if(n.tag===13){var r=_r(n,134217728);if(r!==null){var o=yt();xn(r,n,134217728,o)}Hs(n,134217728)}},v.attemptDiscreteHydration=function(n){if(n.tag===13){var r=_r(n,1);if(r!==null){var o=yt();xn(r,n,1,o)}Hs(n,1)}},v.attemptHydrationAtCurrentPriority=function(n){if(n.tag===13){var r=Kt(n),o=_r(n,r);if(o!==null){var c=yt();xn(o,n,r,c)}Hs(n,r)}},v.attemptSynchronousHydration=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var o=hs(r.pendingLanes);o!==0&&(Pr(r,o|1),Sn(r,Zt()),(He&6)===0&&(ut(),ln()))}break;case 13:Ma(function(){var c=_r(n,1);if(c!==null){var x=yt();xn(c,n,1,x)}}),Hs(n,1)}},v.batchedUpdates=function(n,r){var o=He;He|=1;try{return n(r)}finally{He=o,He===0&&(ut(),vs&&ln())}},v.createComponentSelector=function(n){return{$$typeof:Qr,value:n}},v.createContainer=function(n,r,o,c,x,M,q){return Da(n,r,!1,null,o,c,x,M,q)},v.createHasPseudoClassSelector=function(n){return{$$typeof:Mn,value:n}},v.createHydrationContainer=function(n,r,o,c,x,M,q,le,ge){return n=Da(o,c,!0,n,x,M,q,le,ge),n.context=zl(null),o=n.current,c=yt(),x=Kt(o),M=Vr(c,x),M.callback=r??null,qr(o,M,x),n.current.lanes=x,or(n,x,c),Sn(n,c),n},v.createPortal=function(n,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:c==null?null:""+c,children:n,containerInfo:r,implementation:o}},v.createRoleSelector=function(n){return{$$typeof:Lr,value:n}},v.createTestNameSelector=function(n){return{$$typeof:bs,value:n}},v.createTextSelector=function(n){return{$$typeof:Po,value:n}},v.deferredUpdates=function(n){var r=Qe,o=Tt.transition;try{return Tt.transition=null,Qe=16,n()}finally{Qe=r,Tt.transition=o}},v.discreteUpdates=function(n,r,o,c,x){var M=Qe,q=Tt.transition;try{return Tt.transition=null,Qe=1,n(r,o,c,x)}finally{Qe=M,Tt.transition=q,He===0&&ut()}},v.findAllNodes=Ar,v.findBoundingRects=function(n,r){if(!Pt)throw Error(u(363));r=Ar(n,r),n=[];for(var o=0;o<r.length;o++)n.push(at(r[o]));for(r=n.length-1;0<r;r--){o=n[r];for(var c=o.x,x=c+o.width,M=o.y,q=M+o.height,le=r-1;0<=le;le--)if(r!==le){var ge=n[le],ke=ge.x,be=ke+ge.width,We=ge.y,Ee=We+ge.height;if(c>=ke&&M>=We&&x<=be&&q<=Ee){n.splice(r,1);break}else if(c!==ke||o.width!==ge.width||Ee<M||We>q){if(!(M!==We||o.height!==ge.height||be<c||ke>x)){ke>c&&(ge.width+=ke-c,ge.x=c),be<x&&(ge.width=x-ke),n.splice(r,1);break}}else{We>M&&(ge.height+=We-M,ge.y=M),Ee<q&&(ge.height=q-We),n.splice(r,1);break}}}return n},v.findHostInstance=rs,v.findHostInstanceWithNoPortals=function(n){return n=K(n),n=n!==null?$(n):null,n===null?null:n.stateNode},v.findHostInstanceWithWarning=function(n){return rs(n)},v.flushControlled=function(n){var r=He;He|=1;var o=Tt.transition,c=Qe;try{Tt.transition=null,Qe=1,n()}finally{Qe=c,Tt.transition=o,He=r,He===0&&(ut(),ln())}},v.flushPassiveEffects=$r,v.flushSync=Ma,v.focusWithin=function(n,r){if(!Pt)throw Error(u(363));for(n=Fr(n),r=zr(n,r),r=Array.from(r),n=0;n<r.length;){var o=r[n++];if(!rn(o)){if(o.tag===5&&sn(o.stateNode))return!0;for(o=o.child;o!==null;)r.push(o),o=o.sibling}}return!1},v.getCurrentUpdatePriority=function(){return Qe},v.getFindAllNodesFailureDescription=function(n,r){if(!Pt)throw Error(u(363));var o=0,c=[];n=[Fr(n),0];for(var x=0;x<n.length;){var M=n[x++],q=n[x++],le=r[q];if((M.tag!==5||!rn(M))&&(To(M,le)&&(c.push(El(le)),q++,q>o&&(o=q)),q<r.length))for(M=M.child;M!==null;)n.push(M,q),M=M.sibling}if(o<r.length){for(n=[];o<r.length;o++)n.push(El(r[o]));return`findAllNodes was able to match part of the selector:
  `+(c.join(" > ")+`

No matching component was found for:
  `)+n.join(" > ")}return null},v.getPublicRootInstance=function(n){return n=n.current,n.child?n.child.tag===5?re(n.child.stateNode):n.child.stateNode:null},v.injectIntoDevTools=function(n){if(n={bundleType:n.bundleType,version:n.version,rendererPackageName:n.rendererPackageName,rendererConfig:n.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:xd,findFiberByHostInstance:n.findFiberByHostInstance||Mc,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")n=!1;else{var r=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(r.isDisabled||!r.supportsFiber)n=!0;else{try{si=r.inject(n),Dn=r}catch{}n=!!r.checkDCE}}return n},v.isAlreadyRendering=function(){return!1},v.observeVisibleRects=function(n,r,o,c){if(!Pt)throw Error(u(363));n=Ar(n,r);var x=sr(n,o,c).disconnect;return{disconnect:function(){x()}}},v.registerMutableSourceForHydration=function(n,r){var o=r._getVersion;o=o(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,o]:n.mutableSourceEagerHydrationData.push(r,o)},v.runWithPriority=function(n,r){var o=Qe;try{return Qe=n,r()}finally{Qe=o}},v.shouldError=function(){return null},v.shouldSuspend=function(){return!1},v.updateContainer=function(n,r,o,c){var x=r.current,M=yt(),q=Kt(x);return o=zl(o),r.context===null?r.context=o:r.pendingContext=o,r=Vr(M,q),r.payload={element:n},c=c===void 0?null:c,c!==null&&(r.callback=c),n=qr(x,r,q),n!==null&&(xn(n,x,q,M),go(n,x,q)),q},v}),uh}var Sp;function Cg(){return Sp||(Sp=1,ah.exports=wg()),ah.exports}var kg=Cg();const jg=Du(kg);var ch={exports:{}},$s={};var _p;function Ng(){return _p||(_p=1,$s.ConcurrentRoot=1,$s.ContinuousEventPriority=4,$s.DefaultEventPriority=16,$s.DiscreteEventPriority=1,$s.IdleEventPriority=536870912,$s.LegacyRoot=0),$s}var wp;function Eg(){return wp||(wp=1,ch.exports=Ng()),ch.exports}var qp=Eg(),Pg=Ye();const Cp={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let kp=!1,jp=!1;const Sh=".react-konva-event",Tg=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Rg=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Mg={};function id(a,d,v=Mg){if(!kp&&"zIndex"in d&&(console.warn(Rg),kp=!0),!jp&&d.draggable){var f=d.x!==void 0||d.y!==void 0,E=d.onDragEnd||d.onDragMove;f&&!E&&(console.warn(Tg),jp=!0)}for(var g in v)if(!Cp[g]){var u=g.slice(0,2)==="on",y=v[g]!==d[g];if(u&&y){var m=g.substr(2).toLowerCase();m.substr(0,7)==="content"&&(m="content"+m.substr(7,1).toUpperCase()+m.substr(8)),a.off(m,v[g])}var S=!d.hasOwnProperty(g);S&&a.setAttr(g,void 0)}var k=d._useStrictMode,b={},j=!1;const C={};for(var g in d)if(!Cp[g]){var u=g.slice(0,2)==="on",N=v[g]!==d[g];if(u&&N){var m=g.substr(2).toLowerCase();m.substr(0,7)==="content"&&(m="content"+m.substr(7,1).toUpperCase()+m.substr(8)),d[g]&&(C[m]=d[g])}!u&&(d[g]!==v[g]||k&&d[g]!==a.getAttr(g))&&(j=!0,b[g]=d[g])}j&&(a.setAttrs(b),eo(a));for(var m in C)a.on(m+Sh,C[m])}function eo(a){if(!Pg.Konva.autoDrawEnabled){var d=a.getLayer()||a.getStage();d&&d.batchDraw()}}var dh=gh();const Kp={},bg={};zu.Node.prototype._applyProps=id;function Ig(a,d){if(typeof d=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${d}`);return}a.add(d),eo(a)}function Lg(a,d,v){let f=zu[a];f||(console.error(`Konva has no node with the type ${a}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${a}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),f=zu.Group);const E={},g={};for(var u in d){var y=u.slice(0,2)==="on";y?g[u]=d[u]:E[u]=d[u]}const m=new f(E);return id(m,g),m}function Fg(a,d,v){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${a}"`)}function zg(a,d,v){return!1}function Ag(a){return a}function Dg(){return null}function Og(){return null}function Ug(a,d,v,f){return bg}function Gg(){}function Wg(a){}function Bg(a,d){return!1}function Hg(){return Kp}function Vg(){return Kp}const qg=setTimeout,Kg=clearTimeout,Yg=-1;function Xg(a,d){return!1}const Qg=!1,Jg=!0,Zg=!0;function $g(a,d){d.parent===a?d.moveToTop():a.add(d),eo(a)}function em(a,d){d.parent===a?d.moveToTop():a.add(d),eo(a)}function Yp(a,d,v){d._remove(),a.add(d),d.setZIndex(v.getZIndex()),eo(a)}function tm(a,d,v){Yp(a,d,v)}function nm(a,d){d.destroy(),d.off(Sh),eo(a)}function rm(a,d){d.destroy(),d.off(Sh),eo(a)}function im(a,d,v){console.error(`Text components are not yet supported in ReactKonva. You text is: "${v}"`)}function sm(a,d,v){}function om(a,d,v,f,E){id(a,E,f)}function lm(a){a.hide(),eo(a)}function am(a){}function um(a,d){(d.visible==null||d.visible)&&a.show()}function cm(a,d){}function dm(a){}function hm(){}const fm=()=>qp.DefaultEventPriority,pm=Object.freeze(Object.defineProperty({__proto__:null,appendChild:$g,appendChildToContainer:em,appendInitialChild:Ig,cancelTimeout:Kg,clearContainer:dm,commitMount:sm,commitTextUpdate:im,commitUpdate:om,createInstance:Lg,createTextInstance:Fg,detachDeletedInstance:hm,finalizeInitialChildren:zg,getChildHostContext:Vg,getCurrentEventPriority:fm,getPublicInstance:Ag,getRootHostContext:Hg,hideInstance:lm,hideTextInstance:am,idlePriority:dh.unstable_IdlePriority,insertBefore:Yp,insertInContainerBefore:tm,isPrimaryRenderer:Qg,noTimeout:Yg,now:dh.unstable_now,prepareForCommit:Dg,preparePortalMount:Og,prepareUpdate:Ug,removeChild:nm,removeChildFromContainer:rm,resetAfterCommit:Gg,resetTextContent:Wg,run:dh.unstable_runWithPriority,scheduleTimeout:qg,shouldDeprioritizeSubtree:Bg,shouldSetTextContent:Xg,supportsMutation:Zg,unhideInstance:um,unhideTextInstance:cm,warnsIfNotActing:Jg},Symbol.toStringTag,{value:"Module"}));var gm=Object.defineProperty,mm=Object.defineProperties,vm=Object.getOwnPropertyDescriptors,Np=Object.getOwnPropertySymbols,ym=Object.prototype.hasOwnProperty,xm=Object.prototype.propertyIsEnumerable,Ep=(a,d,v)=>d in a?gm(a,d,{enumerable:!0,configurable:!0,writable:!0,value:v}):a[d]=v,Pp=(a,d)=>{for(var v in d||(d={}))ym.call(d,v)&&Ep(a,v,d[v]);if(Np)for(var v of Np(d))xm.call(d,v)&&Ep(a,v,d[v]);return a},Sm=(a,d)=>mm(a,vm(d)),Tp,Rp;typeof window<"u"&&((Tp=window.document)!=null&&Tp.createElement||((Rp=window.navigator)==null?void 0:Rp.product)==="ReactNative")?ye.useLayoutEffect:ye.useEffect;function Xp(a,d,v){if(!a)return;if(v(a)===!0)return a;let f=a.child;for(;f;){const E=Xp(f,d,v);if(E)return E;f=f.sibling}}function Qp(a){try{return Object.defineProperties(a,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return a}}const Mp=console.error;console.error=function(){const a=[...arguments].join("");if(a?.startsWith("Warning:")&&a.includes("useContext")){console.error=Mp;return}return Mp.apply(this,arguments)};const _h=Qp(ye.createContext(null));class Jp extends ye.Component{render(){return ye.createElement(_h.Provider,{value:this._reactInternals},this.props.children)}}function _m(){const a=ye.useContext(_h);if(a===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const d=ye.useId();return ye.useMemo(()=>{for(const f of[a,a?.alternate]){if(!f)continue;const E=Xp(f,!1,g=>{let u=g.memoizedState;for(;u;){if(u.memoizedState===d)return!0;u=u.next}});if(E)return E}},[a,d])}function wm(){const a=_m(),[d]=ye.useState(()=>new Map);d.clear();let v=a;for(;v;){if(v.type&&typeof v.type=="object"){const E=v.type._context===void 0&&v.type.Provider===v.type?v.type:v.type._context;E&&E!==_h&&!d.has(E)&&d.set(E,ye.useContext(Qp(E)))}v=v.return}return d}function Cm(){const a=wm();return ye.useMemo(()=>Array.from(a.keys()).reduce((d,v)=>f=>ye.createElement(d,null,ye.createElement(v.Provider,Sm(Pp({},f),{value:a.get(v)}))),d=>ye.createElement(Jp,Pp({},d))),[a])}function km(a){const d=Mt.useRef({});return Mt.useLayoutEffect(()=>{d.current=a}),Mt.useLayoutEffect(()=>()=>{d.current={}},[]),d.current}const jm=a=>{const d=Mt.useRef(null),v=Mt.useRef(null),f=Mt.useRef(null),E=km(a),g=Cm(),u=y=>{const{forwardedRef:m}=a;m&&(typeof m=="function"?m(y):m.current=y)};return Mt.useLayoutEffect(()=>(v.current=new zu.Stage({width:a.width,height:a.height,container:d.current}),u(v.current),f.current=Iu.createContainer(v.current,qp.LegacyRoot,!1,null),Iu.updateContainer(Mt.createElement(g,{},a.children),f.current),()=>{zu.isBrowser&&(u(null),Iu.updateContainer(null,f.current,null),v.current.destroy())}),[]),Mt.useLayoutEffect(()=>{u(v.current),id(v.current,a,E),Iu.updateContainer(Mt.createElement(g,{},a.children),f.current,null)}),Mt.createElement("div",{ref:d,id:a.id,accessKey:a.accessKey,className:a.className,role:a.role,style:a.style,tabIndex:a.tabIndex,title:a.title})},Nm="Layer",to="Group",Ke="Rect",Em="Circle",Pm="Ellipse",Lu="Line",Au="Image",Gt="Text",Tm="Star",Zc="RegularPolygon",Rm="Transformer",Iu=jg(pm);Iu.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Mt.version,rendererPackageName:"react-konva"});const Mm=Mt.forwardRef((a,d)=>Mt.createElement(Jp,{},Mt.createElement(jm,{...a,forwardedRef:d}))),Zp=({widget:a,image:d})=>{const v=ye.useRef(null),{clipShape:f="rectangle",cornerRadius:E=0,opacity:g=1}=a.properties;return ye.useEffect(()=>{if(!v.current||!d)return;const u=v.current,y=document.createElement("canvas"),m=y.getContext("2d");if(!m)return;y.width=a.width,y.height=a.height,m.clearRect(0,0,y.width,y.height),m.save();const S=a.width/2,k=a.height/2,b=Math.min(a.width,a.height)/2;switch(f){case"circle":m.beginPath(),m.arc(S,k,b,0,Math.PI*2),m.closePath();break;case"ellipse":m.beginPath(),m.ellipse(S,k,a.width/2,a.height/2,0,0,Math.PI*2),m.closePath();break;case"triangle":m.beginPath(),m.moveTo(S,k-b),m.lineTo(S+b*Math.cos(Math.PI/6),k+b*Math.sin(Math.PI/6)),m.lineTo(S-b*Math.cos(Math.PI/6),k+b*Math.sin(Math.PI/6)),m.closePath();break;case"diamond":m.beginPath(),m.moveTo(S,k-b),m.lineTo(S+b,k),m.lineTo(S,k+b),m.lineTo(S-b,k),m.closePath();break;case"pentagon":hh(m,S,k,b,5);break;case"hexagon":hh(m,S,k,b,6);break;case"octagon":hh(m,S,k,b,8);break;case"rounded-rectangle":bm(m,0,0,a.width,a.height,E||20);break;default:m.rect(0,0,a.width,a.height);break}m.clip();const j=d.width/d.height,C=a.width/a.height;let N,P,I,G;j>C?(P=a.height,N=d.width*(a.height/d.height),I=(a.width-N)/2,G=0):(N=a.width,P=d.height*(a.width/d.width),I=0,G=(a.height-P)/2),m.drawImage(d,I,G,N,P),m.restore();const _=new window.Image;_.src=y.toDataURL(),_.onload=()=>{u&&(u.image(_),u.getLayer()?.batchDraw())}},[d,a.width,a.height,f,E]),d?s.jsx(Au,{ref:v,width:a.width,height:a.height,opacity:g,listening:!1}):null};function hh(a,d,v,f,E){a.beginPath();for(let g=0;g<E;g++){const u=g*2*Math.PI/E-Math.PI/2,y=d+f*Math.cos(u),m=v+f*Math.sin(u);g===0?a.moveTo(y,m):a.lineTo(y,m)}a.closePath()}function bm(a,d,v,f,E,g){a.beginPath(),a.moveTo(d+g,v),a.lineTo(d+f-g,v),a.quadraticCurveTo(d+f,v,d+f,v+g),a.lineTo(d+f,v+E-g),a.quadraticCurveTo(d+f,v+E,d+f-g,v+E),a.lineTo(d+g,v+E),a.quadraticCurveTo(d,v+E,d,v+E-g),a.lineTo(d,v+g),a.quadraticCurveTo(d,v,d+g,v),a.closePath()}const Im=({widget:a,isSelected:d,onSelect:v,onDragEnd:f,onTransformEnd:E,dragBoundFunc:g})=>{const u=ye.useRef(null),[y,m]=ye.useState({}),[S,k]=ye.useState(0),[b,j]=ye.useState(!1),C=ye.useRef(),{sources:N=[],autoSwitch:P=!1,switchInterval:I=3,transition:G="fade",clipShape:_="rectangle",loop:h=!0}=a.properties;ye.useEffect(()=>{const W={};let z=0;return N.forEach(R=>{const F=new window.Image;F.crossOrigin="anonymous",F.onload=()=>{W[R.id]=F,z++,z===N.length&&m({...W})},F.onerror=()=>{console.error("Failed to load image:",R.value),z++,z===N.length&&m({...W})},F.src=R.value}),()=>{Object.values(W).forEach(R=>{R.onload=null,R.onerror=null})}},[N]),ye.useEffect(()=>{if(!P||N.length<=1){C.current&&clearInterval(C.current);return}return C.current=setInterval(()=>{k(W=>{const z=W+1;return z>=N.length?h?0:W:z})},I*1e3),()=>{C.current&&clearInterval(C.current)}},[P,I,N.length,h]);const T=a.locked||!1,A=N[S],O=A?y[A.id]:null;return s.jsxs(to,{ref:u,id:a.id,x:a.x,y:a.y,width:a.width,height:a.height,rotation:a.rotation||0,draggable:!T,dragBoundFunc:g,opacity:T?.6:1,onClick:v,onTap:v,onDragEnd:f,onTransformEnd:E,children:[s.jsx(Ke,{width:a.width,height:a.height,fill:"transparent",listening:!0}),(!O||N.length===0)&&s.jsx(Ke,{width:a.width,height:a.height,fill:"#9b59b6",listening:!1}),O&&(_&&_!=="rectangle"?s.jsx(Zp,{widget:a,image:O}):s.jsx(Au,{image:O,x:0,y:0,width:a.width,height:a.height,listening:!1})),d&&s.jsx(Ke,{width:a.width,height:a.height,stroke:"#007acc",strokeWidth:2,listening:!1}),N.length>1&&s.jsx(Ke,{x:a.width-40,y:a.height-20,width:35,height:15,fill:"rgba(0, 0, 0, 0.7)",cornerRadius:3,listening:!1}),N.length>1&&s.jsx(Au,{x:a.width-35,y:a.height-18,width:10,height:10,image:(()=>{const W=document.createElement("canvas");W.width=10,W.height=10;const z=W.getContext("2d");z&&(z.fillStyle="#fff",z.font="10px Arial",z.fillText("",0,9));const R=new window.Image;return R.src=W.toDataURL(),R})(),listening:!1})]})},Lm=({widget:a,isSelected:d,onSelect:v,onDragEnd:f,onTransformEnd:E,dragBoundFunc:g})=>{if(a.properties.galleryMode)return s.jsx(Im,{widget:a,isSelected:d,onSelect:v,onDragEnd:f,onTransformEnd:E,dragBoundFunc:g});const[u,y]=ye.useState(null),m=ye.useRef(null),{clipShape:S="rectangle"}=a.properties;ye.useEffect(()=>{if(!a.properties.src){y(null);return}const h=new window.Image;return h.crossOrigin="anonymous",h.onload=()=>{y(h)},h.onerror=()=>{console.error("Failed to load image:",a.properties.src),y(null)},h.src=a.properties.src,()=>{h.onload=null,h.onerror=null}},[a.properties.src]),ye.useEffect(()=>{if(!u||a.properties.objectFit!=="adaptive")return;const{updateWidget:h}=fn.getState(),T=u.width/u.height,A=a.width/a.height;if(Math.abs(T-A)>.01){const O=a.width/T;h(a.id,{height:Math.round(O)})}},[u,a.properties.objectFit,a.width,a.height,a.id]);const b=(()=>{if(!u)return null;const{width:h,height:T}=a,{objectFit:A="contain"}=a.properties,O=u.width/u.height,W=h/T;let z=0,R=0,F=u.width,K=u.height;switch(A){case"cover":{O>W?(F=u.height*W,z=(u.width-F)/2):(K=u.width/W,R=(u.height-K)/2);break}case"contain":break;case"fill":break;case"scale-down":{u.width<=h&&u.height<=T&&(F=u.width,K=u.height);break}}return{cropX:z,cropY:R,cropWidth:F,cropHeight:K}})(),{borderEnabled:j,borderStyle:C,borderWidth:N=2,borderColor:P="#000000"}=a.properties,I=h=>{switch(h){case"dashed":return[10,5];case"dotted":return[2,2];case"double":return[];default:return[]}},G=h=>{m.current&&E(h)},_=a.locked||!1;return s.jsxs(to,{ref:m,id:a.id,x:a.x,y:a.y,width:a.width,height:a.height,rotation:a.rotation||0,draggable:!_,dragBoundFunc:g,opacity:_?.6:1,onClick:v,onTap:v,onDragEnd:f,onTransformEnd:G,children:[s.jsx(Ke,{width:a.width,height:a.height,fill:"transparent",listening:!0}),!u&&s.jsx(Ke,{width:a.width,height:a.height,fill:"#9b59b6",listening:!1}),u&&(S&&S!=="rectangle"?s.jsx(Zp,{widget:a,image:u}):b&&s.jsx(Au,{image:u,x:0,y:0,width:a.width,height:a.height,crop:{x:b.cropX,y:b.cropY,width:b.cropWidth,height:b.cropHeight},listening:!1})),d&&s.jsx(Ke,{width:a.width,height:a.height,stroke:"#007acc",strokeWidth:2,listening:!1}),j&&s.jsx(Ke,{width:a.width,height:a.height,stroke:P,strokeWidth:N,dash:I(C),listening:!1})]})},Fm=({widget:a,isSelected:d,onSelect:v,onDragEnd:f,onTransformEnd:E,dragBoundFunc:g})=>{const u=ye.useRef(null),y=ye.useRef(null),{text:m="Button",backgroundColor:S="#2ecc71",textColor:k="#ffffff",fontSize:b=16,fontFamily:j="Arial",fontWeight:C="normal",fontStyle:N="normal",textAlign:P="center",borderRadius:I=8,borderWidth:G=0,borderColor:_="#000000",borderStyle:h="solid",paddingX:T=16,paddingY:A=8,shadowEnabled:O=!1,shadowColor:W="#000000",shadowBlur:z=10,shadowOffsetX:R=0,shadowOffsetY:F=4,shadowOpacity:K=.3}=a.properties,Z=a.locked||!1,Y=()=>{switch(h){case"dashed":return[10,5];case"dotted":return[3,3];default:return[]}};return s.jsxs(to,{ref:u,id:a.id,x:a.x,y:a.y,width:a.width,height:a.height,rotation:a.rotation||0,draggable:!Z,dragBoundFunc:g,opacity:Z?.6:1,onClick:v,onTap:v,onDragEnd:f,onTransformEnd:E,children:[O&&s.jsx(Ke,{x:R,y:F,width:a.width,height:a.height,cornerRadius:I,fill:W,opacity:K,blur:z,listening:!1}),s.jsx(Ke,{width:a.width,height:a.height,fill:S,cornerRadius:I,stroke:G>0?_:void 0,strokeWidth:G,dash:Y(),listening:!1}),s.jsx(Gt,{ref:y,text:m,x:T,y:0,width:a.width-T*2,height:a.height,fontSize:b,fontFamily:j,fontStyle:C==="bold"?"bold":N,fill:k,align:P,verticalAlign:"middle",listening:!1}),s.jsx(Ke,{width:a.width,height:a.height,fill:"transparent",listening:!0}),d&&s.jsx(Ke,{width:a.width,height:a.height,stroke:"#007acc",strokeWidth:2,cornerRadius:I,listening:!1})]})},zm=({widget:a,isSelected:d,onSelect:v,onDragEnd:f,onTransformEnd:E,dragBoundFunc:g})=>{const u=ye.useRef(null),{text:y="Text",fontSize:m=16,fontFamily:S="Arial",fontWeight:k="normal",fontStyle:b="normal",textAlign:j="left",verticalAlign:C="top",textColor:N="#000000",backgroundColor:P="#ffffff",lineHeight:I=1.2,padding:G=8,textDecoration:_="none"}=a.properties,h=a.locked||!1,T=()=>_==="underline"?"underline":_==="line-through"?"line-through":"";return s.jsxs(to,{ref:u,id:a.id,x:a.x,y:a.y,width:a.width,height:a.height,rotation:a.rotation||0,draggable:!h,dragBoundFunc:g,opacity:h?.6:1,onClick:v,onTap:v,onDragEnd:f,onTransformEnd:E,children:[P!=="transparent"&&s.jsx(Ke,{width:a.width,height:a.height,fill:P,listening:!1}),s.jsx(Gt,{text:y,x:G,y:G,width:a.width-G*2,height:a.height-G*2,fontSize:m,fontFamily:S,fontStyle:k==="bold"?"bold":b,fill:N,align:j,verticalAlign:C,lineHeight:I,textDecoration:T(),listening:!1}),s.jsx(Ke,{width:a.width,height:a.height,fill:"transparent",listening:!0}),d&&s.jsx(Ke,{width:a.width,height:a.height,stroke:"#007acc",strokeWidth:2,listening:!1})]})},Am=({widget:a,isSelected:d,onSelect:v,onDragEnd:f,onTransformEnd:E,dragBoundFunc:g})=>{const u=ye.useRef(null),[y,m]=ye.useState(0),{sources:S=[],autoNext:k=!0,loop:b=!0}=a.properties,j=a.locked||!1;return S[y],s.jsxs(to,{ref:u,id:a.id,x:a.x,y:a.y,width:a.width,height:a.height,rotation:a.rotation||0,draggable:!j,dragBoundFunc:g,opacity:j?.6:1,onClick:v,onTap:v,onDragEnd:f,onTransformEnd:E,children:[s.jsx(Ke,{width:a.width,height:a.height,fill:"transparent",listening:!0}),s.jsx(Ke,{width:a.width,height:a.height,fill:"#000000",listening:!1}),s.jsx(Gt,{x:a.width/2,y:a.height/2-30,text:"",fontSize:60,fill:"#ffffff",align:"center",width:a.width,offsetX:a.width/2,listening:!1}),s.jsx(Gt,{x:0,y:a.height/2+40,text:"PLAYLIST",fontSize:16,fill:"#ffffff",align:"center",width:a.width,listening:!1}),d&&s.jsx(Ke,{width:a.width,height:a.height,stroke:"#007acc",strokeWidth:2,listening:!1}),S.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(Ke,{x:a.width-50,y:a.height-25,width:45,height:20,fill:"rgba(0, 0, 0, 0.8)",cornerRadius:4,listening:!1}),s.jsx(Gt,{x:a.width-48,y:a.height-21,text:` ${S.length}`,fontSize:12,fill:"#ffffff",listening:!1})]})]})},Dm=({widget:a,isSelected:d,onSelect:v,onDragEnd:f,onTransformEnd:E,dragBoundFunc:g})=>{if(a.properties.playlistMode)return s.jsx(Am,{widget:a,isSelected:d,onSelect:v,onDragEnd:f,onTransformEnd:E,dragBoundFunc:g});const u=ye.useRef(null),y=ye.useRef(null),[m,S]=ye.useState(null),k=ye.useRef(),{sourceType:b="url",src:j="",rtspUrl:C="",isLocalFile:N=!1,fileName:P="",objectFit:I="contain",borderEnabled:G=!1,borderStyle:_="solid",borderWidth:h=2,borderColor:T="#000000",autoplay:A=!1,loop:O=!1,muted:W=!0,controls:z=!1}=a.properties;ye.useEffect(()=>{const re=document.createElement("video");return re.crossOrigin="anonymous",re.loop=O,re.muted=W,re.playsInline=!0,b==="url"&&j?(re.src=j,re.onloadedmetadata=()=>{S(re),A&&re.play().catch(L=>{console.log("Autoplay prevented:",L)})},re.onerror=()=>{console.error("Failed to load video:",j),S(null)}):S(null),y.current=re,()=>{k.current&&cancelAnimationFrame(k.current),re.pause(),re.src="",re.load()}},[j,b,A,O,W]),ye.useEffect(()=>{if(!m)return;const re=()=>{const L=u.current?.getLayer();L&&L.batchDraw(),k.current=requestAnimationFrame(re)};return k.current=requestAnimationFrame(re),()=>{k.current&&cancelAnimationFrame(k.current)}},[m]),ye.useEffect(()=>{if(I!=="adaptive"||!m)return;const{updateWidget:re}=fn.getState(),L=m.videoWidth/m.videoHeight||16/9,U=a.width/a.height;if(Math.abs(L-U)>.01){const V=a.width/L;re(a.id,{height:Math.round(V)})}},[I,m,a.width,a.height,a.id]);const F=(()=>{if(!m||m.videoWidth===0)return null;const{width:re,height:L}=a,U=m.videoWidth/m.videoHeight,V=re/L;let H=0,D=0,J=m.videoWidth,te=m.videoHeight,ce=0,pe=0,ie=re,X=L;switch(I){case"cover":{U>V?(J=m.videoHeight*V,H=(m.videoWidth-J)/2):(te=m.videoWidth/V,D=(m.videoHeight-te)/2);break}case"contain":{U>V?(X=re/U,pe=(L-X)/2):(ie=L*U,ce=(re-ie)/2);break}case"scale-down":{m.videoWidth<=re&&m.videoHeight<=L?(ie=m.videoWidth,X=m.videoHeight,ce=(re-ie)/2,pe=(L-X)/2):U>V?(X=re/U,pe=(L-X)/2):(ie=L*U,ce=(re-ie)/2);break}}return{crop:{x:H,y:D,width:J,height:te},position:{x:ce,y:pe,width:ie,height:X}}})(),K=re=>{switch(re){case"dashed":return[10,5];case"dotted":return[2,2];case"double":return[];default:return[]}},Z=re=>{u.current&&E(re)},Y=re=>{v(re),z&&m&&(m.paused?m.play():m.pause())},$=a.locked||!1,Q=()=>b==="rtsp"&&C?` RTSP
${C.substring(0,30)}...`:b==="url"&&j?N&&P?` ${P}`:` 
${j.substring(0,30)}...`:` 
  `;return s.jsxs(to,{ref:u,id:a.id,x:a.x,y:a.y,width:a.width,height:a.height,rotation:a.rotation||0,draggable:!$,dragBoundFunc:g,opacity:$?.6:1,onClick:Y,onTap:Y,onDragEnd:f,onTransformEnd:Z,children:[s.jsx(Ke,{width:a.width,height:a.height,fill:"transparent",listening:!0}),s.jsx(Ke,{width:a.width,height:a.height,fill:b==="rtsp"?"#2c3e50":"#f39c12",listening:!1}),m&&F?s.jsx(Au,{image:m,x:F.position.x,y:F.position.y,width:F.position.width,height:F.position.height,crop:F.crop,listening:!1}):s.jsx(Gt,{text:Q(),x:0,y:0,width:a.width,height:a.height,fontSize:14,fontFamily:"Arial",fill:"#ffffff",align:"center",verticalAlign:"middle",listening:!1}),b==="rtsp"&&s.jsx(Ke,{x:10,y:10,width:45,height:20,fill:"#ff0000",cornerRadius:4,listening:!1}),b==="rtsp"&&s.jsx(Gt,{text:"LIVE",x:10,y:13,width:45,fontSize:12,fontFamily:"Arial",fontWeight:"bold",fill:"#ffffff",align:"center",listening:!1}),m&&!m.paused&&s.jsx(Gt,{text:"",x:a.width-30,y:10,fontSize:16,fontFamily:"Arial",fill:"#00ff00",listening:!1}),z&&m&&s.jsx(Gt,{text:m.paused?" ":" ",x:10,y:a.height-30,fontSize:12,fontFamily:"Arial",fill:"#ffffff",listening:!1}),d&&s.jsx(Ke,{width:a.width,height:a.height,stroke:"#007acc",strokeWidth:2,listening:!1}),G&&s.jsx(Ke,{width:a.width,height:a.height,stroke:T,strokeWidth:h,dash:K(_),listening:!1})]})},Om=({widget:a,isSelected:d,onSelect:v,onDragEnd:f,onTransformEnd:E,dragBoundFunc:g})=>{const u=ye.useRef(null),{shapeType:y="rectangle",fillColor:m="#4a90e2",strokeColor:S="#2c3e50",strokeWidth:k=0,cornerRadius:b=0,opacity:j=1}=a.properties,C=a.locked||!1,N=()=>{const P={fill:m,stroke:k>0?S:void 0,strokeWidth:k,opacity:j,listening:!1};switch(y){case"rectangle":return s.jsx(Ke,{x:0,y:0,width:a.width,height:a.height,cornerRadius:b,...P});case"circle":const I=Math.min(a.width,a.height)/2;return s.jsx(Em,{x:a.width/2,y:a.height/2,radius:I,...P});case"ellipse":return s.jsx(Pm,{x:a.width/2,y:a.height/2,radiusX:a.width/2,radiusY:a.height/2,...P});case"triangle":return s.jsx(Zc,{x:a.width/2,y:a.height/2,sides:3,radius:Math.min(a.width,a.height)/2,...P});case"pentagon":return s.jsx(Zc,{x:a.width/2,y:a.height/2,sides:5,radius:Math.min(a.width,a.height)/2,...P});case"hexagon":return s.jsx(Zc,{x:a.width/2,y:a.height/2,sides:6,radius:Math.min(a.width,a.height)/2,...P});case"star":return s.jsx(Tm,{x:a.width/2,y:a.height/2,numPoints:5,innerRadius:Math.min(a.width,a.height)/4,outerRadius:Math.min(a.width,a.height)/2,...P});case"diamond":return s.jsx(Zc,{x:a.width/2,y:a.height/2,sides:4,radius:Math.min(a.width,a.height)/2,rotation:45,...P});case"line":return s.jsx(Lu,{points:[0,a.height/2,a.width,a.height/2],stroke:S,strokeWidth:Math.max(k,2),opacity:j,listening:!1});case"arrow":const G=a.width,_=a.height,h=_*.6,T=_*.4;return s.jsx(Lu,{points:[0,_/2-T/2,G-h,_/2-T/2,G-h,0,G,_/2,G-h,_,G-h,_/2+T/2,0,_/2+T/2],closed:!0,fill:m,stroke:k>0?S:void 0,strokeWidth:k,opacity:j,listening:!1});default:return s.jsx(Ke,{x:0,y:0,width:a.width,height:a.height,...P})}};return s.jsxs(to,{ref:u,id:a.id,x:a.x,y:a.y,width:a.width,height:a.height,rotation:a.rotation||0,draggable:!C,dragBoundFunc:g,opacity:C?.6:1,onClick:v,onTap:v,onDragEnd:f,onTransformEnd:E,children:[s.jsx(Ke,{width:a.width,height:a.height,fill:"transparent",listening:!0}),N(),d&&s.jsx(Ke,{width:a.width,height:a.height,stroke:"#007acc",strokeWidth:2,listening:!1})]})},Um=({widget:a,isSelected:d,onSelect:v,onDragEnd:f,onTransformEnd:E,dragBoundFunc:g})=>{const u=ye.useRef(null),[y,m]=ye.useState(null),[S,k]=ye.useState(null),{orientation:b="horizontal",items:j=[{id:"1",label:""},{id:"2",label:" "},{id:"3",label:"",children:[{id:"3-1",label:" 1"},{id:"3-2",label:" 2"}]},{id:"4",label:""}],backgroundColor:C="#2c3e50",textColor:N="#ffffff",hoverColor:P="#34495e",fontSize:I=16,fontFamily:G="Arial",itemPadding:_=16,submenuBackgroundColor:h="#34495e",submenuTextColor:T="#ffffff",borderWidth:A=0,borderColor:O="#000000",itemHeight:W=40}=a.properties,z=a.locked||!1,R=b==="horizontal",F=Y=>Y.length*(I*.6)+_*2,K=()=>{const Y=[];let $=0;return j.forEach((Q,re)=>{const L=F(Q.label),U=y===Q.id,V=S===Q.id,H=Q.children&&Q.children.length>0;Y.push(s.jsx(Ke,{x:$,y:0,width:L,height:W,fill:U?P:C,listening:!0,onMouseEnter:()=>m(Q.id),onMouseLeave:()=>m(null),onClick:()=>{H&&k(S===Q.id?null:Q.id)}},`bg-${Q.id}`)),Y.push(s.jsx(Gt,{x:$,y:0,width:L,height:W,text:Q.label,fontSize:I,fontFamily:G,fill:N,align:"center",verticalAlign:"middle",listening:!1},`text-${Q.id}`)),H&&Y.push(s.jsx(Gt,{x:$+L-20,y:0,width:20,height:W,text:"",fontSize:10,fill:N,align:"center",verticalAlign:"middle",listening:!1},`arrow-${Q.id}`)),re<j.length-1&&Y.push(s.jsx(Lu,{points:[$+L,5,$+L,W-5],stroke:O,strokeWidth:1,opacity:.3,listening:!1},`divider-${Q.id}`)),V&&H&&Q.children.forEach((D,J)=>{const te=W+J*W,ce=Math.max(L,F(D.label));Y.push(s.jsx(Ke,{x:$,y:te,width:ce,height:W,fill:h,listening:!0,onMouseEnter:()=>m(D.id),onMouseLeave:()=>m(null)},`submenu-bg-${D.id}`)),Y.push(s.jsx(Gt,{x:$+_/2,y:te,width:ce-_/2,height:W,text:D.label,fontSize:I-2,fontFamily:G,fill:T,align:"left",verticalAlign:"middle",listening:!1},`submenu-text-${D.id}`))}),$+=L}),Y},Z=()=>{const Y=[];let $=0;const Q=a.width;return j.forEach((re,L)=>{const U=y===re.id,V=S===re.id,H=re.children&&re.children.length>0;Y.push(s.jsx(Ke,{x:0,y:$,width:Q,height:W,fill:U?P:C,listening:!0,onMouseEnter:()=>m(re.id),onMouseLeave:()=>m(null),onClick:()=>{H&&k(S===re.id?null:re.id)}},`bg-${re.id}`)),Y.push(s.jsx(Gt,{x:_,y:$,width:Q-_*2-(H?20:0),height:W,text:re.label,fontSize:I,fontFamily:G,fill:N,align:"left",verticalAlign:"middle",listening:!1},`text-${re.id}`)),H&&Y.push(s.jsx(Gt,{x:Q-20,y:$,width:20,height:W,text:V?"":"",fontSize:10,fill:N,align:"center",verticalAlign:"middle",listening:!1},`arrow-${re.id}`)),$+=W,L<j.length-1&&!V&&Y.push(s.jsx(Lu,{points:[10,$,Q-10,$],stroke:O,strokeWidth:1,opacity:.3,listening:!1},`divider-${re.id}`)),V&&H&&(re.children.forEach((D,J)=>{const te=y===D.id;Y.push(s.jsx(Ke,{x:0,y:$,width:Q,height:W,fill:te?P:h,listening:!0,onMouseEnter:()=>m(D.id),onMouseLeave:()=>m(null)},`submenu-bg-${D.id}`)),Y.push(s.jsx(Gt,{x:_*2,y:$,width:Q-_*3,height:W,text:D.label,fontSize:I-2,fontFamily:G,fill:T,align:"left",verticalAlign:"middle",listening:!1},`submenu-text-${D.id}`)),$+=W}),L<j.length-1&&Y.push(s.jsx(Lu,{points:[10,$,Q-10,$],stroke:O,strokeWidth:1,opacity:.3,listening:!1},`divider-after-${re.id}`)))}),Y};return s.jsxs(to,{ref:u,id:a.id,x:a.x,y:a.y,width:a.width,height:a.height,rotation:a.rotation||0,draggable:!z,dragBoundFunc:g,opacity:z?.6:1,onClick:v,onTap:v,onDragEnd:f,onTransformEnd:E,children:[s.jsx(Ke,{width:a.width,height:a.height,fill:"transparent",listening:!0}),s.jsx(Ke,{width:a.width,height:a.height,fill:C,listening:!1}),A>0&&s.jsx(Ke,{width:a.width,height:a.height,stroke:O,strokeWidth:A,listening:!1}),R?K():Z(),d&&s.jsx(Ke,{width:a.width,height:a.height,stroke:"#007acc",strokeWidth:2,listening:!1})]})},Gm={shape:"#4a90e2",rectangle:"#4a90e2",button:"#2ecc71",text:"#e74c3c",image:"#9b59b6",video:"#f39c12"},Wm=()=>{const{project:a,selectedWidgetIds:d,selectWidget:v,clearSelection:f,updateWidget:E,zoom:g,gridEnabled:u,snapToGrid:y,gridSize:m,gridLineWidth:S,gridColor:k,pendingWidget:b,addWidgetAtPosition:j,clearPendingWidget:C}=fn(),N=ye.useRef(null),P=ye.useRef(null),I=W=>y?Math.round(W/m)*m:W,G=W=>({x:I(W.x),y:I(W.y)});if(ye.useEffect(()=>{if(!P.current||!a)return;const W=N.current,z=d.map(R=>a.widgets.find(K=>K.id===R)?.locked?null:W.findOne(`#${R}`)).filter(Boolean);P.current.nodes(z),P.current.getLayer().batchDraw()},[d,a]),!a)return null;const _=W=>{if(b){const F=W.target.getStage().getPointerPosition();F&&j(F.x,F.y);return}(W.target===W.target.getStage()||W.target.attrs.id==="canvas-background")&&f()},h=(W,z)=>{z.cancelBubble=!0;const R=z.evt.ctrlKey||z.evt.metaKey;v(W,R)},T=(W,z)=>{const R=I(z.target.x()),F=I(z.target.y());E(W,{x:R,y:F})},A=(W,z)=>{const R=z.target,F=R.scaleX(),K=R.scaleY();R.scaleX(1),R.scaleY(1);const Z=R.width?R.width():R.attrs.width||100,Y=R.height?R.height():R.attrs.height||100;let $=Math.max(10,Z*F),Q=Math.max(10,Y*K),re=R.x(),L=R.y();y&&($=I($),Q=I(Q),re=I(re),L=I(L)),E(W,{x:re,y:L,width:$,height:Q,rotation:R.rotation()})},O=()=>{if(!u)return null;const W=[],{width:z,height:R}=a.canvas;for(let F=0;F<=z/m;F++)W.push(s.jsx(Ke,{x:F*m,y:0,width:S,height:R,fill:k},`v-${F}`));for(let F=0;F<=R/m;F++)W.push(s.jsx(Ke,{x:0,y:F*m,width:z,height:S,fill:k},`h-${F}`));return W};return s.jsxs("div",{className:"canvas-container",children:[s.jsx("div",{className:"canvas-scroll",children:s.jsx("div",{className:"canvas-wrapper",style:{transform:`scale(${g})`,transformOrigin:"top left",cursor:b?"crosshair":"default"},children:s.jsx(Mm,{ref:N,width:a.canvas.width,height:a.canvas.height,onClick:_,onTap:_,children:s.jsxs(Nm,{children:[s.jsx(Ke,{id:"canvas-background",x:0,y:0,width:a.canvas.width,height:a.canvas.height,fill:a.canvas.backgroundColor||"#ffffff"}),O(),a.widgets.slice().sort((W,z)=>(W.zIndex||0)-(z.zIndex||0)).map(W=>{const z=W.locked||!1;return W.type==="image"?s.jsxs(Mt.Fragment,{children:[s.jsx(Lm,{widget:W,isSelected:d.includes(W.id),onSelect:R=>h(W.id,R),onDragEnd:R=>T(W.id,R),onTransformEnd:R=>A(W.id,R),dragBoundFunc:y?G:void 0}),z&&s.jsx(Gt,{x:W.x+5,y:W.y+5,text:"",fontSize:16,listening:!1})]},W.id):W.type==="button"?s.jsxs(Mt.Fragment,{children:[s.jsx(Fm,{widget:W,isSelected:d.includes(W.id),onSelect:R=>h(W.id,R),onDragEnd:R=>T(W.id,R),onTransformEnd:R=>A(W.id,R),dragBoundFunc:y?G:void 0}),z&&s.jsx(Gt,{x:W.x+5,y:W.y+5,text:"",fontSize:16,listening:!1})]},W.id):W.type==="text"?s.jsxs(Mt.Fragment,{children:[s.jsx(zm,{widget:W,isSelected:d.includes(W.id),onSelect:R=>h(W.id,R),onDragEnd:R=>T(W.id,R),onTransformEnd:R=>A(W.id,R),dragBoundFunc:y?G:void 0}),z&&s.jsx(Gt,{x:W.x+5,y:W.y+5,text:"",fontSize:16,listening:!1})]},W.id):W.type==="video"?s.jsxs(Mt.Fragment,{children:[s.jsx(Dm,{widget:W,isSelected:d.includes(W.id),onSelect:R=>h(W.id,R),onDragEnd:R=>T(W.id,R),onTransformEnd:R=>A(W.id,R),dragBoundFunc:y?G:void 0}),z&&s.jsx(Gt,{x:W.x+5,y:W.y+5,text:"",fontSize:16,listening:!1})]},W.id):W.type==="shape"||W.type==="rectangle"?s.jsxs(Mt.Fragment,{children:[s.jsx(Om,{widget:W,isSelected:d.includes(W.id),onSelect:R=>h(W.id,R),onDragEnd:R=>T(W.id,R),onTransformEnd:R=>A(W.id,R),dragBoundFunc:y?G:void 0}),z&&s.jsx(Gt,{x:W.x+5,y:W.y+5,text:"",fontSize:16,listening:!1})]},W.id):W.type==="menu"?s.jsxs(Mt.Fragment,{children:[s.jsx(Um,{widget:W,isSelected:d.includes(W.id),onSelect:R=>h(W.id,R),onDragEnd:R=>T(W.id,R),onTransformEnd:R=>A(W.id,R),dragBoundFunc:y?G:void 0}),z&&s.jsx(Gt,{x:W.x+5,y:W.y+5,text:"",fontSize:16,listening:!1})]},W.id):s.jsxs(Mt.Fragment,{children:[s.jsx(Ke,{id:W.id,x:W.x,y:W.y,width:W.width,height:W.height,rotation:W.rotation||0,fill:Gm[W.type]||"#4a90e2",stroke:d.includes(W.id)?"#007acc":void 0,strokeWidth:d.includes(W.id)?2:0,opacity:z?.6:1,draggable:!z,onClick:R=>h(W.id,R),onTap:R=>h(W.id,R),onDragEnd:R=>T(W.id,R),onTransformEnd:R=>A(W.id,R)}),z&&s.jsx(Gt,{x:W.x+5,y:W.y+5,text:"",fontSize:16,listening:!1})]},W.id)}),s.jsx(Rm,{ref:P,boundBoxFunc:(W,z)=>z.width<10||z.height<10?W:z})]})})})}),s.jsxs("div",{className:"canvas-info",children:[s.jsxs("span",{children:[a.canvas.width,"  ",a.canvas.height," px"]}),d.length>0&&s.jsxs("span",{children:[": ",d.length]})]})]})},Bm="modulepreload",Hm=function(a,d){return new URL(a,d).href},bp={},Ip=function(d,v,f){let E=Promise.resolve();if(v&&v.length>0){let S=function(k){return Promise.all(k.map(b=>Promise.resolve(b).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};const u=document.getElementsByTagName("link"),y=document.querySelector("meta[property=csp-nonce]"),m=y?.nonce||y?.getAttribute("nonce");E=S(v.map(k=>{if(k=Hm(k,f),k in bp)return;bp[k]=!0;const b=k.endsWith(".css"),j=b?'[rel="stylesheet"]':"";if(f)for(let N=u.length-1;N>=0;N--){const P=u[N];if(P.href===k&&(!b||P.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${k}"]${j}`))return;const C=document.createElement("link");if(C.rel=b?"stylesheet":Bm,b||(C.as="script"),C.crossOrigin="",C.href=k,m&&C.setAttribute("nonce",m),document.head.appendChild(C),b)return new Promise((N,P)=>{C.addEventListener("load",N),C.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${k}`)))})}))}function g(u){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=u,window.dispatchEvent(y),!y.defaultPrevented)throw u}return E.then(u=>{for(const y of u||[])y.status==="rejected"&&g(y.reason);return d().catch(g)})},Lp=({widget:a,onUpdate:d,allWidgets:v})=>{const f=a.properties.actions||[],E=()=>{const y={type:"url",url:""};d([...f,y])},g=(y,m)=>{const S=[...f];S[y]={...S[y],...m},d(S)},u=y=>{const m=f.filter((S,k)=>k!==y);d(m)};return s.jsxs("div",{className:"action-editor",children:[s.jsx("h4",{style:{marginBottom:"12px",fontSize:"12px",color:"#aaa"},children:"  "}),f.length===0&&s.jsx("div",{style:{padding:"16px",background:"#252525",borderRadius:"6px",textAlign:"center",color:"#888",fontSize:"13px",marginBottom:"12px"},children:" .   ."}),f.map((y,m)=>s.jsxs("div",{className:"action-item",children:[s.jsxs("div",{className:"action-header",children:[s.jsxs("span",{className:"action-number",children:["#",m+1]}),s.jsx("button",{className:"btn-danger-small",onClick:()=>u(m),title:" ",children:""})]}),s.jsxs("div",{className:"action-body",children:[s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:y.type,onChange:S=>g(m,{type:S.target.value}),children:[s.jsx("option",{value:"url",children:"  URL"}),s.jsx("option",{value:"page",children:"   "}),s.jsx("option",{value:"popup",children:"  popup"}),s.jsx("option",{value:"widget_show",children:"  "}),s.jsx("option",{value:"widget_hide",children:"  "}),s.jsx("option",{value:"video_play",children:"  "}),s.jsx("option",{value:"video_stop",children:"  "})]})]}),y.type==="url"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:"URL "}),s.jsx("input",{type:"text",value:y.url||"",onChange:S=>g(m,{url:S.target.value}),placeholder:"https://example.com"})]}),s.jsx("div",{className:"property-field",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:y.openInNewTab||!1,onChange:S=>g(m,{openInNewTab:S.target.checked})}),"   "]})})]}),y.type==="page"&&s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:"ID "}),s.jsx("input",{type:"text",value:y.pageId||"",onChange:S=>g(m,{pageId:S.target.value}),placeholder:"page-1"}),s.jsx("div",{style:{fontSize:"11px",color:"#888",marginTop:"4px"},children:" ID   "})]}),y.type==="popup"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" popup"}),s.jsx("input",{type:"text",value:y.popupTitle||"",onChange:S=>g(m,{popupTitle:S.target.value}),placeholder:""})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" popup"}),s.jsx("textarea",{value:y.popupContent||"",onChange:S=>g(m,{popupContent:S.target.value}),rows:4,placeholder:" ..."})]}),s.jsxs("div",{style:{display:"flex",gap:"12px"},children:[s.jsxs("div",{className:"property-field",style:{flex:1},children:[s.jsx("label",{children:" (px)"}),s.jsx("input",{type:"number",value:y.popupWidth||400,onChange:S=>g(m,{popupWidth:parseInt(S.target.value)}),min:200,max:1e3})]}),s.jsxs("div",{className:"property-field",style:{flex:1},children:[s.jsx("label",{children:" (px)"}),s.jsx("input",{type:"number",value:y.popupHeight||300,onChange:S=>g(m,{popupHeight:parseInt(S.target.value)}),min:150,max:800})]})]})]}),(y.type==="widget_show"||y.type==="widget_hide")&&s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:y.targetWidgetId||"",onChange:S=>g(m,{targetWidgetId:S.target.value}),children:[s.jsx("option",{value:"",children:" ..."}),v.filter(S=>S.id!==a.id).map(S=>s.jsxs("option",{value:S.id,children:[S.type," - ",S.id]},S.id))]})]}),(y.type==="video_play"||y.type==="video_stop")&&s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:y.targetWidgetId||"",onChange:S=>g(m,{targetWidgetId:S.target.value}),children:[s.jsx("option",{value:"",children:" ..."}),v.filter(S=>S.type==="video").map(S=>s.jsxs("option",{value:S.id,children:["Video - ",S.id]},S.id))]})]})]})]},m)),s.jsx("button",{className:"btn-secondary",onClick:E,style:{width:"100%",marginTop:"8px"},children:"  "})]})},Vm=()=>{const{project:a,selectedWidgetIds:d,updateWidget:v}=fn();if(!a)return null;const f=d.length===1?a.widgets.find(u=>u.id===d[0]):null,E=(u,y)=>{f&&v(f.id,{[u]:y})},g=(u,y)=>{f&&v(f.id,{properties:{...f.properties,[u]:y}})};return f?s.jsxs("div",{className:"properties-panel panel",children:[s.jsxs("div",{className:"properties-header",children:[s.jsx("h3",{children:""}),s.jsx("span",{className:"widget-type-badge",children:f.type})]}),s.jsxs("div",{className:"properties-content",children:[s.jsxs("div",{className:"property-section",children:[s.jsx("h4",{children:"  "}),s.jsxs("div",{className:"property-row",children:[s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:"X"}),s.jsx("input",{type:"number",value:Math.round(f.x),onChange:u=>E("x",parseFloat(u.target.value))})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:"Y"}),s.jsx("input",{type:"number",value:Math.round(f.y),onChange:u=>E("y",parseFloat(u.target.value))})]})]}),s.jsxs("div",{className:"property-row",children:[s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:""}),s.jsx("input",{type:"number",value:Math.round(f.width),onChange:u=>E("width",parseFloat(u.target.value)),min:1})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:""}),s.jsx("input",{type:"number",value:Math.round(f.height),onChange:u=>E("height",parseFloat(u.target.value)),min:1})]})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" ()"}),s.jsx("input",{type:"number",value:Math.round(f.rotation||0),onChange:u=>E("rotation",parseFloat(u.target.value))})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:"Z-Index ()"}),s.jsx("input",{type:"number",min:"0",value:f.zIndex||0,onChange:u=>E("zIndex",Math.max(0,parseInt(u.target.value)||0))}),s.jsxs("div",{style:{marginTop:"8px",display:"flex",gap:"4px"},children:[s.jsx("button",{className:"btn-secondary",onClick:()=>{const{bringToFront:u}=fn.getState();u(f.id)},style:{flex:1,fontSize:"11px",padding:"4px"},title:"  ",children:" "}),s.jsx("button",{className:"btn-secondary",onClick:()=>{const{sendToBack:u}=fn.getState();u(f.id)},style:{flex:1,fontSize:"11px",padding:"4px"},title:"  ",children:" "})]})]}),s.jsxs("div",{className:"property-field",style:{marginTop:"12px"},children:[s.jsx("button",{className:f.locked?"btn-danger":"btn-secondary",onClick:()=>{const{toggleLockWidget:u}=fn.getState();u(f.id)},style:{width:"100%"},children:f.locked?" ":" "}),f.locked&&s.jsx("div",{style:{fontSize:"11px",color:"#888",marginTop:"4px"},children:"      "})]})]}),s.jsxs("div",{className:"property-section",children:[s.jsx("h4",{children:" "}),f.type==="shape"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:f.properties.shapeType||"rectangle",onChange:u=>g("shapeType",u.target.value),children:[s.jsx("option",{value:"rectangle",children:""}),s.jsx("option",{value:"circle",children:""}),s.jsx("option",{value:"ellipse",children:""}),s.jsx("option",{value:"triangle",children:""}),s.jsx("option",{value:"pentagon",children:""}),s.jsx("option",{value:"hexagon",children:""}),s.jsx("option",{value:"star",children:""}),s.jsx("option",{value:"diamond",children:""}),s.jsx("option",{value:"line",children:""}),s.jsx("option",{value:"arrow",children:""})]})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:""}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"color",value:f.properties.fillColor||"#4a90e2",onChange:u=>g("fillColor",u.target.value)})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:""}),s.jsx("input",{type:"range",value:(f.properties.opacity||1)*100,onChange:u=>g("opacity",parseInt(u.target.value)/100),min:0,max:100}),s.jsxs("span",{style:{fontSize:"11px",color:"#888"},children:[Math.round((f.properties.opacity||1)*100),"%"]})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:""}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"number",value:f.properties.strokeWidth||0,onChange:u=>g("strokeWidth",parseInt(u.target.value)),min:0,max:20})]}),f.properties.strokeWidth>0&&s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"color",value:f.properties.strokeColor||"#2c3e50",onChange:u=>g("strokeColor",u.target.value)})]}),f.properties.shapeType==="rectangle"&&s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"number",value:f.properties.cornerRadius||0,onChange:u=>g("cornerRadius",parseInt(u.target.value)),min:0,max:100})]})]}),f.type==="button"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsxs("select",{onChange:u=>{const y=u.target.value;y!=="custom"&&Ip(async()=>{const{buttonStyles:m}=await import("./buttonStyles-VsZJSFTR.js");return{buttonStyles:m}},[],import.meta.url).then(({buttonStyles:m})=>{const S=m.find(k=>k.name===y);S&&v(f.id,{properties:{...f.properties,...S.properties}})})},children:[s.jsx("option",{value:"custom",children:""}),s.jsx("option",{value:" ",children:" "}),s.jsx("option",{value:"",children:" (  )"}),s.jsx("option",{value:"",children:" ()"}),s.jsx("option",{value:"",children:" ()"}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""}),s.jsx("option",{value:"",children:""})]})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:""}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"text",value:f.properties.text||"Button",onChange:u=>g("text",u.target.value)})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"number",value:f.properties.fontSize||16,onChange:u=>g("fontSize",parseInt(u.target.value)),min:8,max:72})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:""}),s.jsxs("select",{value:f.properties.fontFamily||"Arial",onChange:u=>g("fontFamily",u.target.value),children:[s.jsx("option",{value:"Arial",children:"Arial"}),s.jsx("option",{value:"Helvetica",children:"Helvetica"}),s.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),s.jsx("option",{value:"Courier New",children:"Courier New"}),s.jsx("option",{value:"Verdana",children:"Verdana"}),s.jsx("option",{value:"Georgia",children:"Georgia"})]})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:""}),s.jsxs("select",{value:f.properties.fontWeight||"normal",onChange:u=>g("fontWeight",u.target.value),children:[s.jsx("option",{value:"normal",children:""}),s.jsx("option",{value:"bold",children:""})]})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:""}),s.jsxs("select",{value:f.properties.textAlign||"center",onChange:u=>g("textAlign",u.target.value),children:[s.jsx("option",{value:"left",children:"  "}),s.jsx("option",{value:"center",children:" "}),s.jsx("option",{value:"right",children:"  "})]})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"color",value:f.properties.textColor||"#ffffff",onChange:u=>g("textColor",u.target.value)})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:""}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"color",value:f.properties.backgroundColor||"#2ecc71",onChange:u=>g("backgroundColor",u.target.value)})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"number",value:f.properties.borderRadius||8,onChange:u=>g("borderRadius",parseInt(u.target.value)),min:0,max:50})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:""}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"number",value:f.properties.borderWidth||0,onChange:u=>g("borderWidth",parseInt(u.target.value)),min:0,max:10})]}),f.properties.borderWidth>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"color",value:f.properties.borderColor||"#000000",onChange:u=>g("borderColor",u.target.value)})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:f.properties.borderStyle||"solid",onChange:u=>g("borderStyle",u.target.value),children:[s.jsx("option",{value:"solid",children:""}),s.jsx("option",{value:"dashed",children:""}),s.jsx("option",{value:"dotted",children:""})]})]})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:""}),s.jsx("div",{className:"property-field",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:f.properties.shadowEnabled||!1,onChange:u=>g("shadowEnabled",u.target.checked)})," "]})}),f.properties.shadowEnabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"color",value:f.properties.shadowColor||"#000000",onChange:u=>g("shadowColor",u.target.value)})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:""}),s.jsx("input",{type:"number",value:f.properties.shadowBlur||10,onChange:u=>g("shadowBlur",parseInt(u.target.value)),min:0,max:50})]}),s.jsxs("div",{className:"property-row",children:[s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" X"}),s.jsx("input",{type:"number",value:f.properties.shadowOffsetX||0,onChange:u=>g("shadowOffsetX",parseInt(u.target.value)),min:-50,max:50})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" Y"}),s.jsx("input",{type:"number",value:f.properties.shadowOffsetY||4,onChange:u=>g("shadowOffsetY",parseInt(u.target.value)),min:-50,max:50})]})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:""}),s.jsx("input",{type:"range",value:(f.properties.shadowOpacity||.3)*100,onChange:u=>g("shadowOpacity",parseInt(u.target.value)/100),min:0,max:100}),s.jsxs("span",{style:{fontSize:"11px",color:"#888"},children:[Math.round((f.properties.shadowOpacity||.3)*100),"%"]})]})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:""}),s.jsx(Lp,{widget:f,onUpdate:u=>{v(f.id,{properties:{...f.properties,actions:u}})},allWidgets:a.widgets})]}),f.type==="text"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:""}),s.jsx("textarea",{value:f.properties.text||"Text",onChange:u=>g("text",u.target.value),rows:6})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:"  "}),s.jsx("input",{type:"file",accept:".txt,.pdf,.odt,.docx",onChange:async u=>{const y=u.target.files?.[0];if(y)try{const{extractTextFromFile:m,loadRequiredLibraries:S}=await Ip(async()=>{const{extractTextFromFile:b,loadRequiredLibraries:j}=await import("./fileTextExtractor-HZqzU4jo.js");return{extractTextFromFile:b,loadRequiredLibraries:j}},[],import.meta.url);S(),g("text"," ...");const k=await m(y);v(f.id,{properties:{...f.properties,text:k,sourceFile:y.name}})}catch(m){console.error("Error loading file:",m),alert(`: ${m instanceof Error?m.message:"   "}`),g("text","Text")}u.target.value=""}}),s.jsx("div",{style:{fontSize:"11px",color:"#888",marginTop:"4px"},children:": TXT, PDF, ODT, DOCX"}),f.properties.sourceFile&&s.jsxs("div",{style:{fontSize:"11px",color:"#888",marginTop:"4px"},children:[" ",f.properties.sourceFile]})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:""}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"number",value:f.properties.fontSize||16,onChange:u=>g("fontSize",parseInt(u.target.value)),min:8,max:144})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:f.properties.fontFamily||"Arial",onChange:u=>g("fontFamily",u.target.value),children:[s.jsx("option",{value:"Arial",children:"Arial"}),s.jsx("option",{value:"Helvetica",children:"Helvetica"}),s.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),s.jsx("option",{value:"Courier New",children:"Courier New"}),s.jsx("option",{value:"Verdana",children:"Verdana"}),s.jsx("option",{value:"Georgia",children:"Georgia"}),s.jsx("option",{value:"Comic Sans MS",children:"Comic Sans MS"}),s.jsx("option",{value:"Impact",children:"Impact"})]})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:""}),s.jsxs("select",{value:f.properties.fontWeight||"normal",onChange:u=>g("fontWeight",u.target.value),children:[s.jsx("option",{value:"normal",children:""}),s.jsx("option",{value:"bold",children:""})]})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:""}),s.jsxs("select",{value:f.properties.fontStyle||"normal",onChange:u=>g("fontStyle",u.target.value),children:[s.jsx("option",{value:"normal",children:""}),s.jsx("option",{value:"italic",children:""})]})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:""}),s.jsxs("select",{value:f.properties.textDecoration||"none",onChange:u=>g("textDecoration",u.target.value),children:[s.jsx("option",{value:"none",children:""}),s.jsx("option",{value:"underline",children:""}),s.jsx("option",{value:"line-through",children:""})]})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:""}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:f.properties.textAlign||"left",onChange:u=>g("textAlign",u.target.value),children:[s.jsx("option",{value:"left",children:"  "}),s.jsx("option",{value:"center",children:" "}),s.jsx("option",{value:"right",children:"  "})]})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:f.properties.verticalAlign||"top",onChange:u=>g("verticalAlign",u.target.value),children:[s.jsx("option",{value:"top",children:""}),s.jsx("option",{value:"middle",children:" "}),s.jsx("option",{value:"bottom",children:""})]})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:"  "}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"color",value:f.properties.textColor||"#000000",onChange:u=>g("textColor",u.target.value)})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"color",value:f.properties.backgroundColor||"#ffffff",onChange:u=>g("backgroundColor",u.target.value)}),s.jsxs("label",{style:{marginTop:"4px",fontSize:"11px"},children:[s.jsx("input",{type:"checkbox",checked:f.properties.backgroundColor==="transparent",onChange:u=>g("backgroundColor",u.target.checked?"transparent":"#ffffff")})," "]})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:""}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"number",value:f.properties.lineHeight||1.2,onChange:u=>g("lineHeight",parseFloat(u.target.value)),min:.5,max:3,step:.1})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:"  "}),s.jsx("input",{type:"number",value:f.properties.padding||8,onChange:u=>g("padding",parseInt(u.target.value)),min:0,max:50})]})]}),f.type==="image"&&s.jsxs(s.Fragment,{children:[s.jsx("h4",{style:{marginTop:"0",marginBottom:"12px",fontSize:"13px",fontWeight:"bold"},children:""}),s.jsx("div",{className:"property-field",children:s.jsxs("label",{children:[s.jsx("input",{type:"radio",name:"imageMode",checked:!f.properties.galleryMode,onChange:()=>g("galleryMode",!1)})," "," "]})}),s.jsx("div",{className:"property-field",children:s.jsxs("label",{children:[s.jsx("input",{type:"radio",name:"imageMode",checked:f.properties.galleryMode||!1,onChange:()=>{g("galleryMode",!0),f.properties.sources||g("sources",[])}})," "," "]})}),!f.properties.galleryMode&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:"URL "}),s.jsx("input",{type:"text",value:f.properties.src||"",onChange:u=>g("src",u.target.value),placeholder:"https://example.com/image.jpg"})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"file",accept:"image/*",onChange:u=>{const y=u.target.files?.[0];if(y){const m=new FileReader;m.onload=S=>{const k=S.target?.result;k&&v(f.id,{properties:{...f.properties,src:k,isLocalFile:!0,fileName:y.name}})},m.readAsDataURL(y)}u.target.value=""}}),f.properties.isLocalFile&&f.properties.fileName&&s.jsxs("div",{style:{fontSize:"11px",color:"#888",marginTop:"4px"},children:[" ",f.properties.fileName]})]})]}),f.properties.galleryMode&&s.jsxs(s.Fragment,{children:[s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:" (. 50)"}),s.jsxs("div",{style:{maxHeight:"200px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"4px",padding:"8px",marginBottom:"8px",backgroundColor:"#fafafa"},children:[(f.properties.sources||[]).map((u,y)=>s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px",padding:"6px",backgroundColor:"#fff",borderRadius:"4px",border:"1px solid #e0e0e0"},children:[s.jsxs("span",{style:{fontSize:"11px",color:"#666",minWidth:"20px"},children:[y+1,"."]}),s.jsx("span",{style:{fontSize:"11px",color:u.type==="url"?"#007acc":"#2ecc71"},children:u.type==="url"?"":""}),s.jsx("span",{style:{flex:1,fontSize:"11px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:u.value.length>40?u.value.substring(0,40)+"...":u.value}),s.jsx("button",{onClick:()=>{const m=(f.properties.sources||[]).filter((S,k)=>k!==y);g("sources",m)},style:{padding:"2px 6px",fontSize:"10px",border:"none",background:"#e74c3c",color:"#fff",borderRadius:"3px",cursor:"pointer"},children:""})]},u.id)),(!f.properties.sources||f.properties.sources.length===0)&&s.jsx("div",{style:{textAlign:"center",color:"#999",fontSize:"11px",padding:"20px"},children:"   "})]}),s.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[s.jsx("input",{type:"file",accept:"image/*",multiple:!0,id:`gallery-upload-${f.id}`,style:{display:"none"},onChange:u=>{const y=Array.from(u.target.files||[]),m=f.properties.sources||[];if(m.length+y.length>50){alert(" 50   "),u.target.value="";return}let S=0;const k=[];y.forEach(b=>{const j=new FileReader;j.onload=C=>{const N=C.target?.result;N&&k.push({id:`img-${Date.now()}-${Math.random()}`,type:"local",value:N}),S++,S===y.length&&g("sources",[...m,...k])},j.readAsDataURL(b)}),u.target.value=""}}),s.jsx("button",{onClick:()=>{document.getElementById(`gallery-upload-${f.id}`)?.click()},className:"btn-secondary",style:{flex:1,fontSize:"11px",padding:"6px"},children:"  "}),s.jsx("button",{onClick:()=>{const u=prompt(" URL :");if(u){const y=f.properties.sources||[];if(y.length>=50){alert(" 50   ");return}g("sources",[...y,{id:`img-${Date.now()}-${Math.random()}`,type:"url",value:u}])}},className:"btn-secondary",style:{flex:1,fontSize:"11px",padding:"6px"},children:"  URL"})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:""}),s.jsx("div",{className:"property-field",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:f.properties.autoSwitch||!1,onChange:u=>g("autoSwitch",u.target.checked)})," "," "]})}),f.properties.autoSwitch&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" ()"}),s.jsx("input",{type:"number",min:"1",max:"60",value:f.properties.switchInterval||3,onChange:u=>g("switchInterval",parseInt(u.target.value)||3)})]})}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:" "}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:""}),s.jsxs("select",{value:f.properties.transition||"fade",onChange:u=>g("transition",u.target.value),children:[s.jsx("option",{value:"none",children:" ()"}),s.jsx("option",{value:"fade",children:""}),s.jsx("option",{value:"slide",children:""}),s.jsx("option",{value:"zoom",children:""})]})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" ()"}),s.jsx("input",{type:"number",min:"100",max:"2000",step:"100",value:f.properties.transitionDuration||500,onChange:u=>g("transitionDuration",parseInt(u.target.value)||500)})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:""}),s.jsx("div",{className:"property-field",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:f.properties.showControls!==!1,onChange:u=>g("showControls",u.target.checked)})," "," "]})}),s.jsx("div",{className:"property-field",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:f.properties.showIndicators!==!1,onChange:u=>g("showIndicators",u.target.checked)})," "," "]})}),s.jsx("div",{className:"property-field",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:f.properties.loop!==!1,onChange:u=>g("loop",u.target.checked)})," ",""]})})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:f.properties.objectFit||"contain",onChange:u=>g("objectFit",u.target.value),children:[s.jsx("option",{value:"contain",children:" ()"}),s.jsx("option",{value:"cover",children:"  "}),s.jsx("option",{value:"fill",children:""}),s.jsx("option",{value:"scale-down",children:" "}),s.jsx("option",{value:"adaptive",children:" ( )"})]})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:" "}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:""}),s.jsxs("select",{value:f.properties.clipShape||"rectangle",onChange:u=>g("clipShape",u.target.value),children:[s.jsx("option",{value:"rectangle",children:" "}),s.jsx("option",{value:"circle",children:" "}),s.jsx("option",{value:"ellipse",children:" "}),s.jsx("option",{value:"triangle",children:" "}),s.jsx("option",{value:"diamond",children:" "}),s.jsx("option",{value:"pentagon",children:" "}),s.jsx("option",{value:"hexagon",children:" "}),s.jsx("option",{value:"octagon",children:" "}),s.jsx("option",{value:"rounded-rectangle",children:"  "})]})]}),f.properties.clipShape==="rounded-rectangle"&&s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:"  (px)"}),s.jsx("input",{type:"number",min:"0",max:"100",value:f.properties.cornerRadius||20,onChange:u=>g("cornerRadius",parseInt(u.target.value)||20)})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:""}),s.jsx("div",{className:"property-field",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:f.properties.borderEnabled||!1,onChange:u=>g("borderEnabled",u.target.checked)})," "]})}),f.properties.borderEnabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:f.properties.borderStyle||"solid",onChange:u=>g("borderStyle",u.target.value),children:[s.jsx("option",{value:"solid",children:""}),s.jsx("option",{value:"dashed",children:""}),s.jsx("option",{value:"dotted",children:""}),s.jsx("option",{value:"double",children:""})]})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:"  (px)"}),s.jsx("input",{type:"number",value:f.properties.borderWidth||2,onChange:u=>g("borderWidth",parseFloat(u.target.value)),min:1,max:20})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"color",value:f.properties.borderColor||"#000000",onChange:u=>g("borderColor",u.target.value)})]})]})]}),f.type==="video"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:f.properties.sourceType||"url",onChange:u=>g("sourceType",u.target.value),children:[s.jsx("option",{value:"url",children:"URL / "}),s.jsx("option",{value:"rtsp",children:"RTSP "})]})]}),f.properties.sourceType==="rtsp"?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:"RTSP URL"}),s.jsx("input",{type:"text",value:f.properties.rtspUrl||"",onChange:u=>g("rtspUrl",u.target.value),placeholder:"rtsp://username:password@host:554/stream"}),s.jsx("div",{style:{fontSize:"11px",color:"#888",marginTop:"4px"},children:": rtsp://admin:12345@192.168.1.100:554/live"})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:"URL "}),s.jsx("input",{type:"text",value:f.properties.src||"",onChange:u=>g("src",u.target.value),placeholder:"https://example.com/video.mp4"})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"file",accept:"video/*",onChange:u=>{const y=u.target.files?.[0];if(y){const m=new FileReader;m.onload=S=>{const k=S.target?.result;k&&v(f.id,{properties:{...f.properties,src:k,isLocalFile:!0,fileName:y.name}})},m.readAsDataURL(y)}u.target.value=""}}),f.properties.isLocalFile&&f.properties.fileName&&s.jsxs("div",{style:{fontSize:"11px",color:"#888",marginTop:"4px"},children:[" ",f.properties.fileName]})]})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:""}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:f.properties.objectFit||"contain",onChange:u=>g("objectFit",u.target.value),children:[s.jsx("option",{value:"contain",children:" ()"}),s.jsx("option",{value:"cover",children:"  "}),s.jsx("option",{value:"fill",children:""}),s.jsx("option",{value:"scale-down",children:" "}),s.jsx("option",{value:"adaptive",children:" ( )"})]})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:""}),s.jsx("div",{className:"property-field",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:f.properties.autoplay||!1,onChange:u=>g("autoplay",u.target.checked)}),""]})}),s.jsx("div",{className:"property-field",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:f.properties.loop||!1,onChange:u=>g("loop",u.target.checked)})," (loop)"]})}),s.jsx("div",{className:"property-field",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:f.properties.muted!==!1,onChange:u=>g("muted",u.target.checked)}),"  (muted)"]})}),s.jsx("div",{className:"property-field",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:f.properties.controls!==!1,onChange:u=>g("controls",u.target.checked)}),"  "]})}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:""}),s.jsx("div",{className:"property-field",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:f.properties.borderEnabled||!1,onChange:u=>g("borderEnabled",u.target.checked)})," "]})}),f.properties.borderEnabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:f.properties.borderStyle||"solid",onChange:u=>g("borderStyle",u.target.value),children:[s.jsx("option",{value:"solid",children:""}),s.jsx("option",{value:"dashed",children:""}),s.jsx("option",{value:"dotted",children:""}),s.jsx("option",{value:"double",children:""})]})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"number",value:f.properties.borderWidth||2,onChange:u=>g("borderWidth",parseInt(u.target.value)),min:1,max:20})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"color",value:f.properties.borderColor||"#000000",onChange:u=>g("borderColor",u.target.value)})]})]})]}),f.type==="menu"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:""}),s.jsxs("select",{value:f.properties.orientation||"horizontal",onChange:u=>g("orientation",u.target.value),children:[s.jsx("option",{value:"horizontal",children:""}),s.jsx("option",{value:"vertical",children:""})]})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:" "}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"color",value:f.properties.backgroundColor||"#2c3e50",onChange:u=>g("backgroundColor",u.target.value)})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"color",value:f.properties.textColor||"#ffffff",onChange:u=>g("textColor",u.target.value)})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:"  "}),s.jsx("input",{type:"color",value:f.properties.hoverColor||"#34495e",onChange:u=>g("hoverColor",u.target.value)})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:""}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"number",value:f.properties.fontSize||16,onChange:u=>g("fontSize",parseInt(u.target.value)),min:10,max:32})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsxs("select",{value:f.properties.fontFamily||"Arial",onChange:u=>g("fontFamily",u.target.value),children:[s.jsx("option",{value:"Arial",children:"Arial"}),s.jsx("option",{value:"Helvetica",children:"Helvetica"}),s.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),s.jsx("option",{value:"Verdana",children:"Verdana"}),s.jsx("option",{value:"Georgia",children:"Georgia"})]})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:""}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"number",value:f.properties.itemHeight||40,onChange:u=>g("itemHeight",parseInt(u.target.value)),min:30,max:100})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"number",value:f.properties.itemPadding||16,onChange:u=>g("itemPadding",parseInt(u.target.value)),min:8,max:40})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:""}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:"  "}),s.jsx("input",{type:"color",value:f.properties.submenuBackgroundColor||"#34495e",onChange:u=>g("submenuBackgroundColor",u.target.value)})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:"  "}),s.jsx("input",{type:"color",value:f.properties.submenuTextColor||"#ffffff",onChange:u=>g("submenuTextColor",u.target.value)})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:""}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"number",value:f.properties.borderWidth||0,onChange:u=>g("borderWidth",parseInt(u.target.value)),min:0,max:10})]}),f.properties.borderWidth>0&&s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:" "}),s.jsx("input",{type:"color",value:f.properties.borderColor||"#000000",onChange:u=>g("borderColor",u.target.value)})]}),s.jsx("h4",{style:{marginTop:"16px",marginBottom:"8px",fontSize:"12px"},children:" "}),s.jsx("div",{className:"property-field",children:s.jsx("button",{className:"btn-secondary",onClick:()=>{const u=f.properties.items||[],y={id:`item-${Date.now()}`,label:" "};v(f.id,{properties:{...f.properties,items:[...u,y]}})},style:{width:"100%"},children:"  "})}),s.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:(f.properties.items||[]).map((u,y)=>s.jsxs("div",{style:{background:"#252525",padding:"12px",marginBottom:"8px",borderRadius:"6px",border:"1px solid #333"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[s.jsxs("strong",{style:{fontSize:"12px",color:"#aaa"},children:[" ",y+1]}),s.jsx("button",{className:"btn-danger",onClick:()=>{const m=f.properties.items||[];v(f.id,{properties:{...f.properties,items:m.filter(S=>S.id!==u.id)}})},style:{fontSize:"11px",padding:"4px 8px"},children:" "})]}),s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:""}),s.jsx("input",{type:"text",value:u.label,onChange:m=>{const S=[...f.properties.items||[]];S[y]={...S[y],label:m.target.value},v(f.id,{properties:{...f.properties,items:S}})}})]}),s.jsxs("div",{style:{marginTop:"12px"},children:[s.jsx("div",{style:{fontSize:"11px",color:"#888",marginBottom:"8px"},children:"  "}),s.jsx(Lp,{widget:{...f,id:u.id,properties:u},onUpdate:m=>{const S=[...f.properties.items||[]];S[y]={...S[y],actions:m},v(f.id,{properties:{...f.properties,items:S}})},allWidgets:a.widgets})]}),s.jsxs("div",{style:{marginTop:"12px",paddingLeft:"12px",borderLeft:"2px solid #444"},children:[s.jsx("div",{style:{fontSize:"11px",color:"#888",marginBottom:"8px"},children:""}),s.jsx("button",{className:"btn-secondary",onClick:()=>{const m=[...f.properties.items||[]],S=m[y].children||[];m[y]={...m[y],children:[...S,{id:`subitem-${Date.now()}`,label:""}]},v(f.id,{properties:{...f.properties,items:m}})},style:{width:"100%",fontSize:"11px",padding:"6px",marginBottom:"8px"},children:"  "}),(u.children||[]).map((m,S)=>s.jsx("div",{style:{background:"#1e1e1e",padding:"8px",marginBottom:"6px",borderRadius:"4px",border:"1px solid #2a2a2a"},children:s.jsxs("div",{style:{display:"flex",gap:"6px",alignItems:"center"},children:[s.jsx("input",{type:"text",value:m.label,onChange:k=>{const b=[...f.properties.items||[]],j=[...b[y].children||[]];j[S]={...j[S],label:k.target.value},b[y]={...b[y],children:j},v(f.id,{properties:{...f.properties,items:b}})},style:{flex:1,fontSize:"12px",padding:"4px 8px"}}),s.jsx("button",{className:"btn-danger",onClick:()=>{const k=[...f.properties.items||[]],b=k[y].children?.filter(j=>j.id!==m.id)||[];k[y]={...k[y],children:b},v(f.id,{properties:{...f.properties,items:k}})},style:{fontSize:"11px",padding:"4px 8px"},children:""})]})},m.id))]})]},u.id))})]})]}),s.jsx("div",{className:"property-section",children:s.jsxs("div",{className:"property-field",children:[s.jsx("label",{children:"ID"}),s.jsx("input",{type:"text",value:f.id,disabled:!0,style:{opacity:.5,cursor:"not-allowed"}})]})})]})]}):s.jsxs("div",{className:"properties-panel panel",children:[s.jsx("div",{className:"properties-header",children:s.jsx("h3",{children:""})}),s.jsx("div",{className:"properties-empty",children:s.jsx("p",{children:"   "})})]})},qm=()=>{const{project:a,selectedWidgetIds:d,selectWidget:v,updateWidget:f,deleteWidget:E}=fn();if(!a)return null;const g=m=>({shape:"",rectangle:"",text:"",button:"",image:"",video:"",menu:""})[m]||"",u=m=>{if(m.properties.text){const S=m.properties.text.substring(0,20);return S.length<m.properties.text.length?`${S}...`:S}return m.properties.items?` (${m.properties.items.length} )`:m.type.charAt(0).toUpperCase()+m.type.slice(1)},y=[...a.widgets].sort((m,S)=>(S.zIndex||0)-(m.zIndex||0));return s.jsxs("div",{className:"outline-panel",children:[s.jsxs("div",{className:"outline-header",children:[s.jsx("h3",{children:""}),s.jsxs("span",{className:"outline-count",children:[a.widgets.length," "]})]}),s.jsx("div",{className:"outline-list",children:y.length===0?s.jsxs("div",{className:"outline-empty",children:[s.jsx("p",{children:" "}),s.jsx("span",{children:"   "})]}):y.map(m=>{const S=d.includes(m.id),k=m.locked||!1;return s.jsxs("div",{className:`outline-item ${S?"selected":""} ${k?"locked":""}`,onClick:()=>v(m.id,!1),children:[s.jsxs("div",{className:"outline-item-main",children:[s.jsx("span",{className:"outline-icon",children:g(m.type)}),s.jsxs("div",{className:"outline-info",children:[s.jsx("span",{className:"outline-label",children:u(m)}),s.jsxs("span",{className:"outline-meta",children:[m.width,"",m.height,"  z:",m.zIndex||0]})]})]}),s.jsxs("div",{className:"outline-actions",onClick:b=>b.stopPropagation(),children:[s.jsx("button",{className:"outline-action-btn",onClick:()=>{f(m.id,{locked:!k})},title:k?"":"",children:k?s.jsx(J0,{size:14}):s.jsx(h1,{size:14})}),s.jsx("button",{className:"outline-action-btn delete",onClick:()=>{window.confirm(`  "${u(m)}"?`)&&E(m.id)},title:"",children:s.jsx(u1,{size:14})})]})]},m.id)})})]})},Km=()=>{const{addWidget:a,project:d}=fn(),v=[{type:"shape",name:"",icon:a1,defaultProps:{shapeType:"rectangle",fillColor:"#4a90e2",strokeColor:"#2c3e50",strokeWidth:0,cornerRadius:0,opacity:1}},{type:"button",name:"",icon:t1,defaultProps:{text:" ",backgroundColor:"#4a90e2",textColor:"#ffffff"}},{type:"text",name:"",icon:c1,defaultProps:{text:" ",fontSize:24,color:"#000000"}},{type:"image",name:"",icon:Dp,defaultProps:{src:""}},{type:"video",name:"",icon:f1,defaultProps:{src:"",autoplay:!1,loop:!1}},{type:"menu",name:"",icon:$0,defaultProps:{orientation:"horizontal",items:[{id:"1",label:""},{id:"2",label:" "},{id:"3",label:"",children:[{id:"3-1",label:" 1"},{id:"3-2",label:" 2"}]},{id:"4",label:""}],backgroundColor:"#2c3e50",textColor:"#ffffff",hoverColor:"#34495e",fontSize:16,fontFamily:"Arial",itemPadding:16,submenuBackgroundColor:"#34495e",submenuTextColor:"#ffffff",borderWidth:0,borderColor:"#000000",itemHeight:40}}],f=(E,g)=>{if(!d)return;const{setPendingWidget:u}=fn.getState();u(E,g)};return s.jsxs("div",{className:"widget-library panel",children:[s.jsx("div",{className:"widget-library-header",children:s.jsx("h3",{children:""})}),s.jsx("div",{className:"widget-library-content",children:v.map(E=>{const g=E.icon;return s.jsxs("button",{className:"widget-item",onClick:()=>f(E.type,E.defaultProps),title:` ${E.name}`,children:[s.jsx(g,{size:24}),s.jsx("span",{children:E.name})]},E.type)})}),s.jsx("div",{className:"widget-library-footer",children:s.jsx("button",{className:"btn-secondary",style:{width:"100%",fontSize:"12px"},children:"+  "})}),s.jsx(qm,{})]})},Ym=()=>{const{project:a,createProject:d}=fn();return ye.useEffect(()=>{if(!a)try{d(" ",{width:1920,height:1080})}catch(v){console.error("Failed to create project:",v)}},[]),ye.useEffect(()=>{const v=f=>{const{undo:E,redo:g,copy:u,paste:y,cut:m,deleteWidget:S,selectedWidgetIds:k,pendingWidget:b,clearPendingWidget:j}=fn.getState();if(f.key==="Escape"&&b){f.preventDefault(),j();return}(f.ctrlKey||f.metaKey)&&f.key==="z"&&!f.shiftKey&&(f.preventDefault(),E()),((f.ctrlKey||f.metaKey)&&f.shiftKey&&f.key==="z"||(f.ctrlKey||f.metaKey)&&f.key==="y")&&(f.preventDefault(),g()),(f.ctrlKey||f.metaKey)&&f.key==="c"&&(f.preventDefault(),u()),(f.ctrlKey||f.metaKey)&&f.key==="v"&&(f.preventDefault(),y()),(f.ctrlKey||f.metaKey)&&f.key==="x"&&(f.preventDefault(),m()),f.key==="Delete"&&(f.preventDefault(),k.forEach(C=>S(C)))};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[]),a?s.jsxs("div",{className:"editor",children:[s.jsx(L1,{}),s.jsxs("div",{className:"editor-main",children:[s.jsx(Km,{}),s.jsx(Wm,{}),s.jsx(Vm,{})]})]}):s.jsx("div",{className:"editor-loading",children:" ..."})};class Xm extends ye.Component{constructor(d){super(d),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(d){return{hasError:!0,error:d,errorInfo:null}}componentDidCatch(d,v){console.error("ErrorBoundary caught an error:",d,v),this.setState({error:d,errorInfo:v})}render(){return this.state.hasError?s.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"#1e1e1e",color:"#ff6b6b",fontFamily:"Arial, sans-serif",padding:"20px"},children:s.jsxs("div",{style:{textAlign:"center",maxWidth:"700px"},children:[s.jsx("h1",{children:"   "}),s.jsx("p",{style:{color:"#cccccc",marginBottom:"20px"},children:"-   .    (F12)  ."}),this.state.error&&s.jsxs("div",{style:{textAlign:"left",background:"#2a2a2a",padding:"15px",borderRadius:"5px",marginBottom:"20px",overflow:"auto"},children:[s.jsx("div",{style:{color:"#ff6b6b",marginBottom:"10px",fontWeight:"bold"},children:this.state.error.toString()}),this.state.errorInfo&&s.jsx("pre",{style:{fontSize:"12px",color:"#888",margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:this.state.errorInfo.componentStack})]}),s.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"center"},children:[s.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",background:"#4a90e2",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},children:" "}),s.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},style:{padding:"10px 20px",background:"#e74c3c",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},children:"  "})]}),s.jsxs("div",{style:{marginTop:"20px",padding:"15px",background:"#2a2a2a",borderRadius:"5px",textAlign:"left",color:"#cccccc",fontSize:"13px"},children:[s.jsx("strong",{children:" :"}),s.jsxs("ul",{style:{marginTop:"10px",marginBottom:0},children:[s.jsxs("li",{children:["   -  ",s.jsx("code",{children:"npm install"})]}),s.jsx("li",{children:"  Node.js -  v18.0+"}),s.jsx("li",{children:"   "}),s.jsx("li",{children:'   -  "  "'})]})]})]})}):this.props.children}}function Qm(){return s.jsx(Xm,{children:s.jsx(Ym,{})})}try{const a=document.getElementById("root");if(!a)throw new Error("Root element not found");T0.createRoot(a).render(s.jsx(Mt.StrictMode,{children:s.jsx(Qm,{})}))}catch(a){console.error("Failed to mount React app:",a),document.body.innerHTML=`
    <div style="
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background: #1e1e1e;
      color: #ff6b6b;
      font-family: Arial, sans-serif;
      padding: 20px;
    ">
      <div style="text-align: center; max-width: 600px;">
        <h1>   </h1>
        <p style="color: #cccccc;">   (F12)  .</p>
        <pre style="
          text-align: left;
          background: #2a2a2a;
          padding: 15px;
          border-radius: 5px;
          overflow-x: auto;
          color: #ff6b6b;
        ">${a}</pre>
        <button onclick="location.reload()" style="
          margin-top: 20px;
          padding: 10px 20px;
          background: #4a90e2;
          color: white;
          border: none;
          border-radius: 5px;
          cursor: pointer;
          font-size: 14px;
        ">
           
        </button>
      </div>
    </div>
  `}
