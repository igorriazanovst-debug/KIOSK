# üöÄ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Client API

**–ê—Ä—Ö–∏–≤:** `phase1_2_api_complete.tar.gz` (16 KB)

---

## ‚ö° –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (3 –∫–æ–º–∞–Ω–¥—ã)

```bash
# 1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∞—Ä—Ö–∏–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp phase1_2_api_complete.tar.gz root@31.192.110.121:/tmp/

# 2. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: —Ä–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å
ssh root@31.192.110.121
cd /tmp && tar -xzf phase1_2_api_complete.tar.gz

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É
chmod +x install_client_api.sh
./install_client_api.sh
```

**–í—Å—ë! üéâ**

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (multer)
- ‚úÖ –°–∫–æ–ø–∏—Ä—É–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –≤ –Ω—É–∂–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –∑–∞–≥—Ä—É–∑–æ–∫
- ‚úÖ –û–±–Ω–æ–≤–∏—Ç .env
- ‚úÖ –û–±–Ω–æ–≤–∏—Ç app.ts (–¥–æ–±–∞–≤–∏—Ç —Ä–æ—É—Ç—ã)
- ‚úÖ –°–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç TypeScript
- ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç License Server
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç API

---

## üîç –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç install_client_api.sh

```
[1/8] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤          - –≤—Å–µ 10 —Ñ–∞–π–ª–æ–≤ –Ω–∞ –º–µ—Å—Ç–µ
[2/8] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π   - npm install multer
[3/8] –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤        - –≤ src/services, controllers, routes
[4/8] –°–æ–∑–¥–∞–Ω–∏–µ uploads/         - /opt/kiosk/uploads/projects
[5/8] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ .env           - UPLOAD_DIR=/opt/kiosk/uploads
[6/8] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ app.ts         - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–æ—É—Ç–æ–≤ (Python —Å–∫—Ä–∏–ø—Ç)
[7/8] –ö–æ–º–ø–∏–ª—è—Ü–∏—è                - npm run build
[8/8] –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞        - systemctl restart
```

---

## üìã –ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ –∞—Ä—Ö–∏–≤

```
phase1_2_api_complete.tar.gz
‚îú‚îÄ‚îÄ Services/ (3 —Ñ–∞–π–ª–∞)
‚îÇ   ‚îú‚îÄ‚îÄ UserProfileService.ts
‚îÇ   ‚îú‚îÄ‚îÄ ProjectService.ts
‚îÇ   ‚îî‚îÄ‚îÄ FileService.ts
‚îú‚îÄ‚îÄ Middleware/ (2 —Ñ–∞–π–ª–∞)
‚îÇ   ‚îú‚îÄ‚îÄ authClient.ts
‚îÇ   ‚îî‚îÄ‚îÄ storageLimit.ts
‚îú‚îÄ‚îÄ Controllers/ (3 —Ñ–∞–π–ª–∞)
‚îÇ   ‚îú‚îÄ‚îÄ AuthController.ts
‚îÇ   ‚îú‚îÄ‚îÄ ProjectController.ts
‚îÇ   ‚îî‚îÄ‚îÄ FileController.ts
‚îú‚îÄ‚îÄ Routes/ (2 —Ñ–∞–π–ª–∞)
‚îÇ   ‚îú‚îÄ‚îÄ auth.routes.ts
‚îÇ   ‚îî‚îÄ‚îÄ project.routes.ts
‚îú‚îÄ‚îÄ Scripts/
‚îÇ   ‚îú‚îÄ‚îÄ update_app_ts.py          ‚Üê –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ app.ts
‚îÇ   ‚îî‚îÄ‚îÄ install_client_api.sh     ‚Üê –ê–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤–∫–∞
‚îî‚îÄ‚îÄ PHASE1_2_INSTRUCTION.md       ‚Üê –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
```

---

## ‚úÖ –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç API:

```
‚úì Health check OK
‚úì –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞  
‚úì –¢–æ–∫–µ–Ω –ø–æ–ª—É—á–µ–Ω
‚úì –ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ
```

–ï—Å–ª–∏ –≤—Å—ë –æ–∫ - —É–≤–∏–¥–∏—à—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤.

---

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

### –°–∫—Ä–∏–ø—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è –Ω–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

```bash
# –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
cd /opt/kiosk/kiosk-content-platform/packages/server
npm run build
```

### License Server –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
journalctl -u kiosk-license-server -n 100 --no-pager
```

### –†–æ—É—Ç—ã –Ω–µ –¥–æ–±–∞–≤–∏–ª–∏—Å—å –≤ app.ts

```bash
# –û–±–Ω–æ–≤–∏ –≤—Ä—É—á–Ω—É—é
cd /tmp
python3 update_app_ts.py
```

---

## üß™ –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–æ–∂–µ—à—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é:

```bash
# 1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
curl -X POST http://localhost:3001/api/auth/license \
  -H "Content-Type: application/json" \
  -d '{"licenseKey":"EWZA-E5LJ-Z558-9LUQ"}' | jq .

# –°–æ—Ö—Ä–∞–Ω–∏ —Ç–æ–∫–µ–Ω
TOKEN="<your-token>"

# 2. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
curl -X POST http://localhost:3001/api/projects \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"name":"Test","projectData":{}}' | jq .

# 3. –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤
curl http://localhost:3001/api/projects \
  -H "Authorization: Bearer $TOKEN" | jq .
```

---

## üìñ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. —Ñ–∞–π–ª `PHASE1_2_INSTRUCTION.md` –≤ –∞—Ä—Ö–∏–≤–µ.

---

**–í–æ–ø—Ä–æ—Å—ã?** –ó–∞–≥—Ä—É–∑–∏ —ç—Ç–æ —Ä–µ–∑—é–º–µ –≤ –Ω–æ–≤—ã–π —á–∞—Ç! üöÄ
