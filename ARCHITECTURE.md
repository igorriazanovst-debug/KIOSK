# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

## –û–±–∑–æ—Ä

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–æ–¥—É–ª–µ–π, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
kiosk-content-platform/
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îú‚îÄ‚îÄ editor/          # –†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (React + Konva)
‚îÇ   ‚îú‚îÄ‚îÄ runtime/         # Runtime –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (React)
‚îÇ   ‚îú‚îÄ‚îÄ widget-sdk/      # SDK –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏–¥–∂–µ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ widgets/         # –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ electron-app/    # Electron –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```

## –ú–æ–¥—É–ª–∏

### Editor (–†–µ–¥–∞–∫—Ç–æ—Ä)

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- React 18
- TypeScript
- Konva.js –¥–ª—è canvas-—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- Zustand –¥–ª—è state management
- Vite –¥–ª—è —Å–±–æ—Ä–∫–∏

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `Editor.tsx` - –≥–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
- `Toolbar.tsx` - –ø–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- `Canvas.tsx` - —Ö–æ–ª—Å—Ç –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `WidgetLibrary.tsx` - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≤–∏–¥–∂–µ—Ç–æ–≤
- `PropertiesPanel.tsx` - –ø–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤

**State Management:**
- `editorStore.ts` - –≥–ª–∞–≤–Ω—ã–π store —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–æ–µ–∫—Ç–∞, –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º, –∏—Å—Ç–æ—Ä–∏–µ–π

### Runtime (–ú–æ–¥—É–ª—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è)

–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞ —Ü–µ–ª–µ–≤—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.

**–§—É–Ω–∫—Ü–∏–∏:**
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ JSON
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤–∏–¥–∂–µ—Ç–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ–±—ã—Ç–∏–π

### Widget SDK

SDK –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –≤–∏–¥–∂–µ—Ç–æ–≤.

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–∏–¥–∂–µ—Ç–∞:**
```typescript
interface WidgetPlugin {
  type: string;
  name: string;
  icon: string;
  category: 'basic' | 'media' | 'input' | 'custom';
  defaultProps: Record<string, any>;
  EditorComponent: React.ComponentType;
  RuntimeComponent: React.ComponentType;
  PropertiesPanel: React.ComponentType;
}
```

### Electron App

Desktop-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è Windows/Linux.

**–§—É–Ω–∫—Ü–∏–∏:**
- –£–ø–∞–∫–æ–≤–∫–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –∏ runtime
- Kiosk mode (–ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –û—Ñ—Ñ–ª–∞–π–Ω —Ä–∞–±–æ—Ç–∞

## –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–æ–µ–∫—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ JSON-—Ñ–æ—Ä–º–∞—Ç–µ:

```json
{
  "version": "1.0.0",
  "name": "–ú–æ–π –ø—Ä–æ–µ–∫—Ç",
  "canvas": {
    "width": 1920,
    "height": 1080,
    "backgroundColor": "#ffffff"
  },
  "widgets": [
    {
      "id": "widget-123",
      "type": "button",
      "x": 100,
      "y": 100,
      "width": 200,
      "height": 80,
      "rotation": 0,
      "properties": {
        "text": "–ö–Ω–æ–ø–∫–∞",
        "backgroundColor": "#4a90e2"
      },
      "events": [
        {
          "trigger": "click",
          "actions": [
            {
              "type": "navigate",
              "targetId": "widget-456"
            }
          ]
        }
      ]
    }
  ],
  "metadata": {
    "createdAt": "2025-01-01T00:00:00Z",
    "updatedAt": "2025-01-01T12:00:00Z",
    "author": "John Doe"
  }
}
```

## –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

–í–∏–¥–∂–µ—Ç—ã –º–æ–≥—É—Ç —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–æ–±—ã—Ç–∏—è –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–µ–π—Å—Ç–≤–∏—è:

**–°–æ–±—ã—Ç–∏—è (triggers):**
- `click` - –∫–ª–∏–∫/—Ç–∞–ø
- `hover` - –Ω–∞–≤–µ–¥–µ–Ω–∏–µ
- `timeout` - –ø–æ —Ç–∞–π–º–µ—Ä—É
- `custom` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è

**–î–µ–π—Å—Ç–≤–∏—è (actions):**
- `navigate` - –ø–µ—Ä–µ—Ö–æ–¥ –∫ –¥—Ä—É–≥–æ–º—É –≤–∏–¥–∂–µ—Ç—É
- `show` - –ø–æ–∫–∞–∑–∞—Ç—å –≤–∏–¥–∂–µ—Ç
- `hide` - —Å–∫—Ä—ã—Ç—å –≤–∏–¥–∂–µ—Ç
- `play` - –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ (–¥–ª—è –≤–∏–¥–µ–æ)
- `stop` - –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
- `custom` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

## –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞

1. –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –≤ `packages/widgets/my-widget`
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `WidgetPlugin`
3. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–∂–µ—Ç
4. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä

–ü—Ä–∏–º–µ—Ä:
```typescript
export const MyWidget: WidgetPlugin = {
  type: 'my-widget',
  name: '–ú–æ–π –≤–∏–¥–∂–µ—Ç',
  icon: 'üé®',
  category: 'custom',
  defaultProps: {
    value: 'default'
  },
  EditorComponent: MyWidgetEditor,
  RuntimeComponent: MyWidgetRuntime,
  PropertiesPanel: MyWidgetProperties
};
```

## Deployment

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
npm run dev:editor
```

### Production
```bash
npm run build:all
```

### Electron
```bash
npm run dev:electron
```

## –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

- [ ] Android runtime (React Native)
- [ ] –û–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø—Ä–æ–µ–∫—Ç–æ–≤
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- [ ] –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≥–æ—Ç–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤
- [ ] –û–Ω–ª–∞–π–Ω-–∫–æ–ª–ª–∞–±–æ—Ä–∞—Ü–∏—è
- [ ] –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤
- [ ] A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
