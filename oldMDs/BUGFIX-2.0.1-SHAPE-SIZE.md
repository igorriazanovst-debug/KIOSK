# üêõ BUGFIX v2.0.1: –ü—Ä–æ–ø–∞–¥–∞–µ—Ç –∑–∞–ª–∏–≤–∫–∞ Shape –≤ Preview/Player

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

**–°–∏–º–ø—Ç–æ–º—ã:**
- Shape –≤–∏–¥–∂–µ—Ç —Å –∑–∞–ª–∏–≤–∫–æ–π —Ü–≤–µ—Ç–æ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ **—Ä–µ–¥–∞–∫—Ç–æ—Ä–µ**
- –í **Preview** –∏ **Player** –∑–∞–ª–∏–≤–∫–∞ –ø—Ä–æ–ø–∞–¥–∞–µ—Ç (–≤–∏–¥–∂–µ—Ç –Ω–µ –≤–∏–¥–µ–Ω)

**–ü—Ä–∏—á–∏–Ω–∞:**
–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ `width` –∏ `height` –≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö:
```json
{
  "width": 20,           ‚Üê –†–µ–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä (—Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π!)
  "height": 20,
  "properties": {
    "width": 200,        ‚Üê –î—É–±–ª–∏–∫–∞—Ç (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
    "height": 200,
    "fillColor": "#4a90e2"
  }
}
```

–í —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ Konva –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `widget.width/height`, –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç.  
–í Preview/Player HTML div —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ä–∞–∑–º–µ—Ä–æ–º 20√ó20 - –≤–∏–¥–∂–µ—Ç —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π, –µ–≥–æ –Ω–µ –≤–∏–¥–Ω–æ!

---

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

**1. WidgetLibrary.tsx**
- –£–±—Ä–∞–Ω–æ `width` –∏ `height` –∏–∑ `defaultProps` –¥–ª—è –≤—Å–µ—Ö –≤–∏–¥–∂–µ—Ç–æ–≤
- –†–∞–∑–º–µ—Ä—ã —Ç–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤–∏–¥–∂–µ—Ç–∞, –Ω–µ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –≤ properties

**2. editorStore.ts** 
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤–∏–¥–∂–µ—Ç–∞ `width/height` –ù–ï –ø–æ–ø–∞–¥–∞—é—Ç –≤ `properties`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –æ—á–∏—Å—Ç–∫–∏: `const { width: _, height: __, ...cleanProps }`

---

## üîß –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –î–æ:
```typescript
// WidgetLibrary.tsx
defaultProps: {
  width: 200,        ‚Üê –î—É–±–ª–∏–∫–∞—Ç
  height: 200,       ‚Üê –î—É–±–ª–∏–∫–∞—Ç
  fillColor: '#4a90e2'
}

// editorStore.ts
const widget = {
  width,
  height,
  properties: pendingWidget.defaultProps  ‚Üê –í–∫–ª—é—á–∞–µ—Ç width/height!
};
```

### –ü–æ—Å–ª–µ:
```typescript
// WidgetLibrary.tsx
defaultProps: {
  fillColor: '#4a90e2'  ‚Üê –¢–æ–ª—å–∫–æ —Å–≤–æ–π—Å—Ç–≤–∞ –≤–∏–¥–∂–µ—Ç–∞
}

// editorStore.ts
const defaultSizes = {
  shape: { width: 200, height: 200 },
  button: { width: 200, height: 60 },
  text: { width: 300, height: 100 },
  image: { width: 300, height: 200 },
  video: { width: 640, height: 360 },
  menu: { width: 600, height: 40 }
};

const { width: _, height: __, ...cleanProps } = pendingWidget.defaultProps;

const widget = {
  width,
  height,
  properties: cleanProps  ‚Üê –ë–ï–ó width/height
};
```

---

## üìã –î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
2. –í—ã–¥–µ–ª–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–π shape
3. –£–≤–µ–ª–∏—á—å—Ç–µ —Ä–∞–∑–º–µ—Ä —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä–æ–º
4. –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –≤ —Å–≤–æ–π—Å—Ç–≤–∞—Ö:
   - Width: 1920
   - Height: 1080
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø—Ä–∞–≤–∏—Ç—å JSON –≤—Ä—É—á–Ω—É—é

–û—Ç–∫—Ä–æ–π—Ç–µ `.json` —Ñ–∞–π–ª –∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ shape –≤–∏–¥–∂–µ—Ç–∞:

**–ù–∞–π–¥–∏—Ç–µ:**
```json
{
  "type": "shape",
  "x": 1900,
  "y": 1060,
  "width": 20,
  "height": 20,
  "properties": {
    "width": 200,
    "height": 200,
    "fillColor": "#4a90e2"
  }
}
```

**–ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞:**
```json
{
  "type": "shape",
  "x": 0,
  "y": 0,
  "width": 1920,
  "height": 1080,
  "properties": {
    "fillColor": "#4a90e2",
    "strokeColor": "#2c3e50",
    "strokeWidth": 0,
    "cornerRadius": 0,
    "opacity": 1,
    "shapeType": "rectangle"
  }
}
```

**–í–∞–∂–Ω–æ:** –£–¥–∞–ª–∏—Ç–µ `width` –∏ `height` –∏–∑ `properties`!

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –ù–æ–≤—ã–µ –≤–∏–¥–∂–µ—Ç—ã

1. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ (—Å–∫–∞—á–∞–π—Ç–µ –Ω–æ–≤—ã–π –∞—Ä—Ö–∏–≤)
2. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä: `npm run dev:editor`
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π Shape –≤–∏–¥–∂–µ—Ç
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —è—Ä–∫–∏–π —Ü–≤–µ—Ç (–∫—Ä–∞—Å–Ω—ã–π #ff0000)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Preview
6. ‚úÖ Shape –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∏–¥–µ–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ü–≤–µ—Ç–æ–º

### –¢–µ—Å—Ç 2: –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ–µ–∫—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç–∞—Ä—ã–π –ø—Ä–æ–µ–∫—Ç
2. –í—ã–¥–µ–ª–∏—Ç–µ shape –≤–∏–¥–∂–µ—Ç
3. –ò–∑–º–µ–Ω–∏—Ç–µ —Ä–∞–∑–º–µ—Ä —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä–æ–º
4. –û—Ç–∫—Ä–æ–π—Ç–µ Preview
5. ‚úÖ Shape –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∏–¥–µ–Ω

### –¢–µ—Å—Ç 3: Player

1. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ JSON
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ JSON –Ω–µ—Ç `width/height` –≤ `properties`
3. –í—Å—Ç—Ä–æ–π—Ç–µ –≤ Player: `electron/project.json`
4. –°–æ–±–µ—Ä–∏—Ç–µ: `npm run electron:build:win`
5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Player
6. ‚úÖ Shape –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∏–¥–∂–µ—Ç–∞ (–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è)

### –ü—Ä–∞–≤–∏–ª—å–Ω–æ ‚úÖ
```json
{
  "id": "widget-123",
  "type": "shape",
  "x": 0,
  "y": 0,
  "width": 1920,           ‚Üê –ù–∞ —É—Ä–æ–≤–Ω–µ –≤–∏–¥–∂–µ—Ç–∞
  "height": 1080,          ‚Üê –ù–∞ —É—Ä–æ–≤–Ω–µ –≤–∏–¥–∂–µ—Ç–∞
  "zIndex": 0,
  "rotation": 0,
  "locked": false,
  "properties": {          ‚Üê –¢–æ–ª—å–∫–æ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
    "shapeType": "rectangle",
    "fillColor": "#4a90e2",
    "strokeColor": "#2c3e50",
    "strokeWidth": 0,
    "cornerRadius": 0,
    "opacity": 1
  }
}
```

### –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚ùå
```json
{
  "width": 20,
  "height": 20,
  "properties": {
    "width": 200,        ‚Üê –î–£–ë–õ–ò–ö–ê–¢! –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–¥–µ—Å—å
    "height": 200,       ‚Üê –î–£–ë–õ–ò–ö–ê–¢! –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–¥–µ—Å—å
    "fillColor": "#4a90e2"
  }
}
```

---

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

–ï—Å–ª–∏ —É –≤–∞—Å –º–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å–æ —Å—Ç–∞—Ä–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, —Å–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:

```javascript
// fix-projects.js
const fs = require('fs');

const projectFile = 'my-project.json';
const project = JSON.parse(fs.readFileSync(projectFile, 'utf-8'));

project.widgets = project.widgets.map(widget => {
  if (widget.properties) {
    // –£–±–∏—Ä–∞–µ–º width/height –∏–∑ properties
    const { width, height, ...cleanProps } = widget.properties;
    
    return {
      ...widget,
      properties: cleanProps
    };
  }
  return widget;
});

fs.writeFileSync(projectFile, JSON.stringify(project, null, 2));
console.log('‚úÖ –ü—Ä–æ–µ–∫—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω!');
```

–ó–∞–ø—É—Å–∫:
```bash
node fix-projects.js
```

---

## üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

1. **–°–∫–∞—á–∞–π—Ç–µ** –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –∞—Ä—Ö–∏–≤ `kiosk-content-platform.zip`
2. **–†–∞—Å–ø–∞–∫—É–π—Ç–µ** –≤ –Ω–æ–≤—É—é –ø–∞–ø–∫—É
3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ** –≤–∞—à–∏ –ø—Ä–æ–µ–∫—Ç—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É)
4. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ** –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `npm install` –≤ –∫–æ—Ä–Ω–µ
5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ** —Ä–µ–¥–∞–∫—Ç–æ—Ä: `npm run dev:editor`

---

## üéØ –í–µ—Ä—Å–∏—è

**v2.0.1** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤ –≤–∏–¥–∂–µ—Ç–æ–≤

**–î–∞—Ç–∞:** –î–µ–∫–∞–±—Ä—å 2025

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

---

## ‚úÖ Changelog

### v2.0.1
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ `width/height` –≤ properties
- ‚úÖ Shape –≤–∏–¥–∂–µ—Ç—ã —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ Preview/Player
- ‚úÖ –†–∞–∑–º–µ—Ä—ã –≤–∏–¥–∂–µ—Ç–æ–≤ —Ç–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤–∏–¥–∂–µ—Ç–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ID –≤–∏–¥–∂–µ—Ç–æ–≤ (–¥–æ–±–∞–≤–ª–µ–Ω Math.random)

### v2.0.0
- Kiosk Player
- –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∞ Windows
- –≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ–µ–∫—Ç–æ–≤

---

**–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!** üéâ
