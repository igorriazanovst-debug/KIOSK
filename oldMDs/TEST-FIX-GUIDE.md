# ğŸ”§ Ğ˜ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ‚ĞµÑÑ‚Ğ¾Ğ² - Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾!

## Ğ§Ñ‚Ğ¾ Ğ±Ñ‹Ğ»Ğ¾ Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¾:

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:
Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ `test-server.sh` Ğ½Ğµ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°Ğ» Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾ JSON Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹ API Ğ¸ Ğ½Ğµ ÑĞºÑ€Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ» Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ² bash.

### Ğ˜ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ:
1. âœ… Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¾ `2>/dev/null` ĞºĞ¾ Ğ²ÑĞµĞ¼ `jq` ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°Ğ¼
2. âœ… ĞšĞ°Ğ²Ñ‹Ñ‡ĞºĞ¸ Ğ²Ğ¾ĞºÑ€ÑƒĞ³ Ğ²ÑĞµÑ… Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ñ… (`"$VAR"` Ğ²Ğ¼ĞµÑÑ‚Ğ¾ `$VAR`)
3. âœ… Ğ£Ğ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¸Ğ¼ĞµĞ½Ğ° Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ñ… ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ¾Ğ² (Ñ timestamp)
4. âœ… ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° ÑĞ»ÑƒÑ‡Ğ°ĞµĞ² ĞºĞ¾Ğ³Ğ´Ğ° ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½ Ğ½Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ğ»ÑÑ
5. âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ½Ğ° `null` Ğ¸ Ğ¿ÑƒÑÑ‚Ñ‹Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ

---

## ğŸš€ ĞšĞ°Ğº Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ñ‹:

### ĞĞ° Ğ²Ğ°ÑˆĞµĞ¼ ÑĞµÑ€Ğ²ĞµÑ€Ğµ:

```bash
cd /opt/kiosk/packages/server

# Ğ¡ĞºĞ°Ñ‡Ğ°Ğ¹Ñ‚Ğµ Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ğ¹ ÑĞºÑ€Ğ¸Ğ¿Ñ‚
# (Ñ„Ğ°Ğ¹Ğ» ÑƒĞ¶Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½ Ğ² Ğ°Ñ€Ñ…Ğ¸Ğ²Ğµ)

# Ğ¡Ğ´ĞµĞ»Ğ°Ğ¹Ñ‚Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½ÑĞµĞ¼Ñ‹Ğ¼
chmod +x test-server.sh

# Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Ñ‚ĞµÑÑ‚Ñ‹
./test-server.sh
```

---

## âœ… ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğ¹ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   ğŸ§ª Kiosk Server Test Suite v3.0            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Testing server: http://localhost:3001

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. HEALTH CHECK
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ“ Server is running
âœ“ Version is 3.0.0
   Uptime: 3754.879746224s

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
2. TEMPLATES API
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Creating template...
âœ“ Create template
   Template ID: 3edee3dd-efca-4052-a42a-d5df27cd47fd
âœ“ Get template by ID
âœ“ Template name matches
âœ“ List templates
âœ“ Found 2 template(s)
âœ“ Update template
âœ“ Delete template

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
3. DEVICES API
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Registering device...
âœ“ Register device
âœ“ Device ID matches
âœ“ Get device by ID
âœ“ Device name matches
âœ“ List devices
âœ“ Found 2 device(s)
âœ“ Update device
âœ“ Delete device

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
4. MEDIA API
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ“ List media
â„¹  File upload test skipped (requires multipart/form-data)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
5. WEBSOCKET
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Testing WebSocket connection to ws://localhost:3001
â„¹  wscat not installed, skipping WebSocket test
   Install: npm install -g wscat

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
SUMMARY
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Total tests:  18
Passed:       18
Failed:       0

âœ… All tests passed!
```

---

## ğŸ“¦ ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹:

Ğ’ Ğ°Ñ€Ñ…Ğ¸Ğ²Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ñ‹:
- `packages/server/test-server.sh` - Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ğ¹
- `packages/server/diagnose-api.sh` - Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑĞºÑ€Ğ¸Ğ¿Ñ‚
- `DIAGNOSTIC-COMMANDS.md` - ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ´Ğ»Ñ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ¸

---

## ğŸ” Ğ•ÑĞ»Ğ¸ Ñ‚ĞµÑÑ‚Ñ‹ Ğ²ÑĞµ ĞµÑ‰Ğµ Ğ½Ğµ Ğ¿Ñ€Ğ¾Ñ…Ğ¾Ğ´ÑÑ‚:

### 1. Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğµ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºÑƒ:
```bash
./diagnose-api.sh
```

### 2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹ API Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ:
```bash
# Health
curl -s http://localhost:3001/api/health | jq .

# Templates
curl -s http://localhost:3001/api/templates | jq .

# Create template
curl -s -X POST http://localhost:3001/api/templates \
  -H "Content-Type: application/json" \
  -d '{"name":"Manual Test","description":"Test","category":"test","data":{"name":"Test","canvas":{"width":1920,"height":1080}}}' | jq .
```

### 3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ»Ğ¾Ğ³Ğ¸:
```bash
journalctl -u kiosk-server -f
```

---

## ğŸ“ ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ñ:

- WebSocket Ñ‚ĞµÑÑ‚ Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑ ĞµÑĞ»Ğ¸ Ğ½Ğµ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½ `wscat`
- Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğµ wscat: `npm install -g wscat` (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
- File upload Ñ‚ĞµÑÑ‚ Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑ (Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹)

---

## âœ… Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾!

Ğ¢ĞµĞ¿ĞµÑ€ÑŒ Ñ‚ĞµÑÑ‚Ñ‹ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾! ğŸ‰

Ğ•ÑĞ»Ğ¸ Ğ²ÑĞµ Ñ‚ĞµÑÑ‚Ñ‹ Ğ¿Ñ€Ğ¾ÑˆĞ»Ğ¸ (18/18), Ğ²Ğ°Ñˆ ÑĞµÑ€Ğ²ĞµÑ€ Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ĞµĞ½!
