{"version":3,"mappings":"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","names":["f","require$$0","k","l","m","n","p","q","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","defaultAttributes","toKebabCase","string","createLucideIcon","iconName","iconNode","Component","forwardRef","color","size","strokeWidth","absoluteStrokeWidth","children","rest","ref","createElement","tag","attrs","createLucideIcon$1","AlertCircle","Check","Cloud","FolderOpen","Grid","Image","Key","Loader","Lock","LogOut","Magnet","Menu","MousePointer","Play","Redo2","Save","Square","Trash2","Type","Undo2","Unlock","User","Video","ZoomIn","ZoomOut","Logger","level","message","details","entry","logger","ApiClient","stored","data","error","token","organizationName","plan","licenseKey","response","filters","params","query","url","id","endpoint","options","headers","errorData","apiClient","LoginPage","navigate","useNavigate","setLicenseKey","useState","isLoading","setIsLoading","setError","formatLicenseKey","value","handleInputChange","formatted","handleSubmit","err","handlePaste","pasted","jsxs","jsx","Fragment","createStoreImpl","createState","state","listeners","setState","partial","replace","nextState","previousState","listener","getState","api","initialState","__vite_import_meta_env__","createStore","React","is","x","y","objectIs","useEffect","useLayoutEffect","useDebugValue","useSyncExternalStore$2","subscribe","getSnapshot","_useState","inst","forceUpdate","checkIfSnapshotChanged","latestGetSnapshot","nextValue","useSyncExternalStore$1","shim","useSyncExternalStoreShim_production","shimModule","require$$1","useSyncExternalStore","useRef","useMemo","withSelector_production","getServerSnapshot","selector","isEqual","instRef","memoizedSelector","nextSnapshot","hasMemo","memoizedSnapshot","currentSelection","memoizedSelection","nextSelection","maybeGetServerSnapshot","withSelectorModule","ReactExports","useSyncExternalStoreWithSelector","useSyncExternalStoreExports","didWarnAboutEqualityFn","identity","arg","useStore","equalityFn","slice","createImpl","useBoundStore","create","autoSaveTimer","startAutoSave","saveFunction","interval","stopAutoSave","useEditorStore","set","get","name","canvas","localProject","serverProject","project","projectId","isSaving","updates","widget","type","defaultProps","pendingWidget","snapToGrid","gridSize","finalX","finalY","defaultSize","width","height","_","__","cleanProps","w","wId","newWidget","addToSelection","selectedWidgetIds","history","previous","newPast","next","newFuture","selectedWidgets","clipboard","newWidgets","zoom","AutoSaveIndicator","lastSaved","saveError","status","formatLastSaved","date","diff","seconds","minutes","renderContent","Toolbar","gridEnabled","undo","redo","setZoom","toggleGrid","toggleSnapToGrid","saveProject","setOrganizationName","setPlan","orgData","handleZoomIn","handleZoomOut","handleLogout","canUndo","canRedo","ButtonWidget","isSelected","onSelect","onDragEnd","onTransformEnd","dragBoundFunc","groupRef","textRef","text","backgroundColor","textColor","fontSize","fontFamily","fontWeight","fontStyle","textAlign","borderRadius","borderWidth","borderColor","borderStyle","paddingX","paddingY","shadowEnabled","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","isLocked","getDash","Group","Rect","Text","TextWidget","verticalAlign","lineHeight","padding","textDecoration","getTextDecoration","VideoPlaylist","currentIndex","setCurrentIndex","sources","autoNext","loop","VideoWidget","videoRef","videoElement","setVideoElement","animationRef","sourceType","src","rtspUrl","isLocalFile","fileName","objectFit","borderEnabled","autoplay","muted","controls","video","updateCanvas","layer","updateWidget","videoRatio","currentRatio","newHeight","videoProps","widgetRatio","sx","sy","sWidth","sHeight","dx","dy","dWidth","dHeight","getStrokeDash","style","handleTransform","handleClick","getDisplayText","KonvaImage","KonvaText","ShapeWidget","shapeType","fillColor","strokeColor","cornerRadius","opacity","renderShape","commonProps","radius","Circle","Ellipse","RegularPolygon","Star","Line","arrowWidth","arrowHeight","headWidth","shaftHeight","MenuWidget","hoveredItem","setHoveredItem","expandedItem","setExpandedItem","orientation","items","hoverColor","itemPadding","submenuBackgroundColor","submenuTextColor","itemHeight","isHorizontal","calculateItemWidth","label","renderHorizontalMenu","elements","currentX","item","index","itemWidth","isHovered","isExpanded","hasChildren","child","childIndex","childY","childWidth","renderVerticalMenu","currentY","menuWidth","childIsHovered","WIDGET_COLORS","Canvas","selectWidget","clearSelection","gridLineWidth","gridColor","addWidgetAtPosition","clearPendingWidget","stageRef","transformerRef","snapToGridValue","pos","stage","selectedNodes","handleStageClick","pointerPosition","handleWidgetClick","isMultiSelect","handleDragEnd","handleTransformEnd","node","scaleX","scaleY","nodeWidth","nodeHeight","renderGrid","lines","i","Stage","Layer","a","Transformer","oldBox","newBox","OutlinePanel","deleteWidget","getWidgetIcon","getWidgetLabel","sortedWidgets","WidgetLibrary","addWidget","widgetTypes","handleAddWidget","setPendingWidget","widgetType","Icon","ActionEditor","onUpdate","allWidgets","actions","addAction","newAction","updateAction","newActions","removeAction","action","PropertiesPanel","selectedWidget","handlePropertyChange","key","handlePropertiesChange","styleName","__vitePreload","buttonStyles","s","file","extractTextFromFile","loadRequiredLibraries","reader","event","result","source","newSources","files","currentSources","loadedCount","newItem","c","Editor","authRefresh","setAuthRefresh","copy","paste","cut","handleKeyDown","handleLogin","prev","ProtectedRoute","Navigate","App","BrowserRouter","Routes","Route","root","ReactDOM"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,33,34,35,36,37,38],"sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../node_modules/lucide-react/dist/esm/defaultAttributes.mjs","../../node_modules/lucide-react/dist/esm/createLucideIcon.mjs","../../node_modules/lucide-react/dist/esm/icons/alert-circle.mjs","../../node_modules/lucide-react/dist/esm/icons/check.mjs","../../node_modules/lucide-react/dist/esm/icons/cloud.mjs","../../node_modules/lucide-react/dist/esm/icons/folder-open.mjs","../../node_modules/lucide-react/dist/esm/icons/grid.mjs","../../node_modules/lucide-react/dist/esm/icons/image.mjs","../../node_modules/lucide-react/dist/esm/icons/key.mjs","../../node_modules/lucide-react/dist/esm/icons/loader.mjs","../../node_modules/lucide-react/dist/esm/icons/lock.mjs","../../node_modules/lucide-react/dist/esm/icons/log-out.mjs","../../node_modules/lucide-react/dist/esm/icons/magnet.mjs","../../node_modules/lucide-react/dist/esm/icons/menu.mjs","../../node_modules/lucide-react/dist/esm/icons/mouse-pointer.mjs","../../node_modules/lucide-react/dist/esm/icons/play.mjs","../../node_modules/lucide-react/dist/esm/icons/redo-2.mjs","../../node_modules/lucide-react/dist/esm/icons/save.mjs","../../node_modules/lucide-react/dist/esm/icons/square.mjs","../../node_modules/lucide-react/dist/esm/icons/trash-2.mjs","../../node_modules/lucide-react/dist/esm/icons/type.mjs","../../node_modules/lucide-react/dist/esm/icons/undo-2.mjs","../../node_modules/lucide-react/dist/esm/icons/unlock.mjs","../../node_modules/lucide-react/dist/esm/icons/user.mjs","../../node_modules/lucide-react/dist/esm/icons/video.mjs","../../node_modules/lucide-react/dist/esm/icons/zoom-in.mjs","../../node_modules/lucide-react/dist/esm/icons/zoom-out.mjs","../../src/utils/logger.ts","../../src/services/api-client.ts","../../src/pages/LoginPage.tsx","../../node_modules/zustand/esm/vanilla.mjs","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js","../../node_modules/use-sync-external-store/shim/with-selector.js","../../node_modules/zustand/esm/index.mjs","../../src/stores/editorStore.ts","../../src/components/AutoSaveIndicator.tsx","../../src/components/Toolbar.tsx","../../src/components/ButtonWidget.tsx","../../src/components/TextWidget.tsx","../../src/components/VideoPlaylist.tsx","../../src/components/VideoWidget.tsx","../../src/components/ShapeWidget.tsx","../../src/components/MenuWidget.tsx","../../src/components/Canvas.tsx","../../src/components/OutlinePanel.tsx","../../src/components/WidgetLibrary.tsx","../../src/components/ActionEditor.tsx","../../src/components/PropertiesPanel.tsx","../../src/components/Editor.tsx","../../src/components/auth/ProtectedRoute.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.mjs';\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ color = \"currentColor\", size = 24, strokeWidth = 2, absoluteStrokeWidth, children, ...rest }, ref) => createElement(\n      \"svg\",\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n        className: `lucide lucide-${toKebabCase(iconName)}`,\n        ...rest\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...(Array.isArray(children) ? children : [children]) || []\n      ]\n    )\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\nvar createLucideIcon$1 = createLucideIcon;\n\nexport { createLucideIcon$1 as default, toKebabCase };\n//# sourceMappingURL=createLucideIcon.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst AlertCircle = createLucideIcon(\"AlertCircle\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"8\", y2: \"12\", key: \"1pkeuh\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"16\", y2: \"16\", key: \"4dfq90\" }]\n]);\n\nexport { AlertCircle as default };\n//# sourceMappingURL=alert-circle.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Check = createLucideIcon(\"Check\", [\n  [\"polyline\", { points: \"20 6 9 17 4 12\", key: \"10jjfj\" }]\n]);\n\nexport { Check as default };\n//# sourceMappingURL=check.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Cloud = createLucideIcon(\"Cloud\", [\n  [\n    \"path\",\n    { d: \"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z\", key: \"p7xjir\" }\n  ]\n]);\n\nexport { Cloud as default };\n//# sourceMappingURL=cloud.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst FolderOpen = createLucideIcon(\"FolderOpen\", [\n  [\n    \"path\",\n    {\n      d: \"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2\",\n      key: \"1nmvlm\"\n    }\n  ]\n]);\n\nexport { FolderOpen as default };\n//# sourceMappingURL=folder-open.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Grid = createLucideIcon(\"Grid\", [\n  [\n    \"rect\",\n    {\n      width: \"18\",\n      height: \"18\",\n      x: \"3\",\n      y: \"3\",\n      rx: \"2\",\n      ry: \"2\",\n      key: \"1m3agn\"\n    }\n  ],\n  [\"line\", { x1: \"3\", x2: \"21\", y1: \"9\", y2: \"9\", key: \"1vqk6q\" }],\n  [\"line\", { x1: \"3\", x2: \"21\", y1: \"15\", y2: \"15\", key: \"o2sbyz\" }],\n  [\"line\", { x1: \"9\", x2: \"9\", y1: \"3\", y2: \"21\", key: \"13tij5\" }],\n  [\"line\", { x1: \"15\", x2: \"15\", y1: \"3\", y2: \"21\", key: \"1hpv9i\" }]\n]);\n\nexport { Grid as default };\n//# sourceMappingURL=grid.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Image = createLucideIcon(\"Image\", [\n  [\n    \"rect\",\n    {\n      width: \"18\",\n      height: \"18\",\n      x: \"3\",\n      y: \"3\",\n      rx: \"2\",\n      ry: \"2\",\n      key: \"1m3agn\"\n    }\n  ],\n  [\"circle\", { cx: \"9\", cy: \"9\", r: \"2\", key: \"af1f0g\" }],\n  [\"path\", { d: \"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21\", key: \"1xmnt7\" }]\n]);\n\nexport { Image as default };\n//# sourceMappingURL=image.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Key = createLucideIcon(\"Key\", [\n  [\"circle\", { cx: \"7.5\", cy: \"15.5\", r: \"5.5\", key: \"yqb3hr\" }],\n  [\"path\", { d: \"m21 2-9.6 9.6\", key: \"1j0ho8\" }],\n  [\"path\", { d: \"m15.5 7.5 3 3L22 7l-3-3\", key: \"1rn1fs\" }]\n]);\n\nexport { Key as default };\n//# sourceMappingURL=key.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Loader = createLucideIcon(\"Loader\", [\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"2\", y2: \"6\", key: \"gza1u7\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"18\", y2: \"22\", key: \"1qhbu9\" }],\n  [\"line\", { x1: \"4.93\", x2: \"7.76\", y1: \"4.93\", y2: \"7.76\", key: \"xae44r\" }],\n  [\n    \"line\",\n    { x1: \"16.24\", x2: \"19.07\", y1: \"16.24\", y2: \"19.07\", key: \"bxnmvf\" }\n  ],\n  [\"line\", { x1: \"2\", x2: \"6\", y1: \"12\", y2: \"12\", key: \"89khin\" }],\n  [\"line\", { x1: \"18\", x2: \"22\", y1: \"12\", y2: \"12\", key: \"pb8tfm\" }],\n  [\"line\", { x1: \"4.93\", x2: \"7.76\", y1: \"19.07\", y2: \"16.24\", key: \"1uxjnu\" }],\n  [\"line\", { x1: \"16.24\", x2: \"19.07\", y1: \"7.76\", y2: \"4.93\", key: \"6duxfx\" }]\n]);\n\nexport { Loader as default };\n//# sourceMappingURL=loader.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Lock = createLucideIcon(\"Lock\", [\n  [\n    \"rect\",\n    {\n      width: \"18\",\n      height: \"11\",\n      x: \"3\",\n      y: \"11\",\n      rx: \"2\",\n      ry: \"2\",\n      key: \"1w4ew1\"\n    }\n  ],\n  [\"path\", { d: \"M7 11V7a5 5 0 0 1 10 0v4\", key: \"fwvmzm\" }]\n]);\n\nexport { Lock as default };\n//# sourceMappingURL=lock.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst LogOut = createLucideIcon(\"LogOut\", [\n  [\"path\", { d: \"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\", key: \"1uf3rs\" }],\n  [\"polyline\", { points: \"16 17 21 12 16 7\", key: \"1gabdz\" }],\n  [\"line\", { x1: \"21\", x2: \"9\", y1: \"12\", y2: \"12\", key: \"1uyos4\" }]\n]);\n\nexport { LogOut as default };\n//# sourceMappingURL=log-out.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Magnet = createLucideIcon(\"Magnet\", [\n  [\n    \"path\",\n    {\n      d: \"m6 15-4-4 6.75-6.77a7.79 7.79 0 0 1 11 11L13 22l-4-4 6.39-6.36a2.14 2.14 0 0 0-3-3L6 15\",\n      key: \"1i3lhw\"\n    }\n  ],\n  [\"path\", { d: \"m5 8 4 4\", key: \"j6kj7e\" }],\n  [\"path\", { d: \"m12 15 4 4\", key: \"lnac28\" }]\n]);\n\nexport { Magnet as default };\n//# sourceMappingURL=magnet.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Menu = createLucideIcon(\"Menu\", [\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"12\", y2: \"12\", key: \"1e0a9i\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"6\", y2: \"6\", key: \"1owob3\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"18\", y2: \"18\", key: \"yk5zj1\" }]\n]);\n\nexport { Menu as default };\n//# sourceMappingURL=menu.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst MousePointer = createLucideIcon(\"MousePointer\", [\n  [\"path\", { d: \"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z\", key: \"y2ucgo\" }],\n  [\"path\", { d: \"m13 13 6 6\", key: \"1nhxnf\" }]\n]);\n\nexport { MousePointer as default };\n//# sourceMappingURL=mouse-pointer.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Play = createLucideIcon(\"Play\", [\n  [\"polygon\", { points: \"5 3 19 12 5 21 5 3\", key: \"191637\" }]\n]);\n\nexport { Play as default };\n//# sourceMappingURL=play.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Redo2 = createLucideIcon(\"Redo2\", [\n  [\"path\", { d: \"m15 14 5-5-5-5\", key: \"12vg1m\" }],\n  [\n    \"path\",\n    {\n      d: \"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13\",\n      key: \"19mnr4\"\n    }\n  ]\n]);\n\nexport { Redo2 as default };\n//# sourceMappingURL=redo-2.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Save = createLucideIcon(\"Save\", [\n  [\n    \"path\",\n    {\n      d: \"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\",\n      key: \"1owoqh\"\n    }\n  ],\n  [\"polyline\", { points: \"17 21 17 13 7 13 7 21\", key: \"1md35c\" }],\n  [\"polyline\", { points: \"7 3 7 8 15 8\", key: \"8nz8an\" }]\n]);\n\nexport { Save as default };\n//# sourceMappingURL=save.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Square = createLucideIcon(\"Square\", [\n  [\n    \"rect\",\n    { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }\n  ]\n]);\n\nexport { Square as default };\n//# sourceMappingURL=square.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Trash2 = createLucideIcon(\"Trash2\", [\n  [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n  [\"path\", { d: \"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\", key: \"4alrt4\" }],\n  [\"path\", { d: \"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\", key: \"v07s0e\" }],\n  [\"line\", { x1: \"10\", x2: \"10\", y1: \"11\", y2: \"17\", key: \"1uufr5\" }],\n  [\"line\", { x1: \"14\", x2: \"14\", y1: \"11\", y2: \"17\", key: \"xtxkd\" }]\n]);\n\nexport { Trash2 as default };\n//# sourceMappingURL=trash-2.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Type = createLucideIcon(\"Type\", [\n  [\"polyline\", { points: \"4 7 4 4 20 4 20 7\", key: \"1nosan\" }],\n  [\"line\", { x1: \"9\", x2: \"15\", y1: \"20\", y2: \"20\", key: \"swin9y\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"4\", y2: \"20\", key: \"1tx1rr\" }]\n]);\n\nexport { Type as default };\n//# sourceMappingURL=type.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Undo2 = createLucideIcon(\"Undo2\", [\n  [\"path\", { d: \"M9 14 4 9l5-5\", key: \"102s5s\" }],\n  [\n    \"path\",\n    {\n      d: \"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11\",\n      key: \"llx8ln\"\n    }\n  ]\n]);\n\nexport { Undo2 as default };\n//# sourceMappingURL=undo-2.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Unlock = createLucideIcon(\"Unlock\", [\n  [\n    \"rect\",\n    {\n      width: \"18\",\n      height: \"11\",\n      x: \"3\",\n      y: \"11\",\n      rx: \"2\",\n      ry: \"2\",\n      key: \"1w4ew1\"\n    }\n  ],\n  [\"path\", { d: \"M7 11V7a5 5 0 0 1 9.9-1\", key: \"1mm8w8\" }]\n]);\n\nexport { Unlock as default };\n//# sourceMappingURL=unlock.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst User = createLucideIcon(\"User\", [\n  [\"path\", { d: \"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2\", key: \"975kel\" }],\n  [\"circle\", { cx: \"12\", cy: \"7\", r: \"4\", key: \"17ys0d\" }]\n]);\n\nexport { User as default };\n//# sourceMappingURL=user.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Video = createLucideIcon(\"Video\", [\n  [\"path\", { d: \"m22 8-6 4 6 4V8Z\", key: \"50v9me\" }],\n  [\n    \"rect\",\n    {\n      width: \"14\",\n      height: \"12\",\n      x: \"2\",\n      y: \"6\",\n      rx: \"2\",\n      ry: \"2\",\n      key: \"1rqjg6\"\n    }\n  ]\n]);\n\nexport { Video as default };\n//# sourceMappingURL=video.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst ZoomIn = createLucideIcon(\"ZoomIn\", [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"line\", { x1: \"21\", x2: \"16.65\", y1: \"21\", y2: \"16.65\", key: \"13gj7c\" }],\n  [\"line\", { x1: \"11\", x2: \"11\", y1: \"8\", y2: \"14\", key: \"1vmskp\" }],\n  [\"line\", { x1: \"8\", x2: \"14\", y1: \"11\", y2: \"11\", key: \"durymu\" }]\n]);\n\nexport { ZoomIn as default };\n//# sourceMappingURL=zoom-in.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst ZoomOut = createLucideIcon(\"ZoomOut\", [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"line\", { x1: \"21\", x2: \"16.65\", y1: \"21\", y2: \"16.65\", key: \"13gj7c\" }],\n  [\"line\", { x1: \"8\", x2: \"14\", y1: \"11\", y2: \"11\", key: \"durymu\" }]\n]);\n\nexport { ZoomOut as default };\n//# sourceMappingURL=zoom-out.mjs.map\n","/**\n * Logger utility     \n */\n\nexport type LogLevel = 'info' | 'warn' | 'error';\n\nexport interface LogEntry {\n  timestamp: string;\n  level: LogLevel;\n  message: string;\n  details?: any;\n}\n\nclass Logger {\n  private logs: LogEntry[] = [];\n  private readonly MAX_LOGS = 100;\n\n  /**\n   *  \n   */\n  log(level: LogLevel, message: string, details?: any): void {\n    const entry: LogEntry = {\n      timestamp: new Date().toISOString(),\n      level,\n      message,\n      details\n    };\n\n    this.logs.push(entry);\n\n    //   \n    if (this.logs.length > this.MAX_LOGS) {\n      this.logs.shift();\n    }\n\n    //   \n    const consoleMethod = level === 'error' ? console.error : level === 'warn' ? console.warn : console.log;\n    consoleMethod(`[${level.toUpperCase()}] ${message}`, details || '');\n  }\n\n  info(message: string, details?: any): void {\n    this.log('info', message, details);\n  }\n\n  warn(message: string, details?: any): void {\n    this.log('warn', message, details);\n  }\n\n  error(message: string, details?: any): void {\n    this.log('error', message, details);\n  }\n\n  /**\n   *   \n   */\n  getLogs(): LogEntry[] {\n    return [...this.logs];\n  }\n\n  /**\n   *  \n   */\n  clear(): void {\n    this.logs = [];\n  }\n\n  /**\n   *    JSON\n   */\n  export(): string {\n    return JSON.stringify(this.logs, null, 2);\n  }\n}\n\nexport const logger = new Logger();\n","/**\n * API Client -  3.0\n *   sessionStorage   \n */\n\nimport { logger } from '../utils/logger';\n\n// ==================== TYPES ====================\n\nexport interface AuthResponse {\n  success: boolean;\n  token: string;\n  expiresIn: number; //  \n  license: {\n    licenseKey: string;\n    organizationId: string;\n    organizationName: string;\n    plan: 'BASIC' | 'PRO' | 'MAX';\n    validFrom?: string;\n    validUntil?: string;\n    maxDevices: number;\n    features: string[];\n  };\n  user?: {\n    id: string;\n    email?: string;\n  };\n}\n\nexport interface ProjectResponse {\n  success: boolean;\n  project: Project;\n}\n\nexport interface ProjectsListResponse {\n  success: boolean;\n  projects: Project[];\n  total: number;\n  page: number;\n  limit: number;\n}\n\nexport interface Project {\n  id: string;\n  name: string;\n  description?: string;\n  projectData: any;\n  canvasWidth: number;\n  canvasHeight: number;\n  canvasBackground?: string;\n  tags?: string[];\n  thumbnail?: string;\n  isPublished: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface ProjectFilters {\n  search?: string;\n  tags?: string[];\n  isPublished?: boolean;\n  page?: number;\n  limit?: number;\n}\n\nexport interface CreateProjectData {\n  name: string;\n  description?: string;\n  projectData?: any;\n  canvasWidth?: number;\n  canvasHeight?: number;\n  canvasBackground?: string;\n  tags?: string[];\n  thumbnail?: string;\n}\n\nexport interface UpdateProjectData {\n  name?: string;\n  description?: string;\n  projectData?: any;\n  canvasWidth?: number;\n  canvasHeight?: number;\n  canvasBackground?: string;\n  tags?: string[];\n  thumbnail?: string;\n  isPublished?: boolean;\n}\n\n// ==================== API CLIENT ====================\n\nclass ApiClient {\n  private baseUrl: string = '';\n  private token: string | null = null;\n  private organizationName: string | null = null;\n  private plan: string | null = null;\n\n  constructor() {\n    this.loadToken();\n  }\n\n  // ==================== TOKEN MANAGEMENT ====================\n\n  /**\n   *    sessionStorage\n   */\n  private loadToken(): void {\n    const stored = sessionStorage.getItem('kiosk_auth_token');\n    if (stored) {\n      try {\n        const data = JSON.parse(stored);\n        this.token = data.token;\n        this.organizationName = data.organizationName || null;\n        this.plan = data.plan || null;\n        \n        logger.info('Token loaded from sessionStorage', {\n          hasToken: !!this.token,\n          organization: this.organizationName,\n          plan: this.plan\n        });\n      } catch (error) {\n        logger.error('Failed to parse stored token', error);\n        this.clearToken();\n      }\n    }\n  }\n\n  /**\n   *    sessionStorage\n   */\n  private saveToken(token: string, organizationName: string, plan: string): void {\n    const data = {\n      token,\n      organizationName,\n      plan,\n      savedAt: new Date().toISOString()\n    };\n    \n    sessionStorage.setItem('kiosk_auth_token', JSON.stringify(data));\n    this.token = token;\n    this.organizationName = organizationName;\n    this.plan = plan;\n    \n    logger.info('Token saved to sessionStorage', {\n      organization: organizationName,\n      plan: plan\n    });\n  }\n\n  /**\n   *  \n   */\n  private clearToken(): void {\n    sessionStorage.removeItem('kiosk_auth_token');\n    this.token = null;\n    this.organizationName = null;\n    this.plan = null;\n    \n    logger.info('Token cleared from sessionStorage');\n  }\n\n  /**\n   *  \n   */\n  public isAuthenticated(): boolean {\n    return this.token !== null;\n  }\n\n  /**\n   *   \n   */\n  public getToken(): string | null {\n    return this.token;\n  }\n\n  /**\n   *   \n   */\n  public getOrganizationData(): { name: string | null; plan: string | null } {\n    return {\n      name: this.organizationName,\n      plan: this.plan\n    };\n  }\n\n  // ==================== AUTHENTICATION ====================\n\n  /**\n   * POST /api/auth/license\n   *    \n   */\n  public async loginWithLicense(licenseKey: string): Promise<AuthResponse> {\n    logger.info('Attempting login with license key');\n    \n    try {\n      const response = await this.request<AuthResponse>('/api/auth/license', {\n        method: 'POST',\n        body: JSON.stringify({ licenseKey })\n      });\n\n      if (response.token && response.license) {\n        this.saveToken(\n          response.token,\n          response.license.organizationName,\n          response.license.plan\n        );\n        \n        logger.info('Login successful', {\n          organization: response.license.organizationName,\n          plan: response.license.plan\n        });\n      }\n\n      return response;\n    } catch (error) {\n      logger.error('Login failed', error);\n      throw error;\n    }\n  }\n\n  /**\n   * POST /api/auth/refresh\n   *  \n   */\n  public async refreshToken(): Promise<AuthResponse> {\n    logger.info('Refreshing token');\n    \n    try {\n      const response = await this.request<AuthResponse>('/api/auth/refresh', {\n        method: 'POST',\n        authenticated: true\n      });\n\n      if (response.token && response.license) {\n        this.saveToken(\n          response.token,\n          response.license.organizationName,\n          response.license.plan\n        );\n        \n        logger.info('Token refreshed successfully');\n      }\n\n      return response;\n    } catch (error) {\n      logger.error('Token refresh failed', error);\n      throw error;\n    }\n  }\n\n  /**\n   * GET /api/auth/verify\n   *  \n   */\n  public async verifyToken(): Promise<boolean> {\n    try {\n      await this.request('/api/auth/verify', {\n        method: 'GET',\n        authenticated: true\n      });\n      \n      logger.info('Token verified successfully');\n      return true;\n    } catch (error) {\n      logger.warn('Token verification failed', error);\n      this.clearToken();\n      return false;\n    }\n  }\n\n  /**\n   *   \n   */\n  public logout(): void {\n    logger.info('User logout');\n    this.clearToken();\n    \n    //   logout\n    window.dispatchEvent(new CustomEvent('auth:logout'));\n  }\n\n  // ==================== PROJECTS ====================\n\n  /**\n   * GET /api/projects\n   *   \n   */\n  public async getProjects(filters?: ProjectFilters): Promise<ProjectsListResponse> {\n    const params = new URLSearchParams();\n    \n    if (filters?.search) params.append('search', filters.search);\n    if (filters?.tags) params.append('tags', filters.tags.join(','));\n    if (filters?.isPublished !== undefined) params.append('isPublished', String(filters.isPublished));\n    if (filters?.page) params.append('page', String(filters.page));\n    if (filters?.limit) params.append('limit', String(filters.limit));\n\n    const query = params.toString();\n    const url = `/api/projects${query ? '?' + query : ''}`;\n\n    return await this.request<ProjectsListResponse>(url, {\n      method: 'GET',\n      authenticated: true\n    });\n  }\n\n  /**\n   * GET /api/projects/:id\n   *    ID\n   */\n  public async getProject(id: string): Promise<ProjectResponse> {\n    return await this.request<ProjectResponse>(`/api/projects/${id}`, {\n      method: 'GET',\n      authenticated: true\n    });\n  }\n\n  /**\n   * POST /api/projects\n   *   \n   */\n  public async createProject(data: CreateProjectData): Promise<ProjectResponse> {\n    logger.info('Creating new project', { name: data.name });\n    \n    try {\n      const response = await this.request<ProjectResponse>('/api/projects', {\n        method: 'POST',\n        authenticated: true,\n        body: JSON.stringify(data)\n      });\n      \n      logger.info('Project created successfully', { id: response.project.id });\n      return response;\n    } catch (error) {\n      logger.error('Failed to create project', error);\n      throw error;\n    }\n  }\n\n  /**\n   * PUT /api/projects/:id\n   *  \n   */\n  public async updateProject(id: string, data: UpdateProjectData): Promise<ProjectResponse> {\n    logger.info('Updating project', { id });\n    \n    try {\n      const response = await this.request<ProjectResponse>(`/api/projects/${id}`, {\n        method: 'PUT',\n        authenticated: true,\n        body: JSON.stringify(data)\n      });\n      \n      logger.info('Project updated successfully', { id });\n      return response;\n    } catch (error) {\n      logger.error('Failed to update project', { id, error });\n      throw error;\n    }\n  }\n\n  /**\n   * DELETE /api/projects/:id\n   *  \n   */\n  public async deleteProject(id: string): Promise<{ success: boolean }> {\n    logger.info('Deleting project', { id });\n    \n    try {\n      const response = await this.request<{ success: boolean }>(`/api/projects/${id}`, {\n        method: 'DELETE',\n        authenticated: true\n      });\n      \n      logger.info('Project deleted successfully', { id });\n      return response;\n    } catch (error) {\n      logger.error('Failed to delete project', { id, error });\n      throw error;\n    }\n  }\n\n  // ==================== HTTP REQUEST ====================\n\n  private async request<T>(\n    endpoint: string,\n    options: {\n      method: string;\n      body?: string;\n      authenticated?: boolean;\n    }\n  ): Promise<T> {\n    const url = `${this.baseUrl}${endpoint}`;\n    \n    const headers: Record<string, string> = {\n      'Content-Type': 'application/json',\n    };\n\n    if (options.authenticated && this.token) {\n      headers['Authorization'] = `Bearer ${this.token}`;\n    }\n\n    try {\n      const response = await fetch(url, {\n        method: options.method,\n        headers,\n        body: options.body,\n      });\n\n      if (!response.ok) {\n        if (response.status === 401) {\n          logger.warn('Unauthorized - clearing token');\n          this.clearToken();\n          window.dispatchEvent(new CustomEvent('auth:unauthorized'));\n          throw new Error('Unauthorized');\n        }\n\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.message || `HTTP ${response.status}`);\n      }\n\n      return await response.json();\n    } catch (error) {\n      logger.error('Request failed', {\n        endpoint,\n        method: options.method,\n        error\n      });\n      throw error;\n    }\n  }\n}\n\nexport const apiClient = new ApiClient();\n","/**\n * Login Page -  \n */\n\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Key, AlertCircle, Loader } from 'lucide-react';\nimport { apiClient } from '../services/api-client';\nimport './LoginPage.css';\n\nexport const LoginPage: React.FC = () => {\n  const navigate = useNavigate();\n  const [licenseKey, setLicenseKey] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  //    (XXXX-XXXX-XXXX-XXXX)\n  const formatLicenseKey = (value: string): string => {\n    const cleaned = value.replace(/[^A-Z0-9]/gi, '').toUpperCase();\n    const groups = cleaned.match(/.{1,4}/g) || [];\n    return groups.join('-').substring(0, 19);\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const formatted = formatLicenseKey(e.target.value);\n    setLicenseKey(formatted);\n    setError(null);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (licenseKey.length < 19) {\n      setError('    (16 )');\n      return;\n    }\n\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      console.log('[LoginPage] Attempting login');\n      const response = await apiClient.loginWithLicense(licenseKey);\n      \n      console.log('[LoginPage] Login successful, redirecting to /editor');\n      \n      //   -   \n      navigate('/editor', { replace: true });\n      \n    } catch (err: any) {\n      console.error('[LoginPage] Login failed:', err);\n      setError(err.message || '   .   .');\n      setIsLoading(false);\n    }\n  };\n\n  const handlePaste = (e: React.ClipboardEvent) => {\n    e.preventDefault();\n    const pasted = e.clipboardData.getData('text');\n    const formatted = formatLicenseKey(pasted);\n    setLicenseKey(formatted);\n  };\n\n  return (\n    <div className=\"login-page\">\n      <div className=\"login-container\">\n        <div className=\"login-header\">\n          <Key size={48} className=\"login-icon\" />\n          <h1>Kiosk Editor</h1>\n          <p>  </p>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"login-form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"licenseKey\"> </label>\n            <input\n              type=\"text\"\n              id=\"licenseKey\"\n              placeholder=\"XXXX-XXXX-XXXX-XXXX\"\n              value={licenseKey}\n              onChange={handleInputChange}\n              onPaste={handlePaste}\n              disabled={isLoading}\n              autoFocus\n              maxLength={19}\n              className={error ? 'error' : ''}\n            />\n            <span className=\"input-hint\">\n              : 4   4 \n            </span>\n          </div>\n\n          {error && (\n            <div className=\"error-message\">\n              <AlertCircle size={16} />\n              <span>{error}</span>\n            </div>\n          )}\n\n          <button\n            type=\"submit\"\n            className=\"login-button\"\n            disabled={isLoading || licenseKey.length < 19}\n          >\n            {isLoading ? (\n              <>\n                <Loader size={20} className=\"spinner\" />\n                <span>...</span>\n              </>\n            ) : (\n              <>\n                <Key size={20} />\n                <span></span>\n              </>\n            )}\n          </button>\n        </form>\n\n        <div className=\"test-keys\">\n          <p> :</p>\n          <ul>\n            <li>\n              <strong>BASIC:</strong> <code>EWZA-E5LJ-Z558-9LUQ</code>\n            </li>\n            <li>\n              <strong>PRO:</strong> <code>3VBN-8ZQ9-1MKO-AK0R</code>\n            </li>\n            <li>\n              <strong>MAX:</strong> <code>T8MH-FJE3-ETAC-YOZF</code>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\"),\n  shim = require(\"use-sync-external-store/shim\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useSyncExternalStore = shim.useSyncExternalStore,\n  useRef = React.useRef,\n  useEffect = React.useEffect,\n  useMemo = React.useMemo,\n  useDebugValue = React.useDebugValue;\nexports.useSyncExternalStoreWithSelector = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot,\n  selector,\n  isEqual\n) {\n  var instRef = useRef(null);\n  if (null === instRef.current) {\n    var inst = { hasValue: !1, value: null };\n    instRef.current = inst;\n  } else inst = instRef.current;\n  instRef = useMemo(\n    function () {\n      function memoizedSelector(nextSnapshot) {\n        if (!hasMemo) {\n          hasMemo = !0;\n          memoizedSnapshot = nextSnapshot;\n          nextSnapshot = selector(nextSnapshot);\n          if (void 0 !== isEqual && inst.hasValue) {\n            var currentSelection = inst.value;\n            if (isEqual(currentSelection, nextSnapshot))\n              return (memoizedSelection = currentSelection);\n          }\n          return (memoizedSelection = nextSnapshot);\n        }\n        currentSelection = memoizedSelection;\n        if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;\n        var nextSelection = selector(nextSnapshot);\n        if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n          return (memoizedSnapshot = nextSnapshot), currentSelection;\n        memoizedSnapshot = nextSnapshot;\n        return (memoizedSelection = nextSelection);\n      }\n      var hasMemo = !1,\n        memoizedSnapshot,\n        memoizedSelection,\n        maybeGetServerSnapshot =\n          void 0 === getServerSnapshot ? null : getServerSnapshot;\n      return [\n        function () {\n          return memoizedSelector(getSnapshot());\n        },\n        null === maybeGetServerSnapshot\n          ? void 0\n          : function () {\n              return memoizedSelector(maybeGetServerSnapshot());\n            }\n      ];\n    },\n    [getSnapshot, getServerSnapshot, selector, isEqual]\n  );\n  var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n  useEffect(\n    function () {\n      inst.hasValue = !0;\n      inst.value = value;\n    },\n    [value]\n  );\n  useDebugValue(value);\n  return value;\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","import { createStore } from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nimport ReactExports from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useDebugValue } = ReactExports;\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nlet didWarnAboutEqualityFn = false;\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity, equalityFn) {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && equalityFn && !didWarnAboutEqualityFn) {\n    console.warn(\n      \"[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937\"\n    );\n    didWarnAboutEqualityFn = true;\n  }\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getInitialState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\nexport { create, react as default, useStore };\n","/**\n * Editor Store - Zustand State Management\n *  2.0:   License Server API\n * \n * :\n * -     ( localStorage)\n * -   3  (debounced)\n * - JWT \n * -     API\n */\n\nimport { create } from 'zustand';\nimport { apiClient, Project, CreateProjectData, UpdateProjectData } from '../services/api-client';\n\n// ==================== TYPES ====================\n\ninterface Widget {\n  id: string;\n  type: string;\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  locked?: boolean;\n  zIndex?: number;\n  properties: Record<string, any>;\n}\n\ninterface CanvasConfig {\n  width: number;\n  height: number;\n  backgroundColor?: string;\n}\n\ninterface LocalProject {\n  id?: string; // ID   (   )\n  version: string;\n  name: string;\n  canvas: CanvasConfig;\n  widgets: Widget[];\n  metadata?: {\n    createdAt: string;\n    updatedAt: string;\n    author?: string;\n  };\n}\ninterface EditorState {\n  // \n  project: LocalProject | null;\n  projectId: string | null; // Server project ID\n  isLoading: boolean;\n  isSaving: boolean;\n  lastSaved: Date | null;\n  saveError: string | null;\n\n  // \n  selectedWidgetIds: string[];\n  \n  //  \n  clipboard: Widget[];\n  \n  //  (Undo/Redo)\n  history: {\n    past: LocalProject[];\n    future: LocalProject[];\n  };\n  \n  //  \n  zoom: number;\n  gridEnabled: boolean;\n  snapToGrid: boolean;\n  gridSize: number;\n  gridLineWidth: number;\n  gridColor: string;\n  \n  // Pending widget ( )\n  pendingWidget: { type: string; defaultProps: any } | null;\n\n  // ========== PROJECT ACTIONS ==========\n  createProject: (name: string, canvas: CanvasConfig) => Promise<void>;\n  loadProject: (id: string) => Promise<void>;\n  saveProject: () => Promise<void>;\n  deleteProject: (id: string) => Promise<void>;\n  updateProjectMetadata: (updates: Partial<LocalProject>) => void;\n\n  // ========== WIDGET ACTIONS ==========\n  addWidget: (widget: Widget) => void;\n  setPendingWidget: (type: string, defaultProps: any) => void;\n  clearPendingWidget: () => void;\n  addWidgetAtPosition: (x: number, y: number) => void;\n  updateWidget: (id: string, updates: Partial<Widget>) => void;\n  deleteWidget: (id: string) => void;\n  duplicateWidget: (id: string) => void;\n\n  // ========== SELECTION ==========\n  selectWidget: (id: string, addToSelection?: boolean) => void;\n  clearSelection: () => void;\n\n  // ========== HISTORY ==========\n  saveToHistory: () => void;\n  undo: () => void;\n  redo: () => void;\n\n  // ========== CLIPBOARD ==========\n  copy: () => void;\n  paste: () => void;\n  cut: () => void;\n\n  // ========== CANVAS SETTINGS ==========\n  setZoom: (zoom: number) => void;\n  toggleGrid: () => void;\n  toggleSnapToGrid: () => void;\n  setGridSize: (size: number) => void;\n}\n\n// ==================== AUTO-SAVE ====================\n\nlet autoSaveTimer: NodeJS.Timeout | null = null;\nlet saveQueue: (() => Promise<void>) | null = null;\n\n/**\n *   (debounced)\n */\nfunction startAutoSave(saveFunction: () => Promise<void>, interval: number = 180000) {\n  if (autoSaveTimer) {\n    clearTimeout(autoSaveTimer);\n  }\n\n  autoSaveTimer = setTimeout(async () => {\n    try {\n      console.log('[Editor] Auto-saving project...');\n      await saveFunction();\n      console.log('[Editor] Auto-save completed');\n    } catch (error) {\n      console.error('[Editor] Auto-save failed:', error);\n    }\n  }, interval); // 3   \n}\n\n/**\n *  \n */\nfunction stopAutoSave() {\n  if (autoSaveTimer) {\n    clearTimeout(autoSaveTimer);\n    autoSaveTimer = null;\n  }\n}\n\n// ==================== STORE ====================\n\nexport const useEditorStore = create<EditorState>((set, get) => ({\n  // Initial state\n  project: {\n    version: '1.0.0',\n    name: ' ',\n    canvas: {\n      width: 1920,\n      height: 1080,\n      backgroundColor: '#1a1a1a'\n    },\n    widgets: [],\n    metadata: {\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    }\n  },\n  projectId: null,\n  isLoading: false,\n  isSaving: false,\n  lastSaved: null,\n  saveError: null,\n  selectedWidgetIds: [],\n  clipboard: [],\n  history: {\n    past: [],\n    future: []\n  },\n  zoom: 1,\n  gridEnabled: true,\n  snapToGrid: true,\n  gridSize: 20,\n  gridLineWidth: 1,\n  gridColor: '#e0e0e0',\n  pendingWidget: null,\n\n  // ========== PROJECT ACTIONS ==========\n\n  /**\n   *   \n   */\n  createProject: async (name: string, canvas: CanvasConfig) => {\n    set({ isLoading: true, saveError: null });\n\n    try {\n      //   \n      const localProject: LocalProject = {\n        version: '1.0',\n        name,\n        canvas,\n        widgets: [],\n        metadata: {\n          createdAt: new Date().toISOString(),\n          updatedAt: new Date().toISOString()\n        }\n      };\n\n      //   \n      const serverProject = await apiClient.createProject({\n        name,\n        canvasWidth: canvas.width,\n        canvasHeight: canvas.height,\n        canvasBackground: canvas.backgroundColor || '#1a1a1a',\n        projectData: localProject\n      });\n\n      //  state\n      set({\n        project: {\n          ...localProject,\n          id: serverProject.project.id\n        },\n        projectId: serverProject.project.id,\n        isLoading: false,\n        lastSaved: new Date(),\n        history: { past: [], future: [] }\n      });\n\n      console.log('[Editor] Project created:', serverProject.project.id);\n\n      //  \n      startAutoSave(get().saveProject);\n\n    } catch (error: any) {\n      console.error('[Editor] Failed to create project:', error);\n      set({ \n        isLoading: false, \n        saveError: error.message || 'Failed to create project' \n      });\n      throw error;\n    }\n  },\n\n  /**\n   *    \n   */\n  loadProject: async (id: string) => {\n    set({ isLoading: true, saveError: null });\n\n    try {\n      const serverProject = await apiClient.getProject(id);\n\n      const localProject: LocalProject = {\n        id: serverProject.project.id,\n        version: '1.0',\n        name: serverProject.project.name,\n        canvas: {\n          width: serverProject.project.canvasWidth,\n          height: serverProject.project.canvasHeight,\n          backgroundColor: serverProject.project.canvasBackground\n        },\n        widgets: serverProject.project.projectData?.widgets || [],\n        metadata: {\n          createdAt: serverProject.project.createdAt,\n          updatedAt: serverProject.project.updatedAt\n        }\n      };\n\n      set({\n        project: localProject,\n        projectId: serverProject.project.id,\n        isLoading: false,\n        lastSaved: new Date(serverProject.project.updatedAt),\n        history: { past: [], future: [] }\n      });\n\n      console.log('[Editor] Project loaded:', id);\n\n      //  \n      startAutoSave(get().saveProject);\n\n    } catch (error: any) {\n      console.error('[Editor] Failed to load project:', error);\n      set({ \n        isLoading: false, \n        saveError: error.message || 'Failed to load project' \n      });\n      throw error;\n    }\n  },\n\n  /**\n   *    \n   */\n  saveProject: async () => {\n    const { project, projectId, isSaving } = get();\n\n    if (!project || !projectId) {\n      console.warn('[Editor] No project to save');\n      return;\n    }\n\n    if (isSaving) {\n      console.warn('[Editor] Save already in progress');\n      return;\n    }\n\n    set({ isSaving: true, saveError: null });\n\n    try {\n      await apiClient.updateProject(projectId, {\n        name: project.name,\n        projectData: project,\n        canvasWidth: project.canvas.width,\n        canvasHeight: project.canvas.height,\n        canvasBackground: project.canvas.backgroundColor\n      });\n\n      set({ \n        isSaving: false, \n        lastSaved: new Date(),\n        saveError: null\n      });\n\n      console.log('[Editor] Project saved:', projectId);\n\n    } catch (error: any) {\n      console.error('[Editor] Failed to save project:', error);\n      set({ \n        isSaving: false, \n        saveError: error.message || 'Failed to save project' \n      });\n      throw error;\n    }\n  },\n\n  /**\n   *  \n   */\n  deleteProject: async (id: string) => {\n    try {\n      await apiClient.deleteProject(id);\n      \n      //     -  state\n      if (get().projectId === id) {\n        set({\n          project: {\n    version: '1.0.0',\n    name: ' ',\n    canvas: {\n      width: 1920,\n      height: 1080,\n      backgroundColor: '#1a1a1a'\n    },\n    widgets: [],\n    metadata: {\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    }\n  },\n          projectId: null,\n          selectedWidgetIds: [],\n          history: { past: [], future: [] }\n        });\n        stopAutoSave();\n      }\n\n      console.log('[Editor] Project deleted:', id);\n\n    } catch (error: any) {\n      console.error('[Editor] Failed to delete project:', error);\n      throw error;\n    }\n  },\n\n  /**\n   *   \n   */\n  updateProjectMetadata: (updates) => {\n    const { project } = get();\n    if (!project) return;\n\n    set({\n      project: {\n        ...project,\n        ...updates,\n        metadata: {\n          ...project.metadata,\n          updatedAt: new Date().toISOString()\n        }\n      }\n    });\n\n    //  \n    startAutoSave(get().saveProject);\n  },\n\n  // ========== WIDGET ACTIONS ==========\n\n  addWidget: (widget) => {\n    const { project } = get();\n    if (!project) return;\n\n    get().saveToHistory();\n    set({\n      project: {\n        ...project,\n        widgets: [...project.widgets, widget],\n        metadata: {\n          ...project.metadata,\n          updatedAt: new Date().toISOString()\n        }\n      }\n    });\n\n    //  \n    startAutoSave(get().saveProject);\n  },\n\n  setPendingWidget: (type, defaultProps) => {\n    set({ pendingWidget: { type, defaultProps } });\n  },\n\n  clearPendingWidget: () => {\n    set({ pendingWidget: null });\n  },\n\n  addWidgetAtPosition: (x, y) => {\n    const { pendingWidget, project, snapToGrid, gridSize } = get();\n    if (!pendingWidget || !project) return;\n\n    //    \n    let finalX = x;\n    let finalY = y;\n\n    if (snapToGrid) {\n      finalX = Math.round(x / gridSize) * gridSize;\n      finalY = Math.round(y / gridSize) * gridSize;\n    }\n\n    //   \n    const defaultSizes: Record<string, { width: number; height: number }> = {\n      shape: { width: 200, height: 200 },\n      button: { width: 200, height: 60 },\n      text: { width: 300, height: 100 },\n      image: { width: 300, height: 200 },\n      video: { width: 640, height: 360 },\n      menu: { width: 600, height: 40 }\n    };\n\n    const defaultSize = defaultSizes[pendingWidget.type] || { width: 200, height: 100 };\n    const width = pendingWidget.defaultProps.width || defaultSize.width;\n    const height = pendingWidget.defaultProps.height || defaultSize.height;\n\n    finalX = finalX - width / 2;\n    finalY = finalY - height / 2;\n\n    const { width: _, height: __, ...cleanProps } = pendingWidget.defaultProps;\n\n    const widget = {\n      id: `widget-${Date.now()}-${Math.random()}`,\n      type: pendingWidget.type,\n      x: Math.max(0, finalX),\n      y: Math.max(0, finalY),\n      width,\n      height,\n      zIndex: 0,\n      properties: cleanProps\n    };\n\n    get().addWidget(widget);\n    get().clearPendingWidget();\n  },\n\n  updateWidget: (id, updates) => {\n    const { project } = get();\n    if (!project) return;\n\n    set({\n      project: {\n        ...project,\n        widgets: project.widgets.map(w =>\n          w.id === id ? { ...w, ...updates } : w\n        ),\n        metadata: {\n          ...project.metadata,\n          updatedAt: new Date().toISOString()\n        }\n      }\n    });\n\n    //  \n    startAutoSave(get().saveProject);\n  },\n\n  deleteWidget: (id) => {\n    const { project } = get();\n    if (!project) return;\n\n    get().saveToHistory();\n    set({\n      project: {\n        ...project,\n        widgets: project.widgets.filter(w => w.id !== id),\n        metadata: {\n          ...project.metadata,\n          updatedAt: new Date().toISOString()\n        }\n      },\n      selectedWidgetIds: get().selectedWidgetIds.filter(wId => wId !== id)\n    });\n\n    //  \n    startAutoSave(get().saveProject);\n  },\n\n  duplicateWidget: (id) => {\n    const { project } = get();\n    if (!project) return;\n\n    const widget = project.widgets.find(w => w.id === id);\n    if (!widget) return;\n\n    const newWidget = {\n      ...widget,\n      id: `widget-${Date.now()}`,\n      x: widget.x + 20,\n      y: widget.y + 20\n    };\n\n    get().addWidget(newWidget);\n  },\n\n  // ========== SELECTION ==========\n\n  selectWidget: (id, addToSelection = false) => {\n    const { selectedWidgetIds } = get();\n\n    if (addToSelection) {\n      if (selectedWidgetIds.includes(id)) {\n        set({ selectedWidgetIds: selectedWidgetIds.filter(wId => wId !== id) });\n      } else {\n        set({ selectedWidgetIds: [...selectedWidgetIds, id] });\n      }\n    } else {\n      set({ selectedWidgetIds: [id] });\n    }\n  },\n\n  clearSelection: () => {\n    set({ selectedWidgetIds: [] });\n  },\n\n  // ========== HISTORY ==========\n\n  saveToHistory: () => {\n    const { project, history } = get();\n    if (!project) return;\n\n    set({\n      history: {\n        past: [...history.past, project],\n        future: []\n      }\n    });\n  },\n\n  undo: () => {\n    const { history, project } = get();\n    if (history.past.length === 0 || !project) return;\n\n    const previous = history.past[history.past.length - 1];\n    const newPast = history.past.slice(0, -1);\n\n    set({\n      project: previous,\n      history: {\n        past: newPast,\n        future: [project, ...history.future]\n      }\n    });\n\n    //  \n    startAutoSave(get().saveProject);\n  },\n\n  redo: () => {\n    const { history, project } = get();\n    if (history.future.length === 0 || !project) return;\n\n    const next = history.future[0];\n    const newFuture = history.future.slice(1);\n\n    set({\n      project: next,\n      history: {\n        past: [...history.past, project],\n        future: newFuture\n      }\n    });\n\n    //  \n    startAutoSave(get().saveProject);\n  },\n\n  // ========== CLIPBOARD ==========\n\n  copy: () => {\n    const { project, selectedWidgetIds } = get();\n    if (!project) return;\n\n    const selectedWidgets = project.widgets.filter(w =>\n      selectedWidgetIds.includes(w.id)\n    );\n\n    set({ clipboard: selectedWidgets });\n  },\n\n  paste: () => {\n    const { clipboard, project } = get();\n    if (!project || clipboard.length === 0) return;\n\n    const newWidgets = clipboard.map(w => ({\n      ...w,\n      id: `widget-${Date.now()}-${Math.random()}`,\n      x: w.x + 20,\n      y: w.y + 20\n    }));\n\n    get().saveToHistory();\n    set({\n      project: {\n        ...project,\n        widgets: [...project.widgets, ...newWidgets]\n      },\n      selectedWidgetIds: newWidgets.map(w => w.id)\n    });\n\n    //  \n    startAutoSave(get().saveProject);\n  },\n\n  cut: () => {\n    const { selectedWidgetIds } = get();\n    get().copy();\n    selectedWidgetIds.forEach(id => get().deleteWidget(id));\n  },\n\n  // ========== CANVAS SETTINGS ==========\n\n  setZoom: (zoom) => {\n    set({ zoom: Math.max(0.1, Math.min(5, zoom)) });\n  },\n\n  toggleGrid: () => {\n    set((state) => ({ gridEnabled: !state.gridEnabled }));\n  },\n\n  toggleSnapToGrid: () => {\n    set((state) => ({ snapToGrid: !state.snapToGrid }));\n  },\n\n  setGridSize: (size) => {\n    set({ gridSize: Math.max(5, Math.min(100, size)) });\n  }\n}));\n\n// Cleanup on unmount\nif (typeof window !== 'undefined') {\n  window.addEventListener('beforeunload', () => {\n    stopAutoSave();\n  });\n}\n","/**\n * AutoSave Indicator Component\n *   : idle, saving, saved, error\n */\n\nimport React from 'react';\nimport { Cloud, CloudOff, Loader, Check, AlertCircle } from 'lucide-react';\nimport { useEditorStore } from '../stores/editorStore';\nimport './AutoSaveIndicator.css';\n\nexport const AutoSaveIndicator: React.FC = () => {\n  const { isSaving, lastSaved, saveError } = useEditorStore();\n\n  //  \n  const getStatus = () => {\n    if (saveError) return 'error';\n    if (isSaving) return 'saving';\n    if (lastSaved) return 'saved';\n    return 'idle';\n  };\n\n  const status = getStatus();\n\n  //    \n  const formatLastSaved = (date: Date): string => {\n    const now = new Date();\n    const diff = now.getTime() - date.getTime();\n    const seconds = Math.floor(diff / 1000);\n    const minutes = Math.floor(seconds / 60);\n\n    if (seconds < 10) return ' ';\n    if (seconds < 60) return `${seconds}  `;\n    if (minutes === 1) return '1  ';\n    if (minutes < 60) return `${minutes}  `;\n    \n    return date.toLocaleTimeString('ru-RU', { \n      hour: '2-digit', \n      minute: '2-digit' \n    });\n  };\n\n  const renderContent = () => {\n    switch (status) {\n      case 'saving':\n        return (\n          <>\n            <Loader size={16} className=\"spinner\" />\n            <span>...</span>\n          </>\n        );\n\n      case 'saved':\n        return (\n          <>\n            <Check size={16} />\n            <span> {lastSaved && formatLastSaved(lastSaved)}</span>\n          </>\n        );\n\n      case 'error':\n        return (\n          <>\n            <AlertCircle size={16} />\n            <span title={saveError || undefined}> </span>\n          </>\n        );\n\n      case 'idle':\n      default:\n        return (\n          <>\n            <Cloud size={16} />\n            <span> </span>\n          </>\n        );\n    }\n  };\n\n  return (\n    <div className={`autosave-indicator status-${status}`}>\n      {renderContent()}\n    </div>\n  );\n};\n\nexport default AutoSaveIndicator;\n","/**\n * Toolbar Component -  3.0\n *  LoginDialog,       \n */\n\nimport React, { useState, useEffect } from 'react';\n// Router navigation removed - using window.location instead\nimport { \n  Save, \n  FolderOpen, \n  Undo2, \n  Redo2, \n  ZoomIn, \n  ZoomOut, \n  Grid, \n  Magnet,\n  Play,\n  User,\n  LogOut\n} from 'lucide-react';\nimport { useEditorStore } from '../stores/editorStore';\nimport { apiClient } from '../services/api-client';\nimport { logger } from '../utils/logger';\nimport AutoSaveIndicator from './AutoSaveIndicator';\nimport './Toolbar.css';\n\nexport const Toolbar: React.FC = () => {\n\n  const {\n    project,\n    history,\n    zoom,\n    gridEnabled,\n    snapToGrid,\n    undo,\n    redo,\n    setZoom,\n    toggleGrid,\n    toggleSnapToGrid,\n    saveProject\n  } = useEditorStore();\n\n  // User info\n  const [organizationName, setOrganizationName] = useState<string | null>(null);\n  const [plan, setPlan] = useState<string | null>(null);\n\n  useEffect(() => {\n    const orgData = apiClient.getOrganizationData();\n    setOrganizationName(orgData.name);\n    setPlan(orgData.plan);\n  }, []);\n\n  const handleZoomIn = () => {\n    setZoom(Math.min(zoom + 0.1, 3));\n  };\n\n  const handleZoomOut = () => {\n    setZoom(Math.max(zoom - 0.1, 0.1));\n  };\n\n  const handleLogout = () => {\n    if (confirm('    ?')) {\n      logger.info('User initiated logout');\n      apiClient.logout();\n      window.location.href = \"/login\";\n    }\n  };\n\n  const canUndo = history.past.length > 0;\n  const canRedo = history.future.length > 0;\n\n  return (\n    <div className=\"toolbar\">\n      <div className=\"toolbar-section\">\n        {/* Logo */}\n        <div className=\"toolbar-logo\">\n          <span className=\"logo-text\">Kiosk Editor</span>\n        </div>\n\n        <div className=\"toolbar-divider\" />\n\n        {/* File operations */}\n        <button \n          className=\"toolbar-btn\" \n          onClick={() => saveProject()}\n          disabled={!project}\n          title=\" (Ctrl+S)\"\n        >\n          <Save size={18} />\n        </button>\n\n        <button \n          className=\"toolbar-btn\" \n          disabled={!project}\n          title=\" \"\n        >\n          <FolderOpen size={18} />\n        </button>\n\n        <div className=\"toolbar-divider\" />\n\n        {/* History */}\n        <button \n          className=\"toolbar-btn\" \n          onClick={undo}\n          disabled={!canUndo}\n          title=\" (Ctrl+Z)\"\n        >\n          <Undo2 size={18} />\n        </button>\n\n        <button \n          className=\"toolbar-btn\" \n          onClick={redo}\n          disabled={!canRedo}\n          title=\" (Ctrl+Shift+Z)\"\n        >\n          <Redo2 size={18} />\n        </button>\n\n        <div className=\"toolbar-divider\" />\n\n        {/* Zoom */}\n        <button \n          className=\"toolbar-btn\" \n          onClick={handleZoomOut}\n          disabled={zoom <= 0.1}\n          title=\" (Ctrl+-)\"\n        >\n          <ZoomOut size={18} />\n        </button>\n\n        <span className=\"toolbar-zoom\">{Math.round(zoom * 100)}%</span>\n\n        <button \n          className=\"toolbar-btn\" \n          onClick={handleZoomIn}\n          disabled={zoom >= 3}\n          title=\" (Ctrl++)\"\n        >\n          <ZoomIn size={18} />\n        </button>\n\n        <div className=\"toolbar-divider\" />\n\n        {/* Grid */}\n        <button \n          className={`toolbar-btn ${gridEnabled ? 'active' : ''}`}\n          onClick={toggleGrid}\n          title=\" \"\n        >\n          <Grid size={18} />\n        </button>\n\n        <button \n          className={`toolbar-btn ${snapToGrid ? 'active' : ''}`}\n          onClick={toggleSnapToGrid}\n          title=\"  \"\n        >\n          <Magnet size={18} />\n        </button>\n      </div>\n\n      {/* Right section */}\n      <div className=\"toolbar-section\">\n        {/* AutoSave Indicator */}\n        {project && <AutoSaveIndicator />}\n\n        <div className=\"toolbar-divider\" />\n\n        {/* User info */}\n        {organizationName && (\n          <div className=\"toolbar-user-info\">\n            <User size={16} />\n            <span className=\"user-org\">{organizationName}</span>\n            {plan && <span className=\"user-plan\">{plan}</span>}\n          </div>\n        )}\n\n        {/* Logout */}\n        <button \n          className=\"toolbar-btn logout-btn\"\n          onClick={handleLogout}\n          title=\"\"\n        >\n          <LogOut size={18} />\n        </button>\n\n        <div className=\"toolbar-divider\" />\n\n        {/* Preview */}\n        <button \n          className=\"toolbar-btn preview-btn\" \n          disabled={!project}\n          title=\"\"\n        >\n          <Play size={18} />\n          <span></span>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Toolbar;\n","import React, { useRef } from 'react';\nimport { Group, Rect, Text } from 'react-konva';\nimport { Widget } from '../types';\n\ninterface ButtonWidgetProps {\n  widget: Widget;\n  isSelected: boolean;\n  onSelect: (e: any) => void;\n  onDragEnd: (e: any) => void;\n  onTransformEnd: (e: any) => void;\n  dragBoundFunc?: (pos: { x: number; y: number }) => { x: number; y: number };\n}\n\nconst ButtonWidget: React.FC<ButtonWidgetProps> = ({\n  widget,\n  isSelected,\n  onSelect,\n  onDragEnd,\n  onTransformEnd,\n  dragBoundFunc\n}) => {\n  const groupRef = useRef<any>(null);\n  const textRef = useRef<any>(null);\n\n  //  \n  const {\n    text = 'Button',\n    backgroundColor = '#2ecc71',\n    textColor = '#ffffff',\n    fontSize = 16,\n    fontFamily = 'Arial',\n    fontWeight = 'normal',\n    fontStyle = 'normal',\n    textAlign = 'center',\n    borderRadius = 8,\n    borderWidth = 0,\n    borderColor = '#000000',\n    borderStyle = 'solid',\n    paddingX = 16,\n    paddingY = 8,\n    shadowEnabled = false,\n    shadowColor = '#000000',\n    shadowBlur = 10,\n    shadowOffsetX = 0,\n    shadowOffsetY = 4,\n    shadowOpacity = 0.3\n  } = widget.properties;\n\n  const isLocked = widget.locked || false;\n\n  //  borderStyle  dash\n  const getDash = () => {\n    switch (borderStyle) {\n      case 'dashed':\n        return [10, 5];\n      case 'dotted':\n        return [3, 3];\n      default:\n        return [];\n    }\n  };\n\n  return (\n    <Group\n      ref={groupRef}\n      id={widget.id}\n      x={widget.x}\n      y={widget.y}\n      width={widget.width}\n      height={widget.height}\n      rotation={widget.rotation || 0}\n      draggable={!isLocked}\n      dragBoundFunc={dragBoundFunc}\n      opacity={isLocked ? 0.6 : 1}\n      onClick={onSelect}\n      onTap={onSelect}\n      onDragEnd={onDragEnd}\n      onTransformEnd={onTransformEnd}\n    >\n      {/*   */}\n      {shadowEnabled && (\n        <Rect\n          x={shadowOffsetX}\n          y={shadowOffsetY}\n          width={widget.width}\n          height={widget.height}\n          cornerRadius={borderRadius}\n          fill={shadowColor}\n          opacity={shadowOpacity}\n          blur={shadowBlur}\n          listening={false}\n        />\n      )}\n\n      {/*   */}\n      <Rect\n        width={widget.width}\n        height={widget.height}\n        fill={backgroundColor}\n        cornerRadius={borderRadius}\n        stroke={borderWidth > 0 ? borderColor : undefined}\n        strokeWidth={borderWidth}\n        dash={getDash()}\n        listening={false}\n      />\n\n      {/*   */}\n      <Text\n        ref={textRef}\n        text={text}\n        x={paddingX}\n        y={0}\n        width={widget.width - paddingX * 2}\n        height={widget.height}\n        fontSize={fontSize}\n        fontFamily={fontFamily}\n        fontStyle={fontWeight === 'bold' ? 'bold' : fontStyle}\n        fill={textColor}\n        align={textAlign}\n        verticalAlign=\"middle\"\n        listening={false}\n      />\n\n      {/*     */}\n      <Rect\n        width={widget.width}\n        height={widget.height}\n        fill=\"transparent\"\n        listening={true}\n      />\n\n      {/*   */}\n      {isSelected && (\n        <Rect\n          width={widget.width}\n          height={widget.height}\n          stroke=\"#007acc\"\n          strokeWidth={2}\n          cornerRadius={borderRadius}\n          listening={false}\n        />\n      )}\n    </Group>\n  );\n};\n\nexport default ButtonWidget;\n","import React, { useRef } from 'react';\nimport { Group, Rect, Text } from 'react-konva';\nimport { Widget } from '../types';\n\ninterface TextWidgetProps {\n  widget: Widget;\n  isSelected: boolean;\n  onSelect: (e: any) => void;\n  onDragEnd: (e: any) => void;\n  onTransformEnd: (e: any) => void;\n  dragBoundFunc?: (pos: { x: number; y: number }) => { x: number; y: number };\n}\n\nconst TextWidget: React.FC<TextWidgetProps> = ({\n  widget,\n  isSelected,\n  onSelect,\n  onDragEnd,\n  onTransformEnd,\n  dragBoundFunc\n}) => {\n  const groupRef = useRef<any>(null);\n\n  const {\n    text = 'Text',\n    fontSize = 16,\n    fontFamily = 'Arial',\n    fontWeight = 'normal',\n    fontStyle = 'normal',\n    textAlign = 'left',\n    verticalAlign = 'top',\n    textColor = '#000000',\n    backgroundColor = '#ffffff',\n    lineHeight = 1.2,\n    padding = 8,\n    textDecoration = 'none'\n  } = widget.properties;\n\n  const isLocked = widget.locked || false;\n\n  //  textDecoration\n  const getTextDecoration = () => {\n    if (textDecoration === 'underline') return 'underline';\n    if (textDecoration === 'line-through') return 'line-through';\n    return '';\n  };\n\n  return (\n    <Group\n      ref={groupRef}\n      id={widget.id}\n      x={widget.x}\n      y={widget.y}\n      width={widget.width}\n      height={widget.height}\n      rotation={widget.rotation || 0}\n      draggable={!isLocked}\n      dragBoundFunc={dragBoundFunc}\n      opacity={isLocked ? 0.6 : 1}\n      onClick={onSelect}\n      onTap={onSelect}\n      onDragEnd={onDragEnd}\n      onTransformEnd={onTransformEnd}\n    >\n      {/*  */}\n      {backgroundColor !== 'transparent' && (\n        <Rect\n          width={widget.width}\n          height={widget.height}\n          fill={backgroundColor}\n          listening={false}\n        />\n      )}\n\n      {/*  */}\n      <Text\n        text={text}\n        x={padding}\n        y={padding}\n        width={widget.width - padding * 2}\n        height={widget.height - padding * 2}\n        fontSize={fontSize}\n        fontFamily={fontFamily}\n        fontStyle={fontWeight === 'bold' ? 'bold' : fontStyle}\n        fill={textColor}\n        align={textAlign}\n        verticalAlign={verticalAlign}\n        lineHeight={lineHeight}\n        textDecoration={getTextDecoration()}\n        listening={false}\n      />\n\n      {/*     */}\n      <Rect\n        width={widget.width}\n        height={widget.height}\n        fill=\"transparent\"\n        listening={true}\n      />\n\n      {/*   */}\n      {isSelected && (\n        <Rect\n          width={widget.width}\n          height={widget.height}\n          stroke=\"#007acc\"\n          strokeWidth={2}\n          listening={false}\n        />\n      )}\n    </Group>\n  );\n};\n\nexport default TextWidget;\n","import React, { useEffect, useState, useRef } from 'react';\nimport { Group, Rect, Text } from 'react-konva';\nimport { Widget } from '../types';\n\ninterface VideoPlaylistProps {\n  widget: Widget;\n  isSelected: boolean;\n  onSelect: (e: any) => void;\n  onDragEnd: (e: any) => void;\n  onTransformEnd: (e: any) => void;\n  dragBoundFunc?: (pos: { x: number; y: number }) => { x: number; y: number };\n}\n\nconst VideoPlaylist: React.FC<VideoPlaylistProps> = ({\n  widget,\n  isSelected,\n  onSelect,\n  onDragEnd,\n  onTransformEnd,\n  dragBoundFunc\n}) => {\n  const groupRef = useRef<any>(null);\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  const {\n    sources = [],\n    autoNext = true,\n    loop = true\n  } = widget.properties;\n\n  const isLocked = widget.locked || false;\n  const currentSource = sources[currentIndex];\n\n  return (\n    <Group\n      ref={groupRef}\n      id={widget.id}\n      x={widget.x}\n      y={widget.y}\n      width={widget.width}\n      height={widget.height}\n      rotation={widget.rotation || 0}\n      draggable={!isLocked}\n      dragBoundFunc={dragBoundFunc}\n      opacity={isLocked ? 0.6 : 1}\n      onClick={onSelect}\n      onTap={onSelect}\n      onDragEnd={onDragEnd}\n      onTransformEnd={onTransformEnd}\n    >\n      {/*     */}\n      <Rect\n        width={widget.width}\n        height={widget.height}\n        fill=\"transparent\"\n        listening={true}\n      />\n\n      {/*   */}\n      <Rect\n        width={widget.width}\n        height={widget.height}\n        fill=\"#000000\"\n        listening={false}\n      />\n\n      {/*    */}\n      <Text\n        x={widget.width / 2}\n        y={widget.height / 2 - 30}\n        text=\"\"\n        fontSize={60}\n        fill=\"#ffffff\"\n        align=\"center\"\n        width={widget.width}\n        offsetX={widget.width / 2}\n        listening={false}\n      />\n\n      {/*  \"Playlist\" */}\n      <Text\n        x={0}\n        y={widget.height / 2 + 40}\n        text=\"PLAYLIST\"\n        fontSize={16}\n        fill=\"#ffffff\"\n        align=\"center\"\n        width={widget.width}\n        listening={false}\n      />\n\n      {/*   */}\n      {isSelected && (\n        <Rect\n          width={widget.width}\n          height={widget.height}\n          stroke=\"#007acc\"\n          strokeWidth={2}\n          listening={false}\n        />\n      )}\n\n      {/*   */}\n      {sources.length > 1 && (\n        <>\n          <Rect\n            x={widget.width - 50}\n            y={widget.height - 25}\n            width={45}\n            height={20}\n            fill=\"rgba(0, 0, 0, 0.8)\"\n            cornerRadius={4}\n            listening={false}\n          />\n          <Text\n            x={widget.width - 48}\n            y={widget.height - 21}\n            text={` ${sources.length}`}\n            fontSize={12}\n            fill=\"#ffffff\"\n            listening={false}\n          />\n        </>\n      )}\n    </Group>\n  );\n};\n\nexport default VideoPlaylist;\n","import React, { useEffect, useState, useRef } from 'react';\nimport { Group, Rect, Text as KonvaText, Image as KonvaImage } from 'react-konva';\nimport { Widget } from '../types';\nimport { useEditorStore } from '../stores/editorStore';\nimport VideoPlaylist from './VideoPlaylist';\n\ninterface VideoWidgetProps {\n  widget: Widget;\n  isSelected: boolean;\n  onSelect: (e: any) => void;\n  onDragEnd: (e: any) => void;\n  onTransformEnd: (e: any) => void;\n  dragBoundFunc?: (pos: { x: number; y: number }) => { x: number; y: number };\n}\n\nconst VideoWidget: React.FC<VideoWidgetProps> = ({\n  widget,\n  isSelected,\n  onSelect,\n  onDragEnd,\n  onTransformEnd,\n  dragBoundFunc\n}) => {\n  //    -  VideoPlaylist\n  if (widget.properties.playlistMode) {\n    return (\n      <VideoPlaylist\n        widget={widget}\n        isSelected={isSelected}\n        onSelect={onSelect}\n        onDragEnd={onDragEnd}\n        onTransformEnd={onTransformEnd}\n        dragBoundFunc={dragBoundFunc}\n      />\n    );\n  }\n\n  //     \n  const groupRef = useRef<any>(null);\n  const videoRef = useRef<HTMLVideoElement | null>(null);\n  const [videoElement, setVideoElement] = useState<HTMLVideoElement | null>(null);\n  const animationRef = useRef<number>();\n\n  const {\n    sourceType = 'url',\n    src = '',\n    rtspUrl = '',\n    isLocalFile = false,\n    fileName = '',\n    objectFit = 'contain',\n    borderEnabled = false,\n    borderStyle = 'solid',\n    borderWidth = 2,\n    borderColor = '#000000',\n    autoplay = false,\n    loop = false,\n    muted = true,\n    controls = false\n  } = widget.properties;\n\n  //    video \n  useEffect(() => {\n    const video = document.createElement('video');\n    video.crossOrigin = 'anonymous';\n    video.loop = loop;\n    video.muted = muted;\n    video.playsInline = true;\n    \n    if (sourceType === 'url' && src) {\n      video.src = src;\n      \n      video.onloadedmetadata = () => {\n        setVideoElement(video);\n        if (autoplay) {\n          video.play().catch(err => {\n            console.log('Autoplay prevented:', err);\n          });\n        }\n      };\n\n      video.onerror = () => {\n        console.error('Failed to load video:', src);\n        setVideoElement(null);\n      };\n    } else {\n      setVideoElement(null);\n    }\n\n    videoRef.current = video;\n\n    return () => {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n      video.pause();\n      video.src = '';\n      video.load();\n    };\n  }, [src, sourceType, autoplay, loop, muted]);\n\n  //     \n  useEffect(() => {\n    if (!videoElement) return;\n\n    const updateCanvas = () => {\n      //   \n      const layer = groupRef.current?.getLayer();\n      if (layer) {\n        layer.batchDraw();\n      }\n      animationRef.current = requestAnimationFrame(updateCanvas);\n    };\n\n    animationRef.current = requestAnimationFrame(updateCanvas);\n\n    return () => {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n    };\n  }, [videoElement]);\n\n  //  \n  useEffect(() => {\n    if (objectFit !== 'adaptive' || !videoElement) return;\n\n    const { updateWidget } = useEditorStore.getState();\n    const videoRatio = videoElement.videoWidth / videoElement.videoHeight || 16 / 9;\n    const currentRatio = widget.width / widget.height;\n\n    if (Math.abs(videoRatio - currentRatio) > 0.01) {\n      const newHeight = widget.width / videoRatio;\n      \n      updateWidget(widget.id, {\n        height: Math.round(newHeight)\n      });\n    }\n  }, [objectFit, videoElement, widget.width, widget.height, widget.id]);\n\n  //       objectFit\n  const getVideoProps = () => {\n    if (!videoElement || videoElement.videoWidth === 0) return null;\n\n    const { width, height } = widget;\n    const videoRatio = videoElement.videoWidth / videoElement.videoHeight;\n    const widgetRatio = width / height;\n\n    let sx = 0;\n    let sy = 0;\n    let sWidth = videoElement.videoWidth;\n    let sHeight = videoElement.videoHeight;\n    let dx = 0;\n    let dy = 0;\n    let dWidth = width;\n    let dHeight = height;\n\n    switch (objectFit) {\n      case 'cover': {\n        if (videoRatio > widgetRatio) {\n          //   -   \n          sWidth = videoElement.videoHeight * widgetRatio;\n          sx = (videoElement.videoWidth - sWidth) / 2;\n        } else {\n          //   -  /\n          sHeight = videoElement.videoWidth / widgetRatio;\n          sy = (videoElement.videoHeight - sHeight) / 2;\n        }\n        break;\n      }\n      case 'contain': {\n        //    \n        if (videoRatio > widgetRatio) {\n          dHeight = width / videoRatio;\n          dy = (height - dHeight) / 2;\n        } else {\n          dWidth = height * videoRatio;\n          dx = (width - dWidth) / 2;\n        }\n        break;\n      }\n      case 'scale-down': {\n        //  ,    \n        if (videoElement.videoWidth <= width && videoElement.videoHeight <= height) {\n          dWidth = videoElement.videoWidth;\n          dHeight = videoElement.videoHeight;\n          dx = (width - dWidth) / 2;\n          dy = (height - dHeight) / 2;\n        } else {\n          //   contain\n          if (videoRatio > widgetRatio) {\n            dHeight = width / videoRatio;\n            dy = (height - dHeight) / 2;\n          } else {\n            dWidth = height * videoRatio;\n            dx = (width - dWidth) / 2;\n          }\n        }\n        break;\n      }\n      case 'fill':\n      default:\n        //    \n        break;\n    }\n\n    return {\n      crop: { x: sx, y: sy, width: sWidth, height: sHeight },\n      position: { x: dx, y: dy, width: dWidth, height: dHeight }\n    };\n  };\n\n  const videoProps = getVideoProps();\n\n  //  borderStyle  strokeDash\n  const getStrokeDash = (style: string) => {\n    switch (style) {\n      case 'dashed':\n        return [10, 5];\n      case 'dotted':\n        return [2, 2];\n      case 'double':\n        return [];\n      default:\n        return [];\n    }\n  };\n\n  const handleTransform = (e: any) => {\n    const node = groupRef.current;\n    if (!node) return;\n\n    onTransformEnd(e);\n  };\n\n  //     \n  const handleClick = (e: any) => {\n    onSelect(e);\n    \n    //   controls,  play/pause\n    if (controls && videoElement) {\n      if (videoElement.paused) {\n        videoElement.play();\n      } else {\n        videoElement.pause();\n      }\n    }\n  };\n\n  const isLocked = widget.locked || false;\n\n  //     (   )\n  const getDisplayText = () => {\n    if (sourceType === 'rtsp' && rtspUrl) {\n      return ` RTSP\\n${rtspUrl.substring(0, 30)}...`;\n    }\n    if (sourceType === 'url' && src) {\n      if (isLocalFile && fileName) {\n        return ` ${fileName}`;\n      }\n      return ` \\n${src.substring(0, 30)}...`;\n    }\n    return ' \\n  ';\n  };\n\n  return (\n    <Group\n      ref={groupRef}\n      id={widget.id}\n      x={widget.x}\n      y={widget.y}\n      width={widget.width}\n      height={widget.height}\n      rotation={widget.rotation || 0}\n      draggable={!isLocked}\n      dragBoundFunc={dragBoundFunc}\n      opacity={isLocked ? 0.6 : 1}\n      onClick={handleClick}\n      onTap={handleClick}\n      onDragEnd={onDragEnd}\n      onTransformEnd={handleTransform}\n    >\n      {/*      */}\n      <Rect\n        width={widget.width}\n        height={widget.height}\n        fill=\"transparent\"\n        listening={true}\n      />\n\n      {/*  */}\n      <Rect\n        width={widget.width}\n        height={widget.height}\n        fill={sourceType === 'rtsp' ? '#2c3e50' : '#f39c12'}\n        listening={false}\n      />\n\n      {/*  ( ) */}\n      {videoElement && videoProps ? (\n        <KonvaImage\n          image={videoElement}\n          x={videoProps.position.x}\n          y={videoProps.position.y}\n          width={videoProps.position.width}\n          height={videoProps.position.height}\n          crop={videoProps.crop}\n          listening={false}\n        />\n      ) : (\n        /* - (   ) */\n        <KonvaText\n          text={getDisplayText()}\n          x={0}\n          y={0}\n          width={widget.width}\n          height={widget.height}\n          fontSize={14}\n          fontFamily=\"Arial\"\n          fill=\"#ffffff\"\n          align=\"center\"\n          verticalAlign=\"middle\"\n          listening={false}\n        />\n      )}\n\n      {/*   */}\n      {sourceType === 'rtsp' && (\n        <Rect\n          x={10}\n          y={10}\n          width={45}\n          height={20}\n          fill=\"#ff0000\"\n          cornerRadius={4}\n          listening={false}\n        />\n      )}\n      \n      {sourceType === 'rtsp' && (\n        <KonvaText\n          text=\"LIVE\"\n          x={10}\n          y={13}\n          width={45}\n          fontSize={12}\n          fontFamily=\"Arial\"\n          fontWeight=\"bold\"\n          fill=\"#ffffff\"\n          align=\"center\"\n          listening={false}\n        />\n      )}\n\n      {videoElement && !videoElement.paused && (\n        <KonvaText\n          text=\"\"\n          x={widget.width - 30}\n          y={10}\n          fontSize={16}\n          fontFamily=\"Arial\"\n          fill=\"#00ff00\"\n          listening={false}\n        />\n      )}\n\n      {controls && videoElement && (\n        <KonvaText\n          text={videoElement.paused ? \" \" : \" \"}\n          x={10}\n          y={widget.height - 30}\n          fontSize={12}\n          fontFamily=\"Arial\"\n          fill=\"#ffffff\"\n          listening={false}\n        />\n      )}\n\n      {/*   */}\n      {isSelected && (\n        <Rect\n          width={widget.width}\n          height={widget.height}\n          stroke=\"#007acc\"\n          strokeWidth={2}\n          listening={false}\n        />\n      )}\n\n      {/*   */}\n      {borderEnabled && (\n        <Rect\n          width={widget.width}\n          height={widget.height}\n          stroke={borderColor}\n          strokeWidth={borderWidth}\n          dash={getStrokeDash(borderStyle)}\n          listening={false}\n        />\n      )}\n    </Group>\n  );\n};\n\nexport default VideoWidget;\n","import React, { useRef } from 'react';\nimport { Group, Rect, Circle, RegularPolygon, Star, Ellipse, Line } from 'react-konva';\nimport { Widget } from '../types';\n\ninterface ShapeWidgetProps {\n  widget: Widget;\n  isSelected: boolean;\n  onSelect: (e: any) => void;\n  onDragEnd: (e: any) => void;\n  onTransformEnd: (e: any) => void;\n  dragBoundFunc?: (pos: { x: number; y: number }) => { x: number; y: number };\n}\n\nconst ShapeWidget: React.FC<ShapeWidgetProps> = ({\n  widget,\n  isSelected,\n  onSelect,\n  onDragEnd,\n  onTransformEnd,\n  dragBoundFunc\n}) => {\n  const groupRef = useRef<any>(null);\n\n  const {\n    shapeType = 'rectangle',\n    fillColor = '#4a90e2',\n    strokeColor = '#2c3e50',\n    strokeWidth = 0,\n    cornerRadius = 0,\n    opacity = 1\n  } = widget.properties;\n\n  const isLocked = widget.locked || false;\n\n  //   \n  const renderShape = () => {\n    const commonProps = {\n      fill: fillColor,\n      stroke: strokeWidth > 0 ? strokeColor : undefined,\n      strokeWidth: strokeWidth,\n      opacity: opacity,\n      listening: false\n    };\n\n    switch (shapeType) {\n      case 'rectangle':\n        return (\n          <Rect\n            x={0}\n            y={0}\n            width={widget.width}\n            height={widget.height}\n            cornerRadius={cornerRadius}\n            {...commonProps}\n          />\n        );\n\n      case 'circle':\n        //  -     \n        const radius = Math.min(widget.width, widget.height) / 2;\n        return (\n          <Circle\n            x={widget.width / 2}\n            y={widget.height / 2}\n            radius={radius}\n            {...commonProps}\n          />\n        );\n\n      case 'ellipse':\n        return (\n          <Ellipse\n            x={widget.width / 2}\n            y={widget.height / 2}\n            radiusX={widget.width / 2}\n            radiusY={widget.height / 2}\n            {...commonProps}\n          />\n        );\n\n      case 'triangle':\n        return (\n          <RegularPolygon\n            x={widget.width / 2}\n            y={widget.height / 2}\n            sides={3}\n            radius={Math.min(widget.width, widget.height) / 2}\n            {...commonProps}\n          />\n        );\n\n      case 'pentagon':\n        return (\n          <RegularPolygon\n            x={widget.width / 2}\n            y={widget.height / 2}\n            sides={5}\n            radius={Math.min(widget.width, widget.height) / 2}\n            {...commonProps}\n          />\n        );\n\n      case 'hexagon':\n        return (\n          <RegularPolygon\n            x={widget.width / 2}\n            y={widget.height / 2}\n            sides={6}\n            radius={Math.min(widget.width, widget.height) / 2}\n            {...commonProps}\n          />\n        );\n\n      case 'star':\n        return (\n          <Star\n            x={widget.width / 2}\n            y={widget.height / 2}\n            numPoints={5}\n            innerRadius={Math.min(widget.width, widget.height) / 4}\n            outerRadius={Math.min(widget.width, widget.height) / 2}\n            {...commonProps}\n          />\n        );\n\n      case 'diamond':\n        //  -    45\n        return (\n          <RegularPolygon\n            x={widget.width / 2}\n            y={widget.height / 2}\n            sides={4}\n            radius={Math.min(widget.width, widget.height) / 2}\n            rotation={45}\n            {...commonProps}\n          />\n        );\n\n      case 'line':\n        return (\n          <Line\n            points={[0, widget.height / 2, widget.width, widget.height / 2]}\n            stroke={strokeColor}\n            strokeWidth={Math.max(strokeWidth, 2)}\n            opacity={opacity}\n            listening={false}\n          />\n        );\n\n      case 'arrow':\n        //  \n        const arrowWidth = widget.width;\n        const arrowHeight = widget.height;\n        const headWidth = arrowHeight * 0.6;\n        const shaftHeight = arrowHeight * 0.4;\n        \n        return (\n          <Line\n            points={[\n              0, arrowHeight / 2 - shaftHeight / 2,  //   \n              arrowWidth - headWidth, arrowHeight / 2 - shaftHeight / 2,  //    \n              arrowWidth - headWidth, 0,  //  \n              arrowWidth, arrowHeight / 2,  //  \n              arrowWidth - headWidth, arrowHeight,  //  \n              arrowWidth - headWidth, arrowHeight / 2 + shaftHeight / 2,  //    \n              0, arrowHeight / 2 + shaftHeight / 2  //   \n            ]}\n            closed\n            fill={fillColor}\n            stroke={strokeWidth > 0 ? strokeColor : undefined}\n            strokeWidth={strokeWidth}\n            opacity={opacity}\n            listening={false}\n          />\n        );\n\n      default:\n        return (\n          <Rect\n            x={0}\n            y={0}\n            width={widget.width}\n            height={widget.height}\n            {...commonProps}\n          />\n        );\n    }\n  };\n\n  return (\n    <Group\n      ref={groupRef}\n      id={widget.id}\n      x={widget.x}\n      y={widget.y}\n      width={widget.width}\n      height={widget.height}\n      rotation={widget.rotation || 0}\n      draggable={!isLocked}\n      dragBoundFunc={dragBoundFunc}\n      opacity={isLocked ? 0.6 : 1}\n      onClick={onSelect}\n      onTap={onSelect}\n      onDragEnd={onDragEnd}\n      onTransformEnd={onTransformEnd}\n    >\n      {/*     */}\n      <Rect\n        width={widget.width}\n        height={widget.height}\n        fill=\"transparent\"\n        listening={true}\n      />\n\n      {/*  */}\n      {renderShape()}\n\n      {/*   */}\n      {isSelected && (\n        <Rect\n          width={widget.width}\n          height={widget.height}\n          stroke=\"#007acc\"\n          strokeWidth={2}\n          listening={false}\n        />\n      )}\n    </Group>\n  );\n};\n\nexport default ShapeWidget;\n","import React, { useRef, useState } from 'react';\nimport { Group, Rect, Text as KonvaText, Line } from 'react-konva';\nimport { Widget } from '../types';\n\ninterface MenuWidgetProps {\n  widget: Widget;\n  isSelected: boolean;\n  onSelect: (e: any) => void;\n  onDragEnd: (e: any) => void;\n  onTransformEnd: (e: any) => void;\n  dragBoundFunc?: (pos: { x: number; y: number }) => { x: number; y: number };\n}\n\nexport interface MenuItem {\n  id: string;\n  label: string;\n  children?: MenuItem[];\n}\n\nconst MenuWidget: React.FC<MenuWidgetProps> = ({\n  widget,\n  isSelected,\n  onSelect,\n  onDragEnd,\n  onTransformEnd,\n  dragBoundFunc\n}) => {\n  const groupRef = useRef<any>(null);\n  const [hoveredItem, setHoveredItem] = useState<string | null>(null);\n  const [expandedItem, setExpandedItem] = useState<string | null>(null);\n\n  const {\n    orientation = 'horizontal',\n    items = [\n      { id: '1', label: '' },\n      { id: '2', label: ' ' },\n      { id: '3', label: '', children: [\n        { id: '3-1', label: ' 1' },\n        { id: '3-2', label: ' 2' }\n      ]},\n      { id: '4', label: '' }\n    ] as MenuItem[],\n    backgroundColor = '#2c3e50',\n    textColor = '#ffffff',\n    hoverColor = '#34495e',\n    fontSize = 16,\n    fontFamily = 'Arial',\n    itemPadding = 16,\n    submenuBackgroundColor = '#34495e',\n    submenuTextColor = '#ffffff',\n    borderWidth = 0,\n    borderColor = '#000000',\n    itemHeight = 40\n  } = widget.properties;\n\n  const isLocked = widget.locked || false;\n  const isHorizontal = orientation === 'horizontal';\n\n  //    \n  const calculateItemWidth = (label: string) => {\n    //   \n    return label.length * (fontSize * 0.6) + itemPadding * 2;\n  };\n\n  //   \n  const renderHorizontalMenu = () => {\n    const elements: JSX.Element[] = [];\n    let currentX = 0;\n\n    items.forEach((item, index) => {\n      const itemWidth = calculateItemWidth(item.label);\n      const isHovered = hoveredItem === item.id;\n      const isExpanded = expandedItem === item.id;\n      const hasChildren = item.children && item.children.length > 0;\n\n      //   \n      elements.push(\n        <Rect\n          key={`bg-${item.id}`}\n          x={currentX}\n          y={0}\n          width={itemWidth}\n          height={itemHeight}\n          fill={isHovered ? hoverColor : backgroundColor}\n          listening={true}\n          onMouseEnter={() => setHoveredItem(item.id)}\n          onMouseLeave={() => setHoveredItem(null)}\n          onClick={() => {\n            if (hasChildren) {\n              setExpandedItem(expandedItem === item.id ? null : item.id);\n            }\n          }}\n        />\n      );\n\n      //   \n      elements.push(\n        <KonvaText\n          key={`text-${item.id}`}\n          x={currentX}\n          y={0}\n          width={itemWidth}\n          height={itemHeight}\n          text={item.label}\n          fontSize={fontSize}\n          fontFamily={fontFamily}\n          fill={textColor}\n          align=\"center\"\n          verticalAlign=\"middle\"\n          listening={false}\n        />\n      );\n\n      //   ( )\n      if (hasChildren) {\n        elements.push(\n          <KonvaText\n            key={`arrow-${item.id}`}\n            x={currentX + itemWidth - 20}\n            y={0}\n            width={20}\n            height={itemHeight}\n            text=\"\"\n            fontSize={10}\n            fill={textColor}\n            align=\"center\"\n            verticalAlign=\"middle\"\n            listening={false}\n          />\n        );\n      }\n\n      // \n      if (index < items.length - 1) {\n        elements.push(\n          <Line\n            key={`divider-${item.id}`}\n            points={[currentX + itemWidth, 5, currentX + itemWidth, itemHeight - 5]}\n            stroke={borderColor}\n            strokeWidth={1}\n            opacity={0.3}\n            listening={false}\n          />\n        );\n      }\n\n      //  ( )\n      if (isExpanded && hasChildren) {\n        item.children!.forEach((child, childIndex) => {\n          const childY = itemHeight + childIndex * itemHeight;\n          const childWidth = Math.max(itemWidth, calculateItemWidth(child.label));\n\n          //  \n          elements.push(\n            <Rect\n              key={`submenu-bg-${child.id}`}\n              x={currentX}\n              y={childY}\n              width={childWidth}\n              height={itemHeight}\n              fill={submenuBackgroundColor}\n              listening={true}\n              onMouseEnter={() => setHoveredItem(child.id)}\n              onMouseLeave={() => setHoveredItem(null)}\n            />\n          );\n\n          //  \n          elements.push(\n            <KonvaText\n              key={`submenu-text-${child.id}`}\n              x={currentX + itemPadding / 2}\n              y={childY}\n              width={childWidth - itemPadding / 2}\n              height={itemHeight}\n              text={child.label}\n              fontSize={fontSize - 2}\n              fontFamily={fontFamily}\n              fill={submenuTextColor}\n              align=\"left\"\n              verticalAlign=\"middle\"\n              listening={false}\n            />\n          );\n        });\n      }\n\n      currentX += itemWidth;\n    });\n\n    return elements;\n  };\n\n  //   \n  const renderVerticalMenu = () => {\n    const elements: JSX.Element[] = [];\n    let currentY = 0;\n    const menuWidth = widget.width;\n\n    items.forEach((item, index) => {\n      const isHovered = hoveredItem === item.id;\n      const isExpanded = expandedItem === item.id;\n      const hasChildren = item.children && item.children.length > 0;\n\n      //   \n      elements.push(\n        <Rect\n          key={`bg-${item.id}`}\n          x={0}\n          y={currentY}\n          width={menuWidth}\n          height={itemHeight}\n          fill={isHovered ? hoverColor : backgroundColor}\n          listening={true}\n          onMouseEnter={() => setHoveredItem(item.id)}\n          onMouseLeave={() => setHoveredItem(null)}\n          onClick={() => {\n            if (hasChildren) {\n              setExpandedItem(expandedItem === item.id ? null : item.id);\n            }\n          }}\n        />\n      );\n\n      //   \n      elements.push(\n        <KonvaText\n          key={`text-${item.id}`}\n          x={itemPadding}\n          y={currentY}\n          width={menuWidth - itemPadding * 2 - (hasChildren ? 20 : 0)}\n          height={itemHeight}\n          text={item.label}\n          fontSize={fontSize}\n          fontFamily={fontFamily}\n          fill={textColor}\n          align=\"left\"\n          verticalAlign=\"middle\"\n          listening={false}\n        />\n      );\n\n      //   (   )\n      if (hasChildren) {\n        elements.push(\n          <KonvaText\n            key={`arrow-${item.id}`}\n            x={menuWidth - 20}\n            y={currentY}\n            width={20}\n            height={itemHeight}\n            text={isExpanded ? \"\" : \"\"}\n            fontSize={10}\n            fill={textColor}\n            align=\"center\"\n            verticalAlign=\"middle\"\n            listening={false}\n          />\n        );\n      }\n\n      currentY += itemHeight;\n\n      // \n      if (index < items.length - 1 && !isExpanded) {\n        elements.push(\n          <Line\n            key={`divider-${item.id}`}\n            points={[10, currentY, menuWidth - 10, currentY]}\n            stroke={borderColor}\n            strokeWidth={1}\n            opacity={0.3}\n            listening={false}\n          />\n        );\n      }\n\n      //  ( )\n      if (isExpanded && hasChildren) {\n        item.children!.forEach((child, childIndex) => {\n          const childIsHovered = hoveredItem === child.id;\n\n          //  \n          elements.push(\n            <Rect\n              key={`submenu-bg-${child.id}`}\n              x={0}\n              y={currentY}\n              width={menuWidth}\n              height={itemHeight}\n              fill={childIsHovered ? hoverColor : submenuBackgroundColor}\n              listening={true}\n              onMouseEnter={() => setHoveredItem(child.id)}\n              onMouseLeave={() => setHoveredItem(null)}\n            />\n          );\n\n          //   \n          elements.push(\n            <KonvaText\n              key={`submenu-text-${child.id}`}\n              x={itemPadding * 2}\n              y={currentY}\n              width={menuWidth - itemPadding * 3}\n              height={itemHeight}\n              text={child.label}\n              fontSize={fontSize - 2}\n              fontFamily={fontFamily}\n              fill={submenuTextColor}\n              align=\"left\"\n              verticalAlign=\"middle\"\n              listening={false}\n            />\n          );\n\n          currentY += itemHeight;\n        });\n\n        //   \n        if (index < items.length - 1) {\n          elements.push(\n            <Line\n              key={`divider-after-${item.id}`}\n              points={[10, currentY, menuWidth - 10, currentY]}\n              stroke={borderColor}\n              strokeWidth={1}\n              opacity={0.3}\n              listening={false}\n            />\n          );\n        }\n      }\n    });\n\n    return elements;\n  };\n\n  return (\n    <Group\n      ref={groupRef}\n      id={widget.id}\n      x={widget.x}\n      y={widget.y}\n      width={widget.width}\n      height={widget.height}\n      rotation={widget.rotation || 0}\n      draggable={!isLocked}\n      dragBoundFunc={dragBoundFunc}\n      opacity={isLocked ? 0.6 : 1}\n      onClick={onSelect}\n      onTap={onSelect}\n      onDragEnd={onDragEnd}\n      onTransformEnd={onTransformEnd}\n    >\n      {/*     */}\n      <Rect\n        width={widget.width}\n        height={widget.height}\n        fill=\"transparent\"\n        listening={true}\n      />\n\n      {/*   */}\n      <Rect\n        width={widget.width}\n        height={widget.height}\n        fill={backgroundColor}\n        listening={false}\n      />\n\n      {/*  */}\n      {borderWidth > 0 && (\n        <Rect\n          width={widget.width}\n          height={widget.height}\n          stroke={borderColor}\n          strokeWidth={borderWidth}\n          listening={false}\n        />\n      )}\n\n      {/*   */}\n      {isHorizontal ? renderHorizontalMenu() : renderVerticalMenu()}\n\n      {/*   */}\n      {isSelected && (\n        <Rect\n          width={widget.width}\n          height={widget.height}\n          stroke=\"#007acc\"\n          strokeWidth={2}\n          listening={false}\n        />\n      )}\n    </Group>\n  );\n};\n\nexport default MenuWidget;\n","import React, { useRef, useEffect } from 'react';\nimport { Stage, Layer, Rect, Transformer, Image as KonvaImage, Text, Group } from 'react-konva';\nimport { useEditorStore } from '../stores/editorStore';\n// import ImageWidget from './ImageWidget'; //  \nimport ButtonWidget from './ButtonWidget';\nimport TextWidget from './TextWidget';\nimport VideoWidget from './VideoWidget';\nimport ShapeWidget from './ShapeWidget';\nimport MenuWidget from './MenuWidget';\nimport './Canvas.css';\n\n//   fallback  (    )\nconst WIDGET_COLORS: Record<string, string> = {\n  shape: '#4a90e2',\n  rectangle: '#4a90e2',  //   \n  button: '#2ecc71',\n  text: '#e74c3c',\n  image: '#9b59b6',\n  video: '#f39c12'\n};\n\nconst Canvas: React.FC = () => {\n  const { \n    project, \n    selectedWidgetIds, \n    selectWidget, \n    clearSelection,\n    updateWidget,\n    zoom,\n    gridEnabled,\n    snapToGrid,\n    gridSize,\n    gridLineWidth,\n    gridColor,\n    pendingWidget,\n    addWidgetAtPosition,\n    clearPendingWidget\n  } = useEditorStore();\n\n  const stageRef = useRef<any>(null);\n  const transformerRef = useRef<any>(null);\n\n  //    \n  const snapToGridValue = (value: number): number => {\n    if (!snapToGrid) return value;\n    return Math.round(value / gridSize) * gridSize;\n  };\n\n  //      \n  const dragBoundFunc = (pos: { x: number; y: number }) => {\n    return {\n      x: snapToGridValue(pos.x),\n      y: snapToGridValue(pos.y)\n    };\n  };\n\n  useEffect(() => {\n    if (!transformerRef.current || !project) return;\n\n    const stage = stageRef.current;\n    \n    //      \n    const selectedNodes = selectedWidgetIds\n      .map(id => {\n        const widget = project.widgets.find(w => w.id === id);\n        //   \n        if (widget?.locked) return null;\n        return stage.findOne(`#${id}`);\n      })\n      .filter(Boolean);\n\n    transformerRef.current.nodes(selectedNodes);\n    transformerRef.current.getLayer().batchDraw();\n  }, [selectedWidgetIds, project]);\n\n  // if (!project) return null; //  \n\n  const handleStageClick = (e: any) => {\n    //     -     \n    if (pendingWidget) {\n      const stage = e.target.getStage();\n      const pointerPosition = stage.getPointerPosition();\n      \n      if (pointerPosition) {\n        addWidgetAtPosition(pointerPosition.x, pointerPosition.y);\n      }\n      return;\n    }\n\n    //    Stage     -  \n    const clickedOnEmpty = e.target === e.target.getStage() || \n                          e.target.attrs.id === 'canvas-background';\n    \n    if (clickedOnEmpty) {\n      clearSelection();\n    }\n  };\n\n  const handleWidgetClick = (id: string, e: any) => {\n    e.cancelBubble = true;\n    const isMultiSelect = e.evt.ctrlKey || e.evt.metaKey;\n    selectWidget(id, isMultiSelect);\n  };\n\n  const handleDragEnd = (id: string, e: any) => {\n    const x = snapToGridValue(e.target.x());\n    const y = snapToGridValue(e.target.y());\n\n    updateWidget(id, { x, y });\n  };\n\n  const handleTransformEnd = (id: string, e: any) => {\n    const node = e.target;\n    const scaleX = node.scaleX();\n    const scaleY = node.scaleY();\n\n    //  scale     \n    node.scaleX(1);\n    node.scaleY(1);\n\n    //  Group   width/height  attrs\n    const nodeWidth = node.width ? node.width() : node.attrs.width || 100;\n    const nodeHeight = node.height ? node.height() : node.attrs.height || 100;\n\n    let width = Math.max(10, nodeWidth * scaleX);\n    let height = Math.max(10, nodeHeight * scaleY);\n    let x = node.x();\n    let y = node.y();\n\n    //   \n    if (snapToGrid) {\n      width = snapToGridValue(width);\n      height = snapToGridValue(height);\n      x = snapToGridValue(x);\n      y = snapToGridValue(y);\n    }\n\n    updateWidget(id, {\n      x,\n      y,\n      width,\n      height,\n      rotation: node.rotation()\n    });\n  };\n\n  //  \n  const renderGrid = () => {\n    if (!gridEnabled) return null;\n\n    const lines = [];\n    const { width, height } = project.canvas;\n\n    //  \n    for (let i = 0; i <= width / gridSize; i++) {\n      lines.push(\n        <Rect\n          key={`v-${i}`}\n          x={i * gridSize}\n          y={0}\n          width={gridLineWidth}\n          height={height}\n          fill={gridColor}\n        />\n      );\n    }\n\n    //  \n    for (let i = 0; i <= height / gridSize; i++) {\n      lines.push(\n        <Rect\n          key={`h-${i}`}\n          x={0}\n          y={i * gridSize}\n          width={width}\n          height={gridLineWidth}\n          fill={gridColor}\n        />\n      );\n    }\n\n    return lines;\n  };\n\n  return (\n    <div className=\"canvas-container\">\n      <div className=\"canvas-scroll\">\n        <div \n          className=\"canvas-wrapper\"\n          style={{\n            transform: `scale(${zoom})`,\n            transformOrigin: 'top left',\n            cursor: pendingWidget ? 'crosshair' : 'default'\n          }}\n        >\n          <Stage\n            ref={stageRef}\n            width={project.canvas.width}\n            height={project.canvas.height}\n            onClick={handleStageClick}\n            onTap={handleStageClick}\n          >\n            <Layer>\n              {/*   */}\n              <Rect\n                id=\"canvas-background\"\n                x={0}\n                y={0}\n                width={project.canvas.width}\n                height={project.canvas.height}\n                fill={project.canvas.backgroundColor || '#ffffff'}\n              />\n              \n              {/*  */}\n              {renderGrid()}\n\n              {/*  */}\n              {project.widgets\n                .slice()\n                .sort((a, b) => (a.zIndex || 0) - (b.zIndex || 0))\n                .map(widget => {\n                const isLocked = widget.locked || false;\n                \n                //    ImageWidget\n                //  : ImageWidget\n                if (widget.type === 'image') {\n                  return null; // ImageWidget disabled\n                }\n\n                //    ButtonWidget\n                if (widget.type === 'button') {\n                  return (\n                    <React.Fragment key={widget.id}>\n                      <ButtonWidget\n                        widget={widget}\n                        isSelected={selectedWidgetIds.includes(widget.id)}\n                        onSelect={(e) => handleWidgetClick(widget.id, e)}\n                        onDragEnd={(e) => handleDragEnd(widget.id, e)}\n                        onTransformEnd={(e) => handleTransformEnd(widget.id, e)}\n                        dragBoundFunc={snapToGrid ? dragBoundFunc : undefined}\n                      />\n                      {/*   */}\n                      {isLocked && (\n                        <Text\n                          x={widget.x + 5}\n                          y={widget.y + 5}\n                          text=\"\"\n                          fontSize={16}\n                          listening={false}\n                        />\n                      )}\n                    </React.Fragment>\n                  );\n                }\n\n                //    TextWidget\n                if (widget.type === 'text') {\n                  return (\n                    <React.Fragment key={widget.id}>\n                      <TextWidget\n                        widget={widget}\n                        isSelected={selectedWidgetIds.includes(widget.id)}\n                        onSelect={(e) => handleWidgetClick(widget.id, e)}\n                        onDragEnd={(e) => handleDragEnd(widget.id, e)}\n                        onTransformEnd={(e) => handleTransformEnd(widget.id, e)}\n                        dragBoundFunc={snapToGrid ? dragBoundFunc : undefined}\n                      />\n                      {/*   */}\n                      {isLocked && (\n                        <Text\n                          x={widget.x + 5}\n                          y={widget.y + 5}\n                          text=\"\"\n                          fontSize={16}\n                          listening={false}\n                        />\n                      )}\n                    </React.Fragment>\n                  );\n                }\n\n                //    VideoWidget\n                if (widget.type === 'video') {\n                  return (\n                    <React.Fragment key={widget.id}>\n                      <VideoWidget\n                        widget={widget}\n                        isSelected={selectedWidgetIds.includes(widget.id)}\n                        onSelect={(e) => handleWidgetClick(widget.id, e)}\n                        onDragEnd={(e) => handleDragEnd(widget.id, e)}\n                        onTransformEnd={(e) => handleTransformEnd(widget.id, e)}\n                        dragBoundFunc={snapToGrid ? dragBoundFunc : undefined}\n                      />\n                      {/*   */}\n                      {isLocked && (\n                        <Text\n                          x={widget.x + 5}\n                          y={widget.y + 5}\n                          text=\"\"\n                          fontSize={16}\n                          listening={false}\n                        />\n                      )}\n                    </React.Fragment>\n                  );\n                }\n\n                //    ShapeWidget\n                if (widget.type === 'shape' || widget.type === 'rectangle') {\n                  return (\n                    <React.Fragment key={widget.id}>\n                      <ShapeWidget\n                        widget={widget}\n                        isSelected={selectedWidgetIds.includes(widget.id)}\n                        onSelect={(e) => handleWidgetClick(widget.id, e)}\n                        onDragEnd={(e) => handleDragEnd(widget.id, e)}\n                        onTransformEnd={(e) => handleTransformEnd(widget.id, e)}\n                        dragBoundFunc={snapToGrid ? dragBoundFunc : undefined}\n                      />\n                      {/*   */}\n                      {isLocked && (\n                        <Text\n                          x={widget.x + 5}\n                          y={widget.y + 5}\n                          text=\"\"\n                          fontSize={16}\n                          listening={false}\n                        />\n                      )}\n                    </React.Fragment>\n                  );\n                }\n\n                //    MenuWidget\n                if (widget.type === 'menu') {\n                  return (\n                    <React.Fragment key={widget.id}>\n                      <MenuWidget\n                        widget={widget}\n                        isSelected={selectedWidgetIds.includes(widget.id)}\n                        onSelect={(e) => handleWidgetClick(widget.id, e)}\n                        onDragEnd={(e) => handleDragEnd(widget.id, e)}\n                        onTransformEnd={(e) => handleTransformEnd(widget.id, e)}\n                        dragBoundFunc={snapToGrid ? dragBoundFunc : undefined}\n                      />\n                      {/*   */}\n                      {isLocked && (\n                        <Text\n                          x={widget.x + 5}\n                          y={widget.y + 5}\n                          text=\"\"\n                          fontSize={16}\n                          listening={false}\n                        />\n                      )}\n                    </React.Fragment>\n                  );\n                }\n\n                //    -  Rect (fallback)\n                return (\n                  <React.Fragment key={widget.id}>\n                    <Rect\n                      id={widget.id}\n                      x={widget.x}\n                      y={widget.y}\n                      width={widget.width}\n                      height={widget.height}\n                      rotation={widget.rotation || 0}\n                      fill={WIDGET_COLORS[widget.type] || '#4a90e2'}\n                      stroke={selectedWidgetIds.includes(widget.id) ? '#007acc' : undefined}\n                      strokeWidth={selectedWidgetIds.includes(widget.id) ? 2 : 0}\n                      opacity={isLocked ? 0.6 : 1}\n                      draggable={!isLocked}\n                      onClick={(e) => handleWidgetClick(widget.id, e)}\n                      onTap={(e) => handleWidgetClick(widget.id, e)}\n                      onDragEnd={(e) => handleDragEnd(widget.id, e)}\n                      onTransformEnd={(e) => handleTransformEnd(widget.id, e)}\n                    />\n                    {/*      */}\n                    {isLocked && (\n                      <Text\n                        x={widget.x + 5}\n                        y={widget.y + 5}\n                        text=\"\"\n                        fontSize={16}\n                        listening={false}\n                      />\n                    )}\n                  </React.Fragment>\n                );\n              })}\n\n              {/* Transformer     */}\n              <Transformer\n                ref={transformerRef}\n                boundBoxFunc={(oldBox, newBox) => {\n                  //   10x10\n                  if (newBox.width < 10 || newBox.height < 10) {\n                    return oldBox;\n                  }\n                  return newBox;\n                }}\n              />\n            </Layer>\n          </Stage>\n        </div>\n      </div>\n\n      <div className=\"canvas-info\">\n        <span>\n          {project.canvas.width}  {project.canvas.height} px\n        </span>\n        {selectedWidgetIds.length > 0 && (\n          <span>\n            : {selectedWidgetIds.length}\n          </span>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Canvas;\n","import React from 'react';\nimport { useEditorStore } from '../stores/editorStore';\nimport { Eye, EyeOff, Lock, Unlock, Trash2 } from 'lucide-react';\nimport './OutlinePanel.css';\n\nconst OutlinePanel: React.FC = () => {\n  const { project, selectedWidgetIds, selectWidget, updateWidget, deleteWidget } = useEditorStore();\n\n  if (!project) return null;\n\n  //     \n  const getWidgetIcon = (type: string): string => {\n    const icons: Record<string, string> = {\n      shape: '',\n      rectangle: '',\n      text: '',\n      button: '',\n      image: '',\n      video: '',\n      menu: ''\n    };\n    return icons[type] || '';\n  };\n\n  //   \n  const getWidgetLabel = (widget: any): string => {\n    if (widget.properties.text) {\n      const text = widget.properties.text.substring(0, 20);\n      return text.length < widget.properties.text.length ? `${text}...` : text;\n    }\n    if (widget.properties.items) {\n      return ` (${widget.properties.items.length} )`;\n    }\n    return widget.type.charAt(0).toUpperCase() + widget.type.slice(1);\n  };\n\n  //    z-index\n  const sortedWidgets = [...project.widgets].sort((a, b) => {\n    return (b.zIndex || 0) - (a.zIndex || 0);\n  });\n\n  return (\n    <div className=\"outline-panel\">\n      <div className=\"outline-header\">\n        <h3></h3>\n        <span className=\"outline-count\">{project.widgets.length} </span>\n      </div>\n\n      <div className=\"outline-list\">\n        {sortedWidgets.length === 0 ? (\n          <div className=\"outline-empty\">\n            <p> </p>\n            <span>   </span>\n          </div>\n        ) : (\n          sortedWidgets.map((widget) => {\n            const isSelected = selectedWidgetIds.includes(widget.id);\n            const isLocked = widget.locked || false;\n\n            return (\n              <div\n                key={widget.id}\n                className={`outline-item ${isSelected ? 'selected' : ''} ${isLocked ? 'locked' : ''}`}\n                onClick={() => selectWidget(widget.id, false)}\n              >\n                <div className=\"outline-item-main\">\n                  <span className=\"outline-icon\">{getWidgetIcon(widget.type)}</span>\n                  <div className=\"outline-info\">\n                    <span className=\"outline-label\">{getWidgetLabel(widget)}</span>\n                    <span className=\"outline-meta\">\n                      {widget.width}{widget.height}  z:{widget.zIndex || 0}\n                    </span>\n                  </div>\n                </div>\n\n                <div className=\"outline-actions\" onClick={(e) => e.stopPropagation()}>\n                  {/*  -    */}\n                  {/* <button\n                    className=\"outline-action-btn\"\n                    title=\"\"\n                  >\n                    <Eye size={14} />\n                  </button> */}\n\n                  {/*  */}\n                  <button\n                    className=\"outline-action-btn\"\n                    onClick={() => {\n                      updateWidget(widget.id, { locked: !isLocked });\n                    }}\n                    title={isLocked ? '' : ''}\n                  >\n                    {isLocked ? <Lock size={14} /> : <Unlock size={14} />}\n                  </button>\n\n                  {/*  */}\n                  <button\n                    className=\"outline-action-btn delete\"\n                    onClick={() => {\n                      if (window.confirm(`  \"${getWidgetLabel(widget)}\"?`)) {\n                        deleteWidget(widget.id);\n                      }\n                    }}\n                    title=\"\"\n                  >\n                    <Trash2 size={14} />\n                  </button>\n                </div>\n              </div>\n            );\n          })\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default OutlinePanel;\n","import React from 'react';\nimport { useEditorStore } from '../stores/editorStore';\nimport { Square, Type, Image, Video, MousePointer, Menu } from 'lucide-react';\nimport OutlinePanel from './OutlinePanel';\nimport './WidgetLibrary.css';\n\nconst WidgetLibrary: React.FC = () => {\n  const { addWidget, project } = useEditorStore();\n\n  const widgetTypes = [\n    {\n      type: 'shape',\n      name: '',\n      icon: Square,\n      defaultProps: {\n        shapeType: 'rectangle',\n        fillColor: '#4a90e2',\n        strokeColor: '#2c3e50',\n        strokeWidth: 0,\n        cornerRadius: 0,\n        opacity: 1\n      }\n    },\n    {\n      type: 'button',\n      name: '',\n      icon: MousePointer,\n      defaultProps: {\n        text: ' ',\n        backgroundColor: '#4a90e2',\n        textColor: '#ffffff'\n      }\n    },\n    {\n      type: 'text',\n      name: '',\n      icon: Type,\n      defaultProps: {\n        text: ' ',\n        fontSize: 24,\n        color: '#000000'\n      }\n    },\n    {\n      type: 'image',\n      name: '',\n      icon: Image,\n      defaultProps: {\n        src: ''\n      }\n    },\n    {\n      type: 'video',\n      name: '',\n      icon: Video,\n      defaultProps: {\n        src: '',\n        autoplay: false,\n        loop: false\n      }\n    },\n    {\n      type: 'menu',\n      name: '',\n      icon: Menu,\n      defaultProps: {\n        orientation: 'horizontal',\n        items: [\n          { id: '1', label: '' },\n          { id: '2', label: ' ' },\n          { id: '3', label: '', children: [\n            { id: '3-1', label: ' 1' },\n            { id: '3-2', label: ' 2' }\n          ]},\n          { id: '4', label: '' }\n        ],\n        backgroundColor: '#2c3e50',\n        textColor: '#ffffff',\n        hoverColor: '#34495e',\n        fontSize: 16,\n        fontFamily: 'Arial',\n        itemPadding: 16,\n        submenuBackgroundColor: '#34495e',\n        submenuTextColor: '#ffffff',\n        borderWidth: 0,\n        borderColor: '#000000',\n        itemHeight: 40\n      }\n    }\n  ];\n\n  const handleAddWidget = (type: string, defaultProps: any) => {\n    if (!project) return;\n\n    const { setPendingWidget } = useEditorStore.getState();\n    setPendingWidget(type, defaultProps);\n  };\n\n  return (\n    <div className=\"widget-library panel\">\n      <div className=\"widget-library-header\">\n        <h3></h3>\n      </div>\n      <div className=\"widget-library-content\">\n        {widgetTypes.map(widgetType => {\n          const Icon = widgetType.icon;\n          return (\n            <button\n              key={widgetType.type}\n              className=\"widget-item\"\n              onClick={() => handleAddWidget(widgetType.type, widgetType.defaultProps)}\n              title={` ${widgetType.name}`}\n            >\n              <Icon size={24} />\n              <span>{widgetType.name}</span>\n            </button>\n          );\n        })}\n      </div>\n      <div className=\"widget-library-footer\">\n        <button className=\"btn-secondary\" style={{ width: '100%', fontSize: '12px' }}>\n          +  \n        </button>\n      </div>\n\n      {/*     */}\n      <OutlinePanel />\n    </div>\n  );\n};\n\nexport default WidgetLibrary;\n","import React from 'react';\nimport { WidgetAction } from '../types';\nimport { Widget } from '../types';\nimport './ActionEditor.css';\n\ninterface ActionEditorProps {\n  widget: Widget;\n  onUpdate: (actions: WidgetAction[]) => void;\n  allWidgets: Widget[];\n}\n\nconst ActionEditor: React.FC<ActionEditorProps> = ({ widget, onUpdate, allWidgets }) => {\n  const actions = widget.properties.actions || [];\n\n  const addAction = () => {\n    const newAction: WidgetAction = {\n      type: 'url',\n      url: ''\n    };\n    onUpdate([...actions, newAction]);\n  };\n\n  const updateAction = (index: number, updates: Partial<WidgetAction>) => {\n    const newActions = [...actions];\n    newActions[index] = { ...newActions[index], ...updates };\n    onUpdate(newActions);\n  };\n\n  const removeAction = (index: number) => {\n    const newActions = actions.filter((_, i) => i !== index);\n    onUpdate(newActions);\n  };\n\n  const getActionTypeLabel = (type: string) => {\n    const labels: Record<string, string> = {\n      url: '  URL',\n      page: '   ',\n      popup: '  popup',\n      widget_show: '  ',\n      widget_hide: '  ',\n      video_play: '  ',\n      video_stop: '  '\n    };\n    return labels[type] || type;\n  };\n\n  return (\n    <div className=\"action-editor\">\n      <h4 style={{ marginBottom: '12px', fontSize: '12px', color: '#aaa' }}>\n          \n      </h4>\n\n      {actions.length === 0 && (\n        <div style={{ \n          padding: '16px', \n          background: '#252525', \n          borderRadius: '6px',\n          textAlign: 'center',\n          color: '#888',\n          fontSize: '13px',\n          marginBottom: '12px'\n        }}>\n           .   .\n        </div>\n      )}\n\n      {actions.map((action, index) => (\n        <div key={index} className=\"action-item\">\n          <div className=\"action-header\">\n            <span className=\"action-number\">#{index + 1}</span>\n            <button\n              className=\"btn-danger-small\"\n              onClick={() => removeAction(index)}\n              title=\" \"\n            >\n              \n            </button>\n          </div>\n\n          <div className=\"action-body\">\n            {/*   */}\n            <div className=\"property-field\">\n              <label> </label>\n              <select\n                value={action.type}\n                onChange={(e) => updateAction(index, { type: e.target.value as any })}\n              >\n                <option value=\"url\">  URL</option>\n                <option value=\"page\">   </option>\n                <option value=\"popup\">  popup</option>\n                <option value=\"widget_show\">  </option>\n                <option value=\"widget_hide\">  </option>\n                <option value=\"video_play\">  </option>\n                <option value=\"video_stop\">  </option>\n              </select>\n            </div>\n\n            {/*  URL */}\n            {action.type === 'url' && (\n              <>\n                <div className=\"property-field\">\n                  <label>URL </label>\n                  <input\n                    type=\"text\"\n                    value={action.url || ''}\n                    onChange={(e) => updateAction(index, { url: e.target.value })}\n                    placeholder=\"https://example.com\"\n                  />\n                </div>\n                <div className=\"property-field\">\n                  <label>\n                    <input\n                      type=\"checkbox\"\n                      checked={action.openInNewTab || false}\n                      onChange={(e) => updateAction(index, { openInNewTab: e.target.checked })}\n                    />\n                       \n                  </label>\n                </div>\n              </>\n            )}\n\n            {/*   */}\n            {action.type === 'page' && (\n              <div className=\"property-field\">\n                <label>ID </label>\n                <input\n                  type=\"text\"\n                  value={action.pageId || ''}\n                  onChange={(e) => updateAction(index, { pageId: e.target.value })}\n                  placeholder=\"page-1\"\n                />\n                <div style={{ fontSize: '11px', color: '#888', marginTop: '4px' }}>\n                   ID   \n                </div>\n              </div>\n            )}\n\n            {/*  popup */}\n            {action.type === 'popup' && (\n              <>\n                <div className=\"property-field\">\n                  <label> popup</label>\n                  <input\n                    type=\"text\"\n                    value={action.popupTitle || ''}\n                    onChange={(e) => updateAction(index, { popupTitle: e.target.value })}\n                    placeholder=\"\"\n                  />\n                </div>\n                <div className=\"property-field\">\n                  <label> popup</label>\n                  <textarea\n                    value={action.popupContent || ''}\n                    onChange={(e) => updateAction(index, { popupContent: e.target.value })}\n                    rows={4}\n                    placeholder=\" ...\"\n                  />\n                </div>\n                <div style={{ display: 'flex', gap: '12px' }}>\n                  <div className=\"property-field\" style={{ flex: 1 }}>\n                    <label> (px)</label>\n                    <input\n                      type=\"number\"\n                      value={action.popupWidth || 400}\n                      onChange={(e) => updateAction(index, { popupWidth: parseInt(e.target.value) })}\n                      min={200}\n                      max={1000}\n                    />\n                  </div>\n                  <div className=\"property-field\" style={{ flex: 1 }}>\n                    <label> (px)</label>\n                    <input\n                      type=\"number\"\n                      value={action.popupHeight || 300}\n                      onChange={(e) => updateAction(index, { popupHeight: parseInt(e.target.value) })}\n                      min={150}\n                      max={800}\n                    />\n                  </div>\n                </div>\n              </>\n            )}\n\n            {/*  /  */}\n            {(action.type === 'widget_show' || action.type === 'widget_hide') && (\n              <div className=\"property-field\">\n                <label> </label>\n                <select\n                  value={action.targetWidgetId || ''}\n                  onChange={(e) => updateAction(index, { targetWidgetId: e.target.value })}\n                >\n                  <option value=\"\"> ...</option>\n                  {allWidgets\n                    .filter(w => w.id !== widget.id)\n                    .map(w => (\n                      <option key={w.id} value={w.id}>\n                        {w.type} - {w.id}\n                      </option>\n                    ))}\n                </select>\n              </div>\n            )}\n\n            {/*    */}\n            {(action.type === 'video_play' || action.type === 'video_stop') && (\n              <div className=\"property-field\">\n                <label> </label>\n                <select\n                  value={action.targetWidgetId || ''}\n                  onChange={(e) => updateAction(index, { targetWidgetId: e.target.value })}\n                >\n                  <option value=\"\"> ...</option>\n                  {allWidgets\n                    .filter(w => w.type === 'video')\n                    .map(w => (\n                      <option key={w.id} value={w.id}>\n                        Video - {w.id}\n                      </option>\n                    ))}\n                </select>\n              </div>\n            )}\n          </div>\n        </div>\n      ))}\n\n      <button\n        className=\"btn-secondary\"\n        onClick={addAction}\n        style={{ width: '100%', marginTop: '8px' }}\n      >\n          \n      </button>\n    </div>\n  );\n};\n\nexport default ActionEditor;\n","import React from 'react';\nimport { useEditorStore } from '../stores/editorStore';\nimport ActionEditor from './ActionEditor';\nimport './PropertiesPanel.css';\n\nconst PropertiesPanel: React.FC = () => {\n  const { project, selectedWidgetIds, updateWidget } = useEditorStore();\n\n  if (!project) return null;\n\n  const selectedWidget = selectedWidgetIds.length === 1 \n    ? project.widgets.find(w => w.id === selectedWidgetIds[0])\n    : null;\n\n  const handlePropertyChange = (key: string, value: any) => {\n    if (!selectedWidget) return;\n    updateWidget(selectedWidget.id, { [key]: value });\n  };\n\n  const handlePropertiesChange = (key: string, value: any) => {\n    if (!selectedWidget) return;\n    updateWidget(selectedWidget.id, {\n      properties: {\n        ...selectedWidget.properties,\n        [key]: value\n      }\n    });\n  };\n\n  if (!selectedWidget) {\n    return (\n      <div className=\"properties-panel panel\">\n        <div className=\"properties-header\">\n          <h3></h3>\n        </div>\n        <div className=\"properties-empty\">\n          <p>   </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"properties-panel panel\">\n      <div className=\"properties-header\">\n        <h3></h3>\n        <span className=\"widget-type-badge\">{selectedWidget.type}</span>\n      </div>\n\n      <div className=\"properties-content\">\n        {/*   */}\n        <div className=\"property-section\">\n          <h4>  </h4>\n          \n          <div className=\"property-row\">\n            <div className=\"property-field\">\n              <label>X</label>\n              <input\n                type=\"number\"\n                value={Math.round(selectedWidget.x)}\n                onChange={(e) => handlePropertyChange('x', parseFloat(e.target.value))}\n              />\n            </div>\n            <div className=\"property-field\">\n              <label>Y</label>\n              <input\n                type=\"number\"\n                value={Math.round(selectedWidget.y)}\n                onChange={(e) => handlePropertyChange('y', parseFloat(e.target.value))}\n              />\n            </div>\n          </div>\n\n          <div className=\"property-row\">\n            <div className=\"property-field\">\n              <label></label>\n              <input\n                type=\"number\"\n                value={Math.round(selectedWidget.width)}\n                onChange={(e) => handlePropertyChange('width', parseFloat(e.target.value))}\n                min={1}\n              />\n            </div>\n            <div className=\"property-field\">\n              <label></label>\n              <input\n                type=\"number\"\n                value={Math.round(selectedWidget.height)}\n                onChange={(e) => handlePropertyChange('height', parseFloat(e.target.value))}\n                min={1}\n              />\n            </div>\n          </div>\n\n          <div className=\"property-field\">\n            <label> ()</label>\n            <input\n              type=\"number\"\n              value={Math.round(selectedWidget.rotation || 0)}\n              onChange={(e) => handlePropertyChange('rotation', parseFloat(e.target.value))}\n            />\n          </div>\n\n          <div className=\"property-field\">\n            <label>Z-Index ()</label>\n            <input\n              type=\"number\"\n              min=\"0\"\n              value={selectedWidget.zIndex || 0}\n              onChange={(e) => handlePropertyChange('zIndex', Math.max(0, parseInt(e.target.value) || 0))}\n            />\n            <div style={{ marginTop: '8px', display: 'flex', gap: '4px' }}>\n              <button\n                className=\"btn-secondary\"\n                onClick={() => {\n                  // const { bringToFront } = useEditorStore.getState();\n// bringToFront(selectedWidget.id);\n                }}\n                style={{ flex: 1, fontSize: '11px', padding: '4px' }}\n                title=\"  \"\n              >\n                 \n              </button>\n              <button\n                className=\"btn-secondary\"\n                onClick={() => {\n                  // const { sendToBack } = useEditorStore.getState();\n// sendToBack(selectedWidget.id);\n                }}\n                style={{ flex: 1, fontSize: '11px', padding: '4px' }}\n                title=\"  \"\n              >\n                 \n              </button>\n            </div>\n          </div>\n\n          <div className=\"property-field\" style={{ marginTop: '12px' }}>\n            <button\n              className={selectedWidget.locked ? 'btn-danger' : 'btn-secondary'}\n              onClick={() => {\n                // const { toggleLockWidget } = useEditorStore.getState();\n                // toggleLockWidget(selectedWidget.id);\n              }}\n              style={{ width: '100%' }}\n            >\n              {selectedWidget.locked ? ' ' : ' '}\n            </button>\n            {selectedWidget.locked && (\n              <div style={{ fontSize: '11px', color: '#888', marginTop: '4px' }}>\n                      \n              </div>\n            )}\n          </div>\n        </div>\n\n        {/*    */}\n        <div className=\"property-section\">\n          <h4> </h4>\n          \n          {selectedWidget.type === 'shape' && (\n            <>\n              <div className=\"property-field\">\n                <label> </label>\n                <select\n                  value={selectedWidget.properties.shapeType || 'rectangle'}\n                  onChange={(e) => handlePropertiesChange('shapeType', e.target.value)}\n                >\n                  <option value=\"rectangle\"></option>\n                  <option value=\"circle\"></option>\n                  <option value=\"ellipse\"></option>\n                  <option value=\"triangle\"></option>\n                  <option value=\"pentagon\"></option>\n                  <option value=\"hexagon\"></option>\n                  <option value=\"star\"></option>\n                  <option value=\"diamond\"></option>\n                  <option value=\"line\"></option>\n                  <option value=\"arrow\"></option>\n                </select>\n              </div>\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}></h4>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <input\n                  type=\"color\"\n                  value={selectedWidget.properties.fillColor || '#4a90e2'}\n                  onChange={(e) => handlePropertiesChange('fillColor', e.target.value)}\n                />\n              </div>\n\n              <div className=\"property-field\">\n                <label></label>\n                <input\n                  type=\"range\"\n                  value={(selectedWidget.properties.opacity || 1) * 100}\n                  onChange={(e) => handlePropertiesChange('opacity', parseInt(e.target.value) / 100)}\n                  min={0}\n                  max={100}\n                />\n                <span style={{ fontSize: '11px', color: '#888' }}>\n                  {Math.round((selectedWidget.properties.opacity || 1) * 100)}%\n                </span>\n              </div>\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}></h4>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <input\n                  type=\"number\"\n                  value={selectedWidget.properties.strokeWidth || 0}\n                  onChange={(e) => handlePropertiesChange('strokeWidth', parseInt(e.target.value))}\n                  min={0}\n                  max={20}\n                />\n              </div>\n\n              {selectedWidget.properties.strokeWidth > 0 && (\n                <div className=\"property-field\">\n                  <label> </label>\n                  <input\n                    type=\"color\"\n                    value={selectedWidget.properties.strokeColor || '#2c3e50'}\n                    onChange={(e) => handlePropertiesChange('strokeColor', e.target.value)}\n                  />\n                </div>\n              )}\n\n              {selectedWidget.properties.shapeType === 'rectangle' && (\n                <div className=\"property-field\">\n                  <label> </label>\n                  <input\n                    type=\"number\"\n                    value={selectedWidget.properties.cornerRadius || 0}\n                    onChange={(e) => handlePropertiesChange('cornerRadius', parseInt(e.target.value))}\n                    min={0}\n                    max={100}\n                  />\n                </div>\n              )}\n            </>\n          )}\n\n          {selectedWidget.type === 'button' && (\n            <>\n              {/*   */}\n              <div className=\"property-field\">\n                <label> </label>\n                <select\n                  onChange={(e) => {\n                    const styleName = e.target.value;\n                    if (styleName === 'custom') return;\n                    \n                    //  \n                    import('../utils/buttonStyles').then(({ buttonStyles }) => {\n                      const style = buttonStyles.find(s => s.name === styleName);\n                      if (style) {\n                        updateWidget(selectedWidget.id, {\n                          properties: {\n                            ...selectedWidget.properties,\n                            ...style.properties\n                          }\n                        });\n                      }\n                    });\n                  }}\n                >\n                  <option value=\"custom\"></option>\n                  <option value=\" \"> </option>\n                  <option value=\"\"> (  )</option>\n                  <option value=\"\"> ()</option>\n                  <option value=\"\"> ()</option>\n                  <option value=\"\"></option>\n                  <option value=\"\"></option>\n                  <option value=\"\"></option>\n                  <option value=\"\"></option>\n                  <option value=\"\"></option>\n                  <option value=\"\"></option>\n                </select>\n              </div>\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}></h4>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <input\n                  type=\"text\"\n                  value={selectedWidget.properties.text || 'Button'}\n                  onChange={(e) => handlePropertiesChange('text', e.target.value)}\n                />\n              </div>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <input\n                  type=\"number\"\n                  value={selectedWidget.properties.fontSize || 16}\n                  onChange={(e) => handlePropertiesChange('fontSize', parseInt(e.target.value))}\n                  min={8}\n                  max={72}\n                />\n              </div>\n\n              <div className=\"property-field\">\n                <label></label>\n                <select\n                  value={selectedWidget.properties.fontFamily || 'Arial'}\n                  onChange={(e) => handlePropertiesChange('fontFamily', e.target.value)}\n                >\n                  <option value=\"Arial\">Arial</option>\n                  <option value=\"Helvetica\">Helvetica</option>\n                  <option value=\"Times New Roman\">Times New Roman</option>\n                  <option value=\"Courier New\">Courier New</option>\n                  <option value=\"Verdana\">Verdana</option>\n                  <option value=\"Georgia\">Georgia</option>\n                </select>\n              </div>\n\n              <div className=\"property-field\">\n                <label></label>\n                <select\n                  value={selectedWidget.properties.fontWeight || 'normal'}\n                  onChange={(e) => handlePropertiesChange('fontWeight', e.target.value)}\n                >\n                  <option value=\"normal\"></option>\n                  <option value=\"bold\"></option>\n                </select>\n              </div>\n\n              <div className=\"property-field\">\n                <label></label>\n                <select\n                  value={selectedWidget.properties.textAlign || 'center'}\n                  onChange={(e) => handlePropertiesChange('textAlign', e.target.value)}\n                >\n                  <option value=\"left\">  </option>\n                  <option value=\"center\"> </option>\n                  <option value=\"right\">  </option>\n                </select>\n              </div>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <input\n                  type=\"color\"\n                  value={selectedWidget.properties.textColor || '#ffffff'}\n                  onChange={(e) => handlePropertiesChange('textColor', e.target.value)}\n                />\n              </div>\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}></h4>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <input\n                  type=\"color\"\n                  value={selectedWidget.properties.backgroundColor || '#2ecc71'}\n                  onChange={(e) => handlePropertiesChange('backgroundColor', e.target.value)}\n                />\n              </div>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <input\n                  type=\"number\"\n                  value={selectedWidget.properties.borderRadius || 8}\n                  onChange={(e) => handlePropertiesChange('borderRadius', parseInt(e.target.value))}\n                  min={0}\n                  max={50}\n                />\n              </div>\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}></h4>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <input\n                  type=\"number\"\n                  value={selectedWidget.properties.borderWidth || 0}\n                  onChange={(e) => handlePropertiesChange('borderWidth', parseInt(e.target.value))}\n                  min={0}\n                  max={10}\n                />\n              </div>\n\n              {selectedWidget.properties.borderWidth > 0 && (\n                <>\n                  <div className=\"property-field\">\n                    <label> </label>\n                    <input\n                      type=\"color\"\n                      value={selectedWidget.properties.borderColor || '#000000'}\n                      onChange={(e) => handlePropertiesChange('borderColor', e.target.value)}\n                    />\n                  </div>\n\n                  <div className=\"property-field\">\n                    <label> </label>\n                    <select\n                      value={selectedWidget.properties.borderStyle || 'solid'}\n                      onChange={(e) => handlePropertiesChange('borderStyle', e.target.value)}\n                    >\n                      <option value=\"solid\"></option>\n                      <option value=\"dashed\"></option>\n                      <option value=\"dotted\"></option>\n                    </select>\n                  </div>\n                </>\n              )}\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}></h4>\n\n              <div className=\"property-field\">\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedWidget.properties.shadowEnabled || false}\n                    onChange={(e) => handlePropertiesChange('shadowEnabled', e.target.checked)}\n                  />\n                   \n                </label>\n              </div>\n\n              {selectedWidget.properties.shadowEnabled && (\n                <>\n                  <div className=\"property-field\">\n                    <label> </label>\n                    <input\n                      type=\"color\"\n                      value={selectedWidget.properties.shadowColor || '#000000'}\n                      onChange={(e) => handlePropertiesChange('shadowColor', e.target.value)}\n                    />\n                  </div>\n\n                  <div className=\"property-field\">\n                    <label></label>\n                    <input\n                      type=\"number\"\n                      value={selectedWidget.properties.shadowBlur || 10}\n                      onChange={(e) => handlePropertiesChange('shadowBlur', parseInt(e.target.value))}\n                      min={0}\n                      max={50}\n                    />\n                  </div>\n\n                  <div className=\"property-row\">\n                    <div className=\"property-field\">\n                      <label> X</label>\n                      <input\n                        type=\"number\"\n                        value={selectedWidget.properties.shadowOffsetX || 0}\n                        onChange={(e) => handlePropertiesChange('shadowOffsetX', parseInt(e.target.value))}\n                        min={-50}\n                        max={50}\n                      />\n                    </div>\n                    <div className=\"property-field\">\n                      <label> Y</label>\n                      <input\n                        type=\"number\"\n                        value={selectedWidget.properties.shadowOffsetY || 4}\n                        onChange={(e) => handlePropertiesChange('shadowOffsetY', parseInt(e.target.value))}\n                        min={-50}\n                        max={50}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"property-field\">\n                    <label></label>\n                    <input\n                      type=\"range\"\n                      value={(selectedWidget.properties.shadowOpacity || 0.3) * 100}\n                      onChange={(e) => handlePropertiesChange('shadowOpacity', parseInt(e.target.value) / 100)}\n                      min={0}\n                      max={100}\n                    />\n                    <span style={{ fontSize: '11px', color: '#888' }}>\n                      {Math.round((selectedWidget.properties.shadowOpacity || 0.3) * 100)}%\n                    </span>\n                  </div>\n                </>\n              )}\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}></h4>\n\n              <ActionEditor\n                widget={selectedWidget}\n                onUpdate={(actions) => {\n                  updateWidget(selectedWidget.id, {\n                    properties: {\n                      ...selectedWidget.properties,\n                      actions\n                    }\n                  });\n                }}\n                allWidgets={project.widgets}\n              />\n            </>\n          )}\n\n          {selectedWidget.type === 'text' && (\n            <>\n              <div className=\"property-field\">\n                <label></label>\n                <textarea\n                  value={selectedWidget.properties.text || 'Text'}\n                  onChange={(e) => handlePropertiesChange('text', e.target.value)}\n                  rows={6}\n                />\n              </div>\n\n              <div className=\"property-field\">\n                <label>  </label>\n                <input\n                  type=\"file\"\n                  accept=\".txt,.pdf,.odt,.docx\"\n                  onChange={async (e) => {\n                    const file = e.target.files?.[0];\n                    if (file) {\n                      try {\n                        //   \n                        const { extractTextFromFile, loadRequiredLibraries } = await import('../utils/fileTextExtractor');\n                        \n                        //    \n                        loadRequiredLibraries();\n                        \n                        //   \n                        handlePropertiesChange('text', ' ...');\n                        \n                        //  \n                        const text = await extractTextFromFile(file);\n                        \n                        //  \n                        updateWidget(selectedWidget.id, {\n                          properties: {\n                            ...selectedWidget.properties,\n                            text: text,\n                            sourceFile: file.name\n                          }\n                        });\n                      } catch (error) {\n                        console.error('Error loading file:', error);\n                        alert(`: ${error instanceof Error ? error.message : '   '}`);\n                        handlePropertiesChange('text', 'Text');\n                      }\n                    }\n                    e.target.value = '';\n                  }}\n                />\n                <div style={{ fontSize: '11px', color: '#888', marginTop: '4px' }}>\n                  : TXT, PDF, ODT, DOCX\n                </div>\n                {selectedWidget.properties.sourceFile && (\n                  <div style={{ fontSize: '11px', color: '#888', marginTop: '4px' }}>\n                     {selectedWidget.properties.sourceFile}\n                  </div>\n                )}\n              </div>\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}></h4>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <input\n                  type=\"number\"\n                  value={selectedWidget.properties.fontSize || 16}\n                  onChange={(e) => handlePropertiesChange('fontSize', parseInt(e.target.value))}\n                  min={8}\n                  max={144}\n                />\n              </div>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <select\n                  value={selectedWidget.properties.fontFamily || 'Arial'}\n                  onChange={(e) => handlePropertiesChange('fontFamily', e.target.value)}\n                >\n                  <option value=\"Arial\">Arial</option>\n                  <option value=\"Helvetica\">Helvetica</option>\n                  <option value=\"Times New Roman\">Times New Roman</option>\n                  <option value=\"Courier New\">Courier New</option>\n                  <option value=\"Verdana\">Verdana</option>\n                  <option value=\"Georgia\">Georgia</option>\n                  <option value=\"Comic Sans MS\">Comic Sans MS</option>\n                  <option value=\"Impact\">Impact</option>\n                </select>\n              </div>\n\n              <div className=\"property-field\">\n                <label></label>\n                <select\n                  value={selectedWidget.properties.fontWeight || 'normal'}\n                  onChange={(e) => handlePropertiesChange('fontWeight', e.target.value)}\n                >\n                  <option value=\"normal\"></option>\n                  <option value=\"bold\"></option>\n                </select>\n              </div>\n\n              <div className=\"property-field\">\n                <label></label>\n                <select\n                  value={selectedWidget.properties.fontStyle || 'normal'}\n                  onChange={(e) => handlePropertiesChange('fontStyle', e.target.value)}\n                >\n                  <option value=\"normal\"></option>\n                  <option value=\"italic\"></option>\n                </select>\n              </div>\n\n              <div className=\"property-field\">\n                <label></label>\n                <select\n                  value={selectedWidget.properties.textDecoration || 'none'}\n                  onChange={(e) => handlePropertiesChange('textDecoration', e.target.value)}\n                >\n                  <option value=\"none\"></option>\n                  <option value=\"underline\"></option>\n                  <option value=\"line-through\"></option>\n                </select>\n              </div>\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}></h4>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <select\n                  value={selectedWidget.properties.textAlign || 'left'}\n                  onChange={(e) => handlePropertiesChange('textAlign', e.target.value)}\n                >\n                  <option value=\"left\">  </option>\n                  <option value=\"center\"> </option>\n                  <option value=\"right\">  </option>\n                </select>\n              </div>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <select\n                  value={selectedWidget.properties.verticalAlign || 'top'}\n                  onChange={(e) => handlePropertiesChange('verticalAlign', e.target.value)}\n                >\n                  <option value=\"top\"></option>\n                  <option value=\"middle\"> </option>\n                  <option value=\"bottom\"></option>\n                </select>\n              </div>\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}>  </h4>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <input\n                  type=\"color\"\n                  value={selectedWidget.properties.textColor || '#000000'}\n                  onChange={(e) => handlePropertiesChange('textColor', e.target.value)}\n                />\n              </div>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <input\n                  type=\"color\"\n                  value={selectedWidget.properties.backgroundColor || '#ffffff'}\n                  onChange={(e) => handlePropertiesChange('backgroundColor', e.target.value)}\n                />\n                <label style={{ marginTop: '4px', fontSize: '11px' }}>\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedWidget.properties.backgroundColor === 'transparent'}\n                    onChange={(e) => handlePropertiesChange('backgroundColor', e.target.checked ? 'transparent' : '#ffffff')}\n                  />\n                   \n                </label>\n              </div>\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}></h4>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <input\n                  type=\"number\"\n                  value={selectedWidget.properties.lineHeight || 1.2}\n                  onChange={(e) => handlePropertiesChange('lineHeight', parseFloat(e.target.value))}\n                  min={0.5}\n                  max={3}\n                  step={0.1}\n                />\n              </div>\n\n              <div className=\"property-field\">\n                <label>  </label>\n                <input\n                  type=\"number\"\n                  value={selectedWidget.properties.padding || 8}\n                  onChange={(e) => handlePropertiesChange('padding', parseInt(e.target.value))}\n                  min={0}\n                  max={50}\n                />\n              </div>\n            </>\n          )}\n\n          {selectedWidget.type === 'image' && (\n            <>\n              <h4 style={{ marginTop: '0', marginBottom: '12px', fontSize: '13px', fontWeight: 'bold' }}></h4>\n              \n              <div className=\"property-field\">\n                <label>\n                  <input\n                    type=\"radio\"\n                    name=\"imageMode\"\n                    checked={!selectedWidget.properties.galleryMode}\n                    onChange={() => handlePropertiesChange('galleryMode', false)}\n                  />\n                  {' '} \n                </label>\n              </div>\n              \n              <div className=\"property-field\">\n                <label>\n                  <input\n                    type=\"radio\"\n                    name=\"imageMode\"\n                    checked={selectedWidget.properties.galleryMode || false}\n                    onChange={() => {\n                      handlePropertiesChange('galleryMode', true);\n                      //  sources   \n                      if (!selectedWidget.properties.sources) {\n                        handlePropertiesChange('sources', []);\n                      }\n                    }}\n                  />\n                  {' '} \n                </label>\n              </div>\n\n              {!selectedWidget.properties.galleryMode && (\n                <>\n                  <div className=\"property-field\">\n                    <label>URL </label>\n                    <input\n                      type=\"text\"\n                      value={selectedWidget.properties.src || ''}\n                      onChange={(e) => handlePropertiesChange('src', e.target.value)}\n                      placeholder=\"https://example.com/image.jpg\"\n                    />\n                  </div>\n                  \n                  <div className=\"property-field\">\n                    <label> </label>\n                    <input\n                      type=\"file\"\n                      accept=\"image/*\"\n                      onChange={(e) => {\n                        const file = e.target.files?.[0];\n                        if (file) {\n                          const reader = new FileReader();\n                          reader.onload = (event) => {\n                            const result = event.target?.result as string;\n                            if (result) {\n                              updateWidget(selectedWidget.id, {\n                                properties: {\n                                  ...selectedWidget.properties,\n                                  src: result,\n                                  isLocalFile: true,\n                                  fileName: file.name\n                                }\n                              });\n                            }\n                          };\n                          reader.readAsDataURL(file);\n                        }\n                        e.target.value = '';\n                      }}\n                    />\n                    {selectedWidget.properties.isLocalFile && selectedWidget.properties.fileName && (\n                      <div style={{ fontSize: '11px', color: '#888', marginTop: '4px' }}>\n                         {selectedWidget.properties.fileName}\n                      </div>\n                    )}\n                  </div>\n                </>\n              )}\n\n              {selectedWidget.properties.galleryMode && (\n                <>\n                  <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}> (. 50)</h4>\n                  \n                  <div style={{ \n                    maxHeight: '200px', \n                    overflowY: 'auto', \n                    border: '1px solid #ddd', \n                    borderRadius: '4px',\n                    padding: '8px',\n                    marginBottom: '8px',\n                    backgroundColor: '#fafafa'\n                  }}>\n                    {(selectedWidget.properties.sources || []).map((source: any, index: number) => (\n                      <div key={source.id} style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '8px',\n                        marginBottom: '6px',\n                        padding: '6px',\n                        backgroundColor: '#fff',\n                        borderRadius: '4px',\n                        border: '1px solid #e0e0e0'\n                      }}>\n                        <span style={{ fontSize: '11px', color: '#666', minWidth: '20px' }}>\n                          {index + 1}.\n                        </span>\n                        <span style={{ fontSize: '11px', color: source.type === 'url' ? '#007acc' : '#2ecc71' }}>\n                          {source.type === 'url' ? '' : ''}\n                        </span>\n                        <span style={{ \n                          flex: 1, \n                          fontSize: '11px', \n                          overflow: 'hidden',\n                          textOverflow: 'ellipsis',\n                          whiteSpace: 'nowrap'\n                        }}>\n                          {source.value.length > 40 ? source.value.substring(0, 40) + '...' : source.value}\n                        </span>\n                        <button\n                          onClick={() => {\n                            const newSources = (selectedWidget.properties.sources || []).filter((_: any, i: number) => i !== index);\n                            handlePropertiesChange('sources', newSources);\n                          }}\n                          style={{\n                            padding: '2px 6px',\n                            fontSize: '10px',\n                            border: 'none',\n                            background: '#e74c3c',\n                            color: '#fff',\n                            borderRadius: '3px',\n                            cursor: 'pointer'\n                          }}\n                        >\n                          \n                        </button>\n                      </div>\n                    ))}\n                    \n                    {(!selectedWidget.properties.sources || selectedWidget.properties.sources.length === 0) && (\n                      <div style={{ textAlign: 'center', color: '#999', fontSize: '11px', padding: '20px' }}>\n                           \n                      </div>\n                    )}\n                  </div>\n\n                  <div style={{ display: 'flex', gap: '8px', marginBottom: '8px' }}>\n                    <input\n                      type=\"file\"\n                      accept=\"image/*\"\n                      multiple\n                      id={`gallery-upload-${selectedWidget.id}`}\n                      style={{ display: 'none' }}\n                      onChange={(e) => {\n                        const files = Array.from(e.target.files || []);\n                        const currentSources = selectedWidget.properties.sources || [];\n                        \n                        if (currentSources.length + files.length > 50) {\n                          alert(' 50   ');\n                          e.target.value = '';\n                          return;\n                        }\n\n                        let loadedCount = 0;\n                        const newSources: any[] = [];\n\n                        files.forEach(file => {\n                          const reader = new FileReader();\n                          reader.onload = (event) => {\n                            const result = event.target?.result as string;\n                            if (result) {\n                              newSources.push({\n                                id: `img-${Date.now()}-${Math.random()}`,\n                                type: 'local',\n                                value: result\n                              });\n                            }\n                            loadedCount++;\n                            \n                            if (loadedCount === files.length) {\n                              handlePropertiesChange('sources', [...currentSources, ...newSources]);\n                            }\n                          };\n                          reader.readAsDataURL(file);\n                        });\n\n                        e.target.value = '';\n                      }}\n                    />\n                    <button\n                      onClick={() => {\n                        document.getElementById(`gallery-upload-${selectedWidget.id}`)?.click();\n                      }}\n                      className=\"btn-secondary\"\n                      style={{ flex: 1, fontSize: '11px', padding: '6px' }}\n                    >\n                        \n                    </button>\n                    \n                    <button\n                      onClick={() => {\n                        const url = prompt(' URL :');\n                        if (url) {\n                          const currentSources = selectedWidget.properties.sources || [];\n                          if (currentSources.length >= 50) {\n                            alert(' 50   ');\n                            return;\n                          }\n                          handlePropertiesChange('sources', [\n                            ...currentSources,\n                            {\n                              id: `img-${Date.now()}-${Math.random()}`,\n                              type: 'url',\n                              value: url\n                            }\n                          ]);\n                        }\n                      }}\n                      className=\"btn-secondary\"\n                      style={{ flex: 1, fontSize: '11px', padding: '6px' }}\n                    >\n                        URL\n                    </button>\n                  </div>\n\n                  <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}></h4>\n                  \n                  <div className=\"property-field\">\n                    <label>\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedWidget.properties.autoSwitch || false}\n                        onChange={(e) => handlePropertiesChange('autoSwitch', e.target.checked)}\n                      />\n                      {' '} \n                    </label>\n                  </div>\n\n                  {selectedWidget.properties.autoSwitch && (\n                    <>\n                      <div className=\"property-field\">\n                        <label> ()</label>\n                        <input\n                          type=\"number\"\n                          min=\"1\"\n                          max=\"60\"\n                          value={selectedWidget.properties.switchInterval || 3}\n                          onChange={(e) => handlePropertiesChange('switchInterval', parseInt(e.target.value) || 3)}\n                        />\n                      </div>\n                    </>\n                  )}\n\n                  <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}> </h4>\n                  \n                  <div className=\"property-field\">\n                    <label></label>\n                    <select\n                      value={selectedWidget.properties.transition || 'fade'}\n                      onChange={(e) => handlePropertiesChange('transition', e.target.value)}\n                    >\n                      <option value=\"none\"> ()</option>\n                      <option value=\"fade\"></option>\n                      <option value=\"slide\"></option>\n                      <option value=\"zoom\"></option>\n                    </select>\n                  </div>\n\n                  <div className=\"property-field\">\n                    <label> ()</label>\n                    <input\n                      type=\"number\"\n                      min=\"100\"\n                      max=\"2000\"\n                      step=\"100\"\n                      value={selectedWidget.properties.transitionDuration || 500}\n                      onChange={(e) => handlePropertiesChange('transitionDuration', parseInt(e.target.value) || 500)}\n                    />\n                  </div>\n\n                  <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}></h4>\n                  \n                  <div className=\"property-field\">\n                    <label>\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedWidget.properties.showControls !== false}\n                        onChange={(e) => handlePropertiesChange('showControls', e.target.checked)}\n                      />\n                      {' '} \n                    </label>\n                  </div>\n\n                  <div className=\"property-field\">\n                    <label>\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedWidget.properties.showIndicators !== false}\n                        onChange={(e) => handlePropertiesChange('showIndicators', e.target.checked)}\n                      />\n                      {' '} \n                    </label>\n                  </div>\n\n                  <div className=\"property-field\">\n                    <label>\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedWidget.properties.loop !== false}\n                        onChange={(e) => handlePropertiesChange('loop', e.target.checked)}\n                      />\n                      {' '}\n                    </label>\n                  </div>\n                </>\n              )}\n\n              <div className=\"property-field\">\n                <label> </label>\n                <select\n                  value={selectedWidget.properties.objectFit || 'contain'}\n                  onChange={(e) => handlePropertiesChange('objectFit', e.target.value)}\n                >\n                  <option value=\"contain\"> ()</option>\n                  <option value=\"cover\">  </option>\n                  <option value=\"fill\"></option>\n                  <option value=\"scale-down\"> </option>\n                  <option value=\"adaptive\"> ( )</option>\n                </select>\n              </div>\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}> </h4>\n              \n              <div className=\"property-field\">\n                <label></label>\n                <select\n                  value={selectedWidget.properties.clipShape || 'rectangle'}\n                  onChange={(e) => handlePropertiesChange('clipShape', e.target.value)}\n                >\n                  <option value=\"rectangle\"> </option>\n                  <option value=\"circle\"> </option>\n                  <option value=\"ellipse\"> </option>\n                  <option value=\"triangle\"> </option>\n                  <option value=\"diamond\"> </option>\n                  <option value=\"pentagon\"> </option>\n                  <option value=\"hexagon\"> </option>\n                  <option value=\"octagon\"> </option>\n                  <option value=\"rounded-rectangle\">  </option>\n                </select>\n              </div>\n\n              {selectedWidget.properties.clipShape === 'rounded-rectangle' && (\n                <div className=\"property-field\">\n                  <label>  (px)</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"100\"\n                    value={selectedWidget.properties.cornerRadius || 20}\n                    onChange={(e) => handlePropertiesChange('cornerRadius', parseInt(e.target.value) || 20)}\n                  />\n                </div>\n              )}\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}></h4>\n              \n              <div className=\"property-field\">\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedWidget.properties.borderEnabled || false}\n                    onChange={(e) => handlePropertiesChange('borderEnabled', e.target.checked)}\n                  />\n                   \n                </label>\n              </div>\n\n              {selectedWidget.properties.borderEnabled && (\n                <>\n                  <div className=\"property-field\">\n                    <label> </label>\n                    <select\n                      value={selectedWidget.properties.borderStyle || 'solid'}\n                      onChange={(e) => handlePropertiesChange('borderStyle', e.target.value)}\n                    >\n                      <option value=\"solid\"></option>\n                      <option value=\"dashed\"></option>\n                      <option value=\"dotted\"></option>\n                      <option value=\"double\"></option>\n                    </select>\n                  </div>\n\n                  <div className=\"property-field\">\n                    <label>  (px)</label>\n                    <input\n                      type=\"number\"\n                      value={selectedWidget.properties.borderWidth || 2}\n                      onChange={(e) => handlePropertiesChange('borderWidth', parseFloat(e.target.value))}\n                      min={1}\n                      max={20}\n                    />\n                  </div>\n\n                  <div className=\"property-field\">\n                    <label> </label>\n                    <input\n                      type=\"color\"\n                      value={selectedWidget.properties.borderColor || '#000000'}\n                      onChange={(e) => handlePropertiesChange('borderColor', e.target.value)}\n                    />\n                  </div>\n                </>\n              )}\n            </>\n          )}\n\n          {selectedWidget.type === 'video' && (\n            <>\n              <div className=\"property-field\">\n                <label> </label>\n                <select\n                  value={selectedWidget.properties.sourceType || 'url'}\n                  onChange={(e) => handlePropertiesChange('sourceType', e.target.value)}\n                >\n                  <option value=\"url\">URL / </option>\n                  <option value=\"rtsp\">RTSP </option>\n                </select>\n              </div>\n\n              {selectedWidget.properties.sourceType === 'rtsp' ? (\n                <>\n                  <div className=\"property-field\">\n                    <label>RTSP URL</label>\n                    <input\n                      type=\"text\"\n                      value={selectedWidget.properties.rtspUrl || ''}\n                      onChange={(e) => handlePropertiesChange('rtspUrl', e.target.value)}\n                      placeholder=\"rtsp://username:password@host:554/stream\"\n                    />\n                    <div style={{ fontSize: '11px', color: '#888', marginTop: '4px' }}>\n                      : rtsp://admin:12345@192.168.1.100:554/live\n                    </div>\n                  </div>\n                </>\n              ) : (\n                <>\n                  <div className=\"property-field\">\n                    <label>URL </label>\n                    <input\n                      type=\"text\"\n                      value={selectedWidget.properties.src || ''}\n                      onChange={(e) => handlePropertiesChange('src', e.target.value)}\n                      placeholder=\"https://example.com/video.mp4\"\n                    />\n                  </div>\n                  \n                  <div className=\"property-field\">\n                    <label> </label>\n                    <input\n                      type=\"file\"\n                      accept=\"video/*\"\n                      onChange={(e) => {\n                        const file = e.target.files?.[0];\n                        if (file) {\n                          const reader = new FileReader();\n                          reader.onload = (event) => {\n                            const result = event.target?.result as string;\n                            if (result) {\n                              updateWidget(selectedWidget.id, {\n                                properties: {\n                                  ...selectedWidget.properties,\n                                  src: result,\n                                  isLocalFile: true,\n                                  fileName: file.name\n                                }\n                              });\n                            }\n                          };\n                          reader.readAsDataURL(file);\n                        }\n                        e.target.value = '';\n                      }}\n                    />\n                    {selectedWidget.properties.isLocalFile && selectedWidget.properties.fileName && (\n                      <div style={{ fontSize: '11px', color: '#888', marginTop: '4px' }}>\n                         {selectedWidget.properties.fileName}\n                      </div>\n                    )}\n                  </div>\n                </>\n              )}\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}></h4>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <select\n                  value={selectedWidget.properties.objectFit || 'contain'}\n                  onChange={(e) => handlePropertiesChange('objectFit', e.target.value)}\n                >\n                  <option value=\"contain\"> ()</option>\n                  <option value=\"cover\">  </option>\n                  <option value=\"fill\"></option>\n                  <option value=\"scale-down\"> </option>\n                  <option value=\"adaptive\"> ( )</option>\n                </select>\n              </div>\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}></h4>\n\n              <div className=\"property-field\">\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedWidget.properties.autoplay || false}\n                    onChange={(e) => handlePropertiesChange('autoplay', e.target.checked)}\n                  />\n                  \n                </label>\n              </div>\n\n              <div className=\"property-field\">\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedWidget.properties.loop || false}\n                    onChange={(e) => handlePropertiesChange('loop', e.target.checked)}\n                  />\n                   (loop)\n                </label>\n              </div>\n\n              <div className=\"property-field\">\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedWidget.properties.muted !== false}\n                    onChange={(e) => handlePropertiesChange('muted', e.target.checked)}\n                  />\n                    (muted)\n                </label>\n              </div>\n\n              <div className=\"property-field\">\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedWidget.properties.controls !== false}\n                    onChange={(e) => handlePropertiesChange('controls', e.target.checked)}\n                  />\n                    \n                </label>\n              </div>\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}></h4>\n\n              <div className=\"property-field\">\n                <label>\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedWidget.properties.borderEnabled || false}\n                    onChange={(e) => handlePropertiesChange('borderEnabled', e.target.checked)}\n                  />\n                   \n                </label>\n              </div>\n\n              {selectedWidget.properties.borderEnabled && (\n                <>\n                  <div className=\"property-field\">\n                    <label> </label>\n                    <select\n                      value={selectedWidget.properties.borderStyle || 'solid'}\n                      onChange={(e) => handlePropertiesChange('borderStyle', e.target.value)}\n                    >\n                      <option value=\"solid\"></option>\n                      <option value=\"dashed\"></option>\n                      <option value=\"dotted\"></option>\n                      <option value=\"double\"></option>\n                    </select>\n                  </div>\n\n                  <div className=\"property-field\">\n                    <label> </label>\n                    <input\n                      type=\"number\"\n                      value={selectedWidget.properties.borderWidth || 2}\n                      onChange={(e) => handlePropertiesChange('borderWidth', parseInt(e.target.value))}\n                      min={1}\n                      max={20}\n                    />\n                  </div>\n\n                  <div className=\"property-field\">\n                    <label> </label>\n                    <input\n                      type=\"color\"\n                      value={selectedWidget.properties.borderColor || '#000000'}\n                      onChange={(e) => handlePropertiesChange('borderColor', e.target.value)}\n                    />\n                  </div>\n                </>\n              )}\n            </>\n          )}\n\n          {selectedWidget.type === 'menu' && (\n            <>\n              <div className=\"property-field\">\n                <label></label>\n                <select\n                  value={selectedWidget.properties.orientation || 'horizontal'}\n                  onChange={(e) => handlePropertiesChange('orientation', e.target.value)}\n                >\n                  <option value=\"horizontal\"></option>\n                  <option value=\"vertical\"></option>\n                </select>\n              </div>\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}> </h4>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <input\n                  type=\"color\"\n                  value={selectedWidget.properties.backgroundColor || '#2c3e50'}\n                  onChange={(e) => handlePropertiesChange('backgroundColor', e.target.value)}\n                />\n              </div>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <input\n                  type=\"color\"\n                  value={selectedWidget.properties.textColor || '#ffffff'}\n                  onChange={(e) => handlePropertiesChange('textColor', e.target.value)}\n                />\n              </div>\n\n              <div className=\"property-field\">\n                <label>  </label>\n                <input\n                  type=\"color\"\n                  value={selectedWidget.properties.hoverColor || '#34495e'}\n                  onChange={(e) => handlePropertiesChange('hoverColor', e.target.value)}\n                />\n              </div>\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}></h4>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <input\n                  type=\"number\"\n                  value={selectedWidget.properties.fontSize || 16}\n                  onChange={(e) => handlePropertiesChange('fontSize', parseInt(e.target.value))}\n                  min={10}\n                  max={32}\n                />\n              </div>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <select\n                  value={selectedWidget.properties.fontFamily || 'Arial'}\n                  onChange={(e) => handlePropertiesChange('fontFamily', e.target.value)}\n                >\n                  <option value=\"Arial\">Arial</option>\n                  <option value=\"Helvetica\">Helvetica</option>\n                  <option value=\"Times New Roman\">Times New Roman</option>\n                  <option value=\"Verdana\">Verdana</option>\n                  <option value=\"Georgia\">Georgia</option>\n                </select>\n              </div>\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}></h4>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <input\n                  type=\"number\"\n                  value={selectedWidget.properties.itemHeight || 40}\n                  onChange={(e) => handlePropertiesChange('itemHeight', parseInt(e.target.value))}\n                  min={30}\n                  max={100}\n                />\n              </div>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <input\n                  type=\"number\"\n                  value={selectedWidget.properties.itemPadding || 16}\n                  onChange={(e) => handlePropertiesChange('itemPadding', parseInt(e.target.value))}\n                  min={8}\n                  max={40}\n                />\n              </div>\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}></h4>\n\n              <div className=\"property-field\">\n                <label>  </label>\n                <input\n                  type=\"color\"\n                  value={selectedWidget.properties.submenuBackgroundColor || '#34495e'}\n                  onChange={(e) => handlePropertiesChange('submenuBackgroundColor', e.target.value)}\n                />\n              </div>\n\n              <div className=\"property-field\">\n                <label>  </label>\n                <input\n                  type=\"color\"\n                  value={selectedWidget.properties.submenuTextColor || '#ffffff'}\n                  onChange={(e) => handlePropertiesChange('submenuTextColor', e.target.value)}\n                />\n              </div>\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}></h4>\n\n              <div className=\"property-field\">\n                <label> </label>\n                <input\n                  type=\"number\"\n                  value={selectedWidget.properties.borderWidth || 0}\n                  onChange={(e) => handlePropertiesChange('borderWidth', parseInt(e.target.value))}\n                  min={0}\n                  max={10}\n                />\n              </div>\n\n              {selectedWidget.properties.borderWidth > 0 && (\n                <div className=\"property-field\">\n                  <label> </label>\n                  <input\n                    type=\"color\"\n                    value={selectedWidget.properties.borderColor || '#000000'}\n                    onChange={(e) => handlePropertiesChange('borderColor', e.target.value)}\n                  />\n                </div>\n              )}\n\n              <h4 style={{ marginTop: '16px', marginBottom: '8px', fontSize: '12px' }}> </h4>\n\n              <div className=\"property-field\">\n                <button\n                  className=\"btn-secondary\"\n                  onClick={() => {\n                    const items = selectedWidget.properties.items || [];\n                    const newItem = {\n                      id: `item-${Date.now()}`,\n                      label: ' '\n                    };\n                    updateWidget(selectedWidget.id, {\n                      properties: {\n                        ...selectedWidget.properties,\n                        items: [...items, newItem]\n                      }\n                    });\n                  }}\n                  style={{ width: '100%' }}\n                >\n                    \n                </button>\n              </div>\n\n              <div style={{ maxHeight: '300px', overflowY: 'auto' }}>\n                {(selectedWidget.properties.items || []).map((item: any, index: number) => (\n                  <div\n                    key={item.id}\n                    style={{\n                      background: '#252525',\n                      padding: '12px',\n                      marginBottom: '8px',\n                      borderRadius: '6px',\n                      border: '1px solid #333'\n                    }}\n                  >\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '8px' }}>\n                      <strong style={{ fontSize: '12px', color: '#aaa' }}> {index + 1}</strong>\n                      <button\n                        className=\"btn-danger\"\n                        onClick={() => {\n                          const items = selectedWidget.properties.items || [];\n                          updateWidget(selectedWidget.id, {\n                            properties: {\n                              ...selectedWidget.properties,\n                              items: items.filter((i: any) => i.id !== item.id)\n                            }\n                          });\n                        }}\n                        style={{ fontSize: '11px', padding: '4px 8px' }}\n                      >\n                         \n                      </button>\n                    </div>\n\n                    <div className=\"property-field\">\n                      <label></label>\n                      <input\n                        type=\"text\"\n                        value={item.label}\n                        onChange={(e) => {\n                          const items = [...(selectedWidget.properties.items || [])];\n                          items[index] = { ...items[index], label: e.target.value };\n                          updateWidget(selectedWidget.id, {\n                            properties: {\n                              ...selectedWidget.properties,\n                              items\n                            }\n                          });\n                        }}\n                      />\n                    </div>\n\n                    {/*    */}\n                    <div style={{ marginTop: '12px' }}>\n                      <div style={{ fontSize: '11px', color: '#888', marginBottom: '8px' }}>\n                          \n                      </div>\n                      <ActionEditor\n                        widget={{ ...selectedWidget, id: item.id, properties: item }}\n                        onUpdate={(actions) => {\n                          const items = [...(selectedWidget.properties.items || [])];\n                          items[index] = { ...items[index], actions };\n                          updateWidget(selectedWidget.id, {\n                            properties: {\n                              ...selectedWidget.properties,\n                              items\n                            }\n                          });\n                        }}\n                        allWidgets={project.widgets}\n                      />\n                    </div>\n\n                    {/*  */}\n                    <div style={{ marginTop: '12px', paddingLeft: '12px', borderLeft: '2px solid #444' }}>\n                      <div style={{ fontSize: '11px', color: '#888', marginBottom: '8px' }}>\n                        \n                      </div>\n\n                      <button\n                        className=\"btn-secondary\"\n                        onClick={() => {\n                          const items = [...(selectedWidget.properties.items || [])];\n                          const children = items[index].children || [];\n                          items[index] = {\n                            ...items[index],\n                            children: [...children, {\n                              id: `subitem-${Date.now()}`,\n                              label: ''\n                            }]\n                          };\n                          updateWidget(selectedWidget.id, {\n                            properties: {\n                              ...selectedWidget.properties,\n                              items\n                            }\n                          });\n                        }}\n                        style={{ width: '100%', fontSize: '11px', padding: '6px', marginBottom: '8px' }}\n                      >\n                          \n                      </button>\n\n                      {(item.children || []).map((child: any, childIndex: number) => (\n                        <div\n                          key={child.id}\n                          style={{\n                            background: '#1e1e1e',\n                            padding: '8px',\n                            marginBottom: '6px',\n                            borderRadius: '4px',\n                            border: '1px solid #2a2a2a'\n                          }}\n                        >\n                          <div style={{ display: 'flex', gap: '6px', alignItems: 'center' }}>\n                            <input\n                              type=\"text\"\n                              value={child.label}\n                              onChange={(e) => {\n                                const items = [...(selectedWidget.properties.items || [])];\n                                const children = [...(items[index].children || [])];\n                                children[childIndex] = { ...children[childIndex], label: e.target.value };\n                                items[index] = { ...items[index], children };\n                                updateWidget(selectedWidget.id, {\n                                  properties: {\n                                    ...selectedWidget.properties,\n                                    items\n                                  }\n                                });\n                              }}\n                              style={{ flex: 1, fontSize: '12px', padding: '4px 8px' }}\n                            />\n                            <button\n                              className=\"btn-danger\"\n                              onClick={() => {\n                                const items = [...(selectedWidget.properties.items || [])];\n                                const children = items[index].children?.filter((c: any) => c.id !== child.id) || [];\n                                items[index] = { ...items[index], children };\n                                updateWidget(selectedWidget.id, {\n                                  properties: {\n                                    ...selectedWidget.properties,\n                                    items\n                                  }\n                                });\n                              }}\n                              style={{ fontSize: '11px', padding: '4px 8px' }}\n                            >\n                              \n                            </button>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </>\n          )}\n        </div>\n\n        {/* ID  */}\n        <div className=\"property-section\">\n          <div className=\"property-field\">\n            <label>ID</label>\n            <input\n              type=\"text\"\n              value={selectedWidget.id}\n              disabled\n              style={{ opacity: 0.5, cursor: 'not-allowed' }}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PropertiesPanel;\n","/**\n * Editor Component - \n *      \n */\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useEditorStore } from '../stores/editorStore';\nimport Toolbar from './Toolbar';\nimport Canvas from './Canvas';\nimport WidgetLibrary from './WidgetLibrary';\nimport PropertiesPanel from './PropertiesPanel';\nimport './Editor.css';\n\nconst Editor: React.FC = () => {\n  const [authRefresh, setAuthRefresh] = useState(0);\n  \n  const {\n    project,\n    selectedWidgetIds,\n    copy,\n    paste,\n    cut,\n    deleteWidget,\n    undo,\n    redo\n  } = useEditorStore();\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Ctrl/Cmd + Z - Undo\n      if ((e.ctrlKey || e.metaKey) && e.key === 'z' && !e.shiftKey) {\n        e.preventDefault();\n        undo();\n      }\n      // Ctrl/Cmd + Shift + Z - Redo\n      if ((e.ctrlKey || e.metaKey) && e.key === 'z' && e.shiftKey) {\n        e.preventDefault();\n        redo();\n      }\n      // Ctrl/Cmd + C - Copy\n      if ((e.ctrlKey || e.metaKey) && e.key === 'c') {\n        e.preventDefault();\n        copy();\n      }\n      // Ctrl/Cmd + V - Paste\n      if ((e.ctrlKey || e.metaKey) && e.key === 'v') {\n        e.preventDefault();\n        paste();\n      }\n      // Ctrl/Cmd + X - Cut\n      if ((e.ctrlKey || e.metaKey) && e.key === 'x') {\n        e.preventDefault();\n        cut();\n      }\n      // Delete -   \n      if (e.key === 'Delete') {\n        e.preventDefault();\n        selectedWidgetIds.forEach(id => deleteWidget(id));\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, []);\n\n  //      UI\n  useEffect(() => {\n    const handleLogin = () => {\n      setAuthRefresh(prev => prev + 1);\n    };\n    \n    window.addEventListener('auth:login', handleLogin);\n    return () => window.removeEventListener('auth:login', handleLogin);\n  }, []);\n\n  return (\n    <div className=\"editor\">\n      <Toolbar />\n      <div className=\"editor-main\">\n        <WidgetLibrary />\n        <Canvas />\n        <PropertiesPanel />\n      </div>\n    </div>\n  );\n};\n\nexport default Editor;\n","/**\n * Protected Route -  \n *      \n */\n\nimport React from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { apiClient } from '../../services/api-client';\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode;\n}\n\nexport const ProtectedRoute: React.FC<ProtectedRouteProps> = ({ children }) => {\n  const isAuthenticated = apiClient.isAuthenticated();\n  \n  if (!isAuthenticated) {\n    console.log('[ProtectedRoute] Not authenticated, redirecting to /login');\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  return <>{children}</>;\n};\n\nexport default ProtectedRoute;\n","/**\n * App Component -    \n */\n\nimport React from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport LoginPage from './pages/LoginPage';\nimport Editor from './components/Editor';\nimport ProtectedRoute from './components/auth/ProtectedRoute';\n\nconst App: React.FC = () => {\n  console.log('[App.tsx] App component rendering with Router');\n  return (\n    <BrowserRouter>\n      <Routes>\n        {/*   ->    */}\n        <Route path=\"/\" element={<Navigate to=\"/login\" replace />} />\n        \n        {/*   */}\n        <Route path=\"/login\" element={<LoginPage />} />\n        \n        {/*  ( ) */}\n        <Route \n          path=\"/editor\" \n          element={\n            <ProtectedRoute>\n              <Editor />\n            </ProtectedRoute>\n          } \n        />\n        \n        {/*    ->    */}\n        <Route path=\"*\" element={<Navigate to=\"/login\" replace />} />\n      </Routes>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App'\nimport './index.css'\n\ntry {\n  const root = document.getElementById('root');\n  \n  if (!root) {\n    throw new Error('Root element not found');\n  }\n\n  ReactDOM.createRoot(root).render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n  );\n} catch (error) {\n  console.error('Failed to mount React app:', error);\n  \n  //   \n  document.body.innerHTML = `\n    <div style=\"\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      height: 100vh;\n      background: #1e1e1e;\n      color: #ff6b6b;\n      font-family: Arial, sans-serif;\n      padding: 20px;\n    \">\n      <div style=\"text-align: center; max-width: 600px;\">\n        <h1>   </h1>\n        <p style=\"color: #cccccc;\">   (F12)  .</p>\n        <pre style=\"\n          text-align: left;\n          background: #2a2a2a;\n          padding: 15px;\n          border-radius: 5px;\n          overflow-x: auto;\n          color: #ff6b6b;\n        \">${error}</pre>\n        <button onclick=\"location.reload()\" style=\"\n          margin-top: 20px;\n          padding: 10px 20px;\n          background: #4a90e2;\n          color: white;\n          border: none;\n          border-radius: 5px;\n          cursor: pointer;\n          font-size: 14px;\n        \">\n           \n        </button>\n      </div>\n    </div>\n  `;\n}\n"],"file":"index-DOcnOijB.js"}